(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Xv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qd={exports:{}},Ya={},Hd={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function Ww(){if(ty)return $e;ty=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function F(M,Y,Te){this.props=M,this.context=Y,this.refs=j,this.updater=Te||O}F.prototype.isReactComponent={},F.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=F.prototype;function B(M,Y,Te){this.props=M,this.context=Y,this.refs=j,this.updater=Te||O}var te=B.prototype=new U;te.constructor=B,L(te,F.prototype),te.isPureReactComponent=!0;var ce=Array.isArray,ue=Object.prototype.hasOwnProperty,fe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(M,Y,Te){var be,Fe={},Me=null,Ge=null;if(Y!=null)for(be in Y.ref!==void 0&&(Ge=Y.ref),Y.key!==void 0&&(Me=""+Y.key),Y)ue.call(Y,be)&&!P.hasOwnProperty(be)&&(Fe[be]=Y[be]);var qe=arguments.length-2;if(qe===1)Fe.children=Te;else if(1<qe){for(var et=Array(qe),wt=0;wt<qe;wt++)et[wt]=arguments[wt+2];Fe.children=et}if(M&&M.defaultProps)for(be in qe=M.defaultProps,qe)Fe[be]===void 0&&(Fe[be]=qe[be]);return{$$typeof:n,type:M,key:Me,ref:Ge,props:Fe,_owner:fe.current}}function R(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Te){return Y[Te]})}var x=/\/+/g;function A(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):Y.toString(36)}function Ne(M,Y,Te,be,Fe){var Me=typeof M;(Me==="undefined"||Me==="boolean")&&(M=null);var Ge=!1;if(M===null)Ge=!0;else switch(Me){case"string":case"number":Ge=!0;break;case"object":switch(M.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=M,Fe=Fe(Ge),M=be===""?"."+A(Ge,0):be,ce(Fe)?(Te="",M!=null&&(Te=M.replace(x,"$&/")+"/"),Ne(Fe,Y,Te,"",function(wt){return wt})):Fe!=null&&(C(Fe)&&(Fe=R(Fe,Te+(!Fe.key||Ge&&Ge.key===Fe.key?"":(""+Fe.key).replace(x,"$&/")+"/")+M)),Y.push(Fe)),1;if(Ge=0,be=be===""?".":be+":",ce(M))for(var qe=0;qe<M.length;qe++){Me=M[qe];var et=be+A(Me,qe);Ge+=Ne(Me,Y,Te,et,Fe)}else if(et=I(M),typeof et=="function")for(M=et.call(M),qe=0;!(Me=M.next()).done;)Me=Me.value,et=be+A(Me,qe++),Ge+=Ne(Me,Y,Te,et,Fe);else if(Me==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ye(M,Y,Te){if(M==null)return M;var be=[],Fe=0;return Ne(M,be,"","",function(Me){return Y.call(Te,Me,Fe++)}),be}function nt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(Te){(M._status===0||M._status===-1)&&(M._status=1,M._result=Te)},function(Te){(M._status===0||M._status===-1)&&(M._status=2,M._result=Te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Le={current:null},se={transition:null},we={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:se,ReactCurrentOwner:fe};function he(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Ye,forEach:function(M,Y,Te){Ye(M,function(){Y.apply(this,arguments)},Te)},count:function(M){var Y=0;return Ye(M,function(){Y++}),Y},toArray:function(M){return Ye(M,function(Y){return Y})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},$e.Component=F,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=B,$e.StrictMode=i,$e.Suspense=p,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,$e.act=he,$e.cloneElement=function(M,Y,Te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=L({},M.props),Fe=M.key,Me=M.ref,Ge=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Me=Y.ref,Ge=fe.current),Y.key!==void 0&&(Fe=""+Y.key),M.type&&M.type.defaultProps)var qe=M.type.defaultProps;for(et in Y)ue.call(Y,et)&&!P.hasOwnProperty(et)&&(be[et]=Y[et]===void 0&&qe!==void 0?qe[et]:Y[et])}var et=arguments.length-2;if(et===1)be.children=Te;else if(1<et){qe=Array(et);for(var wt=0;wt<et;wt++)qe[wt]=arguments[wt+2];be.children=qe}return{$$typeof:n,type:M.type,key:Fe,ref:Me,props:be,_owner:Ge}},$e.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},$e.createElement=S,$e.createFactory=function(M){var Y=S.bind(null,M);return Y.type=M,Y},$e.createRef=function(){return{current:null}},$e.forwardRef=function(M){return{$$typeof:d,render:M}},$e.isValidElement=C,$e.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:nt}},$e.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},$e.startTransition=function(M){var Y=se.transition;se.transition={};try{M()}finally{se.transition=Y}},$e.unstable_act=he,$e.useCallback=function(M,Y){return Le.current.useCallback(M,Y)},$e.useContext=function(M){return Le.current.useContext(M)},$e.useDebugValue=function(){},$e.useDeferredValue=function(M){return Le.current.useDeferredValue(M)},$e.useEffect=function(M,Y){return Le.current.useEffect(M,Y)},$e.useId=function(){return Le.current.useId()},$e.useImperativeHandle=function(M,Y,Te){return Le.current.useImperativeHandle(M,Y,Te)},$e.useInsertionEffect=function(M,Y){return Le.current.useInsertionEffect(M,Y)},$e.useLayoutEffect=function(M,Y){return Le.current.useLayoutEffect(M,Y)},$e.useMemo=function(M,Y){return Le.current.useMemo(M,Y)},$e.useReducer=function(M,Y,Te){return Le.current.useReducer(M,Y,Te)},$e.useRef=function(M){return Le.current.useRef(M)},$e.useState=function(M){return Le.current.useState(M)},$e.useSyncExternalStore=function(M,Y,Te){return Le.current.useSyncExternalStore(M,Y,Te)},$e.useTransition=function(){return Le.current.useTransition()},$e.version="18.3.1",$e}var ny;function Wf(){return ny||(ny=1,Hd.exports=Ww()),Hd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function Gw(){if(ry)return Ya;ry=1;var n=Wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,w={},I=null,O=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(O=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:I,ref:O,props:w,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=c,Ya.jsxs=c,Ya}var iy;function Kw(){return iy||(iy=1,qd.exports=Gw()),qd.exports}var ke=Kw(),Q=Wf();const Un=Xv(Q);var Yu={},Wd={exports:{}},fn={},Gd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Qw(){return sy||(sy=1,function(n){function e(se,we){var he=se.length;se.push(we);e:for(;0<he;){var M=he-1>>>1,Y=se[M];if(0<o(Y,we))se[M]=we,se[he]=Y,he=M;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var we=se[0],he=se.pop();if(he!==we){se[0]=he;e:for(var M=0,Y=se.length,Te=Y>>>1;M<Te;){var be=2*(M+1)-1,Fe=se[be],Me=be+1,Ge=se[Me];if(0>o(Fe,he))Me<Y&&0>o(Ge,Fe)?(se[M]=Ge,se[Me]=he,M=Me):(se[M]=Fe,se[be]=he,M=be);else if(Me<Y&&0>o(Ge,he))se[M]=Ge,se[Me]=he,M=Me;else break e}}return we}function o(se,we){var he=se.sortIndex-we.sortIndex;return he!==0?he:se.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,w=null,I=3,O=!1,L=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(se){for(var we=t(y);we!==null;){if(we.callback===null)i(y);else if(we.startTime<=se)i(y),we.sortIndex=we.expirationTime,e(p,we);else break;we=t(y)}}function ce(se){if(j=!1,te(se),!L)if(t(p)!==null)L=!0,nt(ue);else{var we=t(y);we!==null&&Le(ce,we.startTime-se)}}function ue(se,we){L=!1,j&&(j=!1,U(S),S=-1),O=!0;var he=I;try{for(te(we),w=t(p);w!==null&&(!(w.expirationTime>we)||se&&!D());){var M=w.callback;if(typeof M=="function"){w.callback=null,I=w.priorityLevel;var Y=M(w.expirationTime<=we);we=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(p)&&i(p),te(we)}else i(p);w=t(p)}if(w!==null)var Te=!0;else{var be=t(y);be!==null&&Le(ce,be.startTime-we),Te=!1}return Te}finally{w=null,I=he,O=!1}}var fe=!1,P=null,S=-1,R=5,C=-1;function D(){return!(n.unstable_now()-C<R)}function x(){if(P!==null){var se=n.unstable_now();C=se;var we=!0;try{we=P(!0,se)}finally{we?A():(fe=!1,P=null)}}else fe=!1}var A;if(typeof B=="function")A=function(){B(x)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ye=Ne.port2;Ne.port1.onmessage=x,A=function(){Ye.postMessage(null)}}else A=function(){F(x,0)};function nt(se){P=se,fe||(fe=!0,A())}function Le(se,we){S=F(function(){se(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){L||O||(L=!0,nt(ue))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var we=3;break;default:we=I}var he=I;I=we;try{return se()}finally{I=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,we){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var he=I;I=se;try{return we()}finally{I=he}},n.unstable_scheduleCallback=function(se,we,he){var M=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?M+he:M):he=M,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=he+Y,se={id:_++,callback:we,priorityLevel:se,startTime:he,expirationTime:Y,sortIndex:-1},he>M?(se.sortIndex=he,e(y,se),t(p)===null&&se===t(y)&&(j?(U(S),S=-1):j=!0,Le(ce,he-M))):(se.sortIndex=Y,e(p,se),L||O||(L=!0,nt(ue))),se},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(se){var we=I;return function(){var he=I;I=we;try{return se.apply(this,arguments)}finally{I=he}}}}(Kd)),Kd}var oy;function Yw(){return oy||(oy=1,Gd.exports=Qw()),Gd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function Xw(){if(ay)return fn;ay=1;var n=Wf(),e=Yw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function I(r){return p.call(w,r)?!0:p.call(_,r)?!1:y.test(r)?w[r]=!0:(_[r]=!0,!1)}function O(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,l,h){if(s===null||typeof s>"u"||O(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,l,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];F[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function B(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,B);F[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,B);F[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,B);F[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function te(r,s,l,h){var f=F.hasOwnProperty(s)?F[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,l,f,h)&&(l=null),h||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ce=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),fe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),se=Symbol.iterator;function we(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var Te=!1;function be(r,s){if(!r||Te)return"";Te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,k=g.length-1;1<=E&&0<=k&&f[E]!==g[k];)k--;for(;1<=E&&0<=k;E--,k--)if(f[E]!==g[k]){if(E!==1||k!==1)do if(E--,k--,0>k||f[E]!==g[k]){var V=`
`+f[E].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=E&&0<=k);break}}}finally{Te=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Fe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case fe:return"Portal";case R:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case x:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ye:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case nt:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function Ge(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function et(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wt(r){var s=et(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Rn(r){r._valueTracker||(r._valueTracker=wt(r))}function ui(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=et(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function zn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ur(r,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Zi(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=qe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function qs(r,s){s=s.checked,s!=null&&te(r,"checked",s,!1)}function Hs(r,s){qs(r,s);var l=qe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?H(r,s.type,l):s.hasOwnProperty("defaultValue")&&H(r,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function N(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function H(r,s,l){(s!=="number"||zn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var K=Array.isArray;function le(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+qe(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ae(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function re(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(K(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:qe(l)}}function Ie(r,s){var l=qe(s.value),h=qe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Ve(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ue(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ue(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vt,es=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function kn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Or=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(r){Or.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Bn[s]=Bn[r]})});function ci(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Bn.hasOwnProperty(r)&&Bn[r]?(""+s).trim():s+"px"}function ts(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=ci(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var hi=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(r,s){if(s){if(hi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ha(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gs=null,Cn=null,cr=null;function Ks(r){if(r=ba(r)){if(typeof Gs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=hu(s),Gs(r.stateNode,r.type,s))}}function hr(r){Cn?cr?cr.push(r):cr=[r]:Cn=r}function da(){if(Cn){var r=Cn,s=cr;if(cr=Cn=null,Ks(r),s)for(r=0;r<s.length;r++)Ks(s[r])}}function rs(r,s){return r(s)}function fa(){}var br=!1;function pa(r,s,l){if(br)return r(s,l);br=!0;try{return rs(r,s,l)}finally{br=!1,(Cn!==null||cr!==null)&&(fa(),da())}}function yt(r,s){var l=r.stateNode;if(l===null)return null;var h=hu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Qs=!1;if(d)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Qs=!1}function is(r,s,l,h,f,g,E,k,V){var W=Array.prototype.slice.call(arguments,3);try{s.apply(l,W)}catch(ee){this.onError(ee)}}var ss=!1,Ys=null,Hn=!1,ma=null,vh={onError:function(r){ss=!0,Ys=r}};function Xs(r,s,l,h,f,g,E,k,V){ss=!1,Ys=null,is.apply(vh,arguments)}function Ll(r,s,l,h,f,g,E,k,V){if(Xs.apply(this,arguments),ss){if(ss){var W=Ys;ss=!1,Ys=null}else throw Error(t(198));Hn||(Hn=!0,ma=W)}}function Wn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function os(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Gn(r){if(Wn(r)!==r)throw Error(t(188))}function Fl(r){var s=r.alternate;if(!s){if(s=Wn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Gn(f),r;if(g===h)return Gn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var E=!1,k=f.child;k;){if(k===l){E=!0,l=f,h=g;break}if(k===h){E=!0,h=f,l=g;break}k=k.sibling}if(!E){for(k=g.child;k;){if(k===l){E=!0,l=g,h=f;break}if(k===h){E=!0,h=g,l=f;break}k=k.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ga(r){return r=Fl(r),r!==null?Js(r):null}function Js(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Js(r);if(s!==null)return s;r=r.sibling}return null}var Zs=e.unstable_scheduleCallback,ya=e.unstable_cancelCallback,Ml=e.unstable_shouldYield,_h=e.unstable_requestPaint,st=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,di=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,va=e.unstable_LowPriority,jl=e.unstable_IdlePriority,ls=null,vn=null;function $l(r){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Bl,_a=Math.log,zl=Math.LN2;function Bl(r){return r>>>=0,r===0?32:31-(_a(r)/zl|0)|0}var eo=64,to=4194304;function fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function us(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var k=E&~f;k!==0?h=fi(k):(g&=E,g!==0&&(h=fi(g)))}else E=l&~f,E!==0?h=fi(E):g!==0&&(h=fi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-en(s),f=1<<l,h|=r[l],s&=~f;return h}function Eh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-en(g),k=1<<E,V=f[E];V===-1?(!(k&l)||k&h)&&(f[E]=Eh(k,s)):V<=s&&(r.expiredLanes|=k),g&=~k}}function _n(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cs(){var r=eo;return eo<<=1,!(eo&4194240)&&(eo=64),r}function pi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function mi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-en(s),r[s]=l}function it(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-en(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function gi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-en(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var He=0;function yi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ql,no,Hl,Wl,Gl,Ea=!1,dr=[],Ut=null,Kn=null,Qn=null,vi=new Map,xn=new Map,fr=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kl(r,s){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function on(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ba(s),s!==null&&no(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Th(r,s,l,h,f){switch(s){case"focusin":return Ut=on(Ut,r,s,l,h,f),!0;case"dragenter":return Kn=on(Kn,r,s,l,h,f),!0;case"mouseover":return Qn=on(Qn,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return vi.set(g,on(vi.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,xn.set(g,on(xn.get(g)||null,r,s,l,h,f)),!0}return!1}function Ql(r){var s=ms(r.target);if(s!==null){var l=Wn(s);if(l!==null){if(s=l.tag,s===13){if(s=os(l),s!==null){r.blockedOn=s,Gl(r.priority,function(){Hl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=ro(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ns=h,l.target.dispatchEvent(h),ns=null}else return s=ba(l),s!==null&&no(s),r.blockedOn=l,!1;s.shift()}return!0}function hs(r,s,l){Fr(r)&&l.delete(s)}function Yl(){Ea=!1,Ut!==null&&Fr(Ut)&&(Ut=null),Kn!==null&&Fr(Kn)&&(Kn=null),Qn!==null&&Fr(Qn)&&(Qn=null),vi.forEach(hs),xn.forEach(hs)}function Yn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ea||(Ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yl)))}function Xn(r){function s(f){return Yn(f,r)}if(0<dr.length){Yn(dr[0],r);for(var l=1;l<dr.length;l++){var h=dr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ut!==null&&Yn(Ut,r),Kn!==null&&Yn(Kn,r),Qn!==null&&Yn(Qn,r),vi.forEach(s),xn.forEach(s),l=0;l<fr.length;l++)h=fr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<fr.length&&(l=fr[0],l.blockedOn===null);)Ql(l),l.blockedOn===null&&fr.shift()}var Mr=ce.ReactCurrentBatchConfig,_i=!0;function ct(r,s,l,h){var f=He,g=Mr.transition;Mr.transition=null;try{He=1,wa(r,s,l,h)}finally{He=f,Mr.transition=g}}function Ih(r,s,l,h){var f=He,g=Mr.transition;Mr.transition=null;try{He=4,wa(r,s,l,h)}finally{He=f,Mr.transition=g}}function wa(r,s,l,h){if(_i){var f=ro(r,s,l,h);if(f===null)Oh(r,s,h,ds,l),Kl(r,h);else if(Th(f,r,s,l,h))h.stopPropagation();else if(Kl(r,h),s&4&&-1<wh.indexOf(r)){for(;f!==null;){var g=ba(f);if(g!==null&&ql(g),g=ro(r,s,l,h),g===null&&Oh(r,s,h,ds,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Oh(r,s,h,null,l)}}var ds=null;function ro(r,s,l,h){if(ds=null,r=Ws(h),r=ms(r),r!==null)if(s=Wn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=os(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ds=r,null}function Ta(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case as:return 1;case di:return 4;case Pn:case va:return 16;case jl:return 536870912;default:return 16}default:return 16}}var En=null,io=null,an=null;function Ia(){if(an)return an;var r,s=io,l=s.length,h,f="value"in En?En.value:En.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[g-h];h++);return an=f.slice(r,1<h?1-h:void 0)}function so(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function Sa(){return!1}function jt(r){function s(l,h,f,g,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pr:Sa,this.isPropagationStopped=Sa,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=jt(Jn),mr=he({},Jn,{view:0,detail:0}),Sh=jt(mr),ao,Ur,Ei,fs=he({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ei&&(Ei&&r.type==="mousemove"?(ao=r.screenX-Ei.screenX,Ur=r.screenY-Ei.screenY):Ur=ao=0,Ei=r),ao)},movementY:function(r){return"movementY"in r?r.movementY:Ur}}),lo=jt(fs),Aa=he({},fs,{dataTransfer:0}),Xl=jt(Aa),uo=he({},mr,{relatedTarget:0}),co=jt(uo),Jl=he({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=jt(Jl),Zl=he({},Jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eu=jt(Zl),tu=he({},Jn,{data:0}),Ra=jt(tu),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nu[r])?!!s[r]:!1}function gr(){return ru}var u=he({},mr,{key:function(r){if(r.key){var s=ho[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=so(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(r){return r.type==="keypress"?so(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?so(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=jt(u),v=he({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=jt(v),$=he({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),G=jt($),oe=he({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=jt(oe),kt=he({},fs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=jt(kt),Ot=[9,13,27,32],Tt=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var wn=d&&"TextEvent"in window&&!Dn,ps=d&&(!Tt||Dn&&8<Dn&&11>=Dn),fo=" ",Qp=!1;function Yp(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function qE(r,s){switch(r){case"compositionend":return Xp(s);case"keypress":return s.which!==32?null:(Qp=!0,fo);case"textInput":return r=s.data,r===fo&&Qp?null:r;default:return null}}function HE(r,s){if(po)return r==="compositionend"||!Tt&&Yp(r,s)?(r=Ia(),an=io=En=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ps&&s.locale!=="ko"?null:s.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!WE[r.type]:s==="textarea"}function Zp(r,s,l,h){hr(h),s=lu(s,"onChange"),0<s.length&&(l=new oo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ka=null,Ca=null;function GE(r){ym(r,0)}function iu(r){var s=_o(r);if(ui(s))return r}function KE(r,s){if(r==="change")return s}var em=!1;if(d){var Ah;if(d){var Rh="oninput"in document;if(!Rh){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),Rh=typeof tm.oninput=="function"}Ah=Rh}else Ah=!1;em=Ah&&(!document.documentMode||9<document.documentMode)}function nm(){ka&&(ka.detachEvent("onpropertychange",rm),Ca=ka=null)}function rm(r){if(r.propertyName==="value"&&iu(Ca)){var s=[];Zp(s,Ca,r,Ws(r)),pa(GE,s)}}function QE(r,s,l){r==="focusin"?(nm(),ka=s,Ca=l,ka.attachEvent("onpropertychange",rm)):r==="focusout"&&nm()}function YE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return iu(Ca)}function XE(r,s){if(r==="click")return iu(s)}function JE(r,s){if(r==="input"||r==="change")return iu(s)}function ZE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Zn=typeof Object.is=="function"?Object.is:ZE;function Pa(r,s){if(Zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Zn(r[f],s[f]))return!1}return!0}function im(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sm(r,s){var l=im(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=im(l)}}function om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function am(){for(var r=window,s=zn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=zn(r.document)}return s}function kh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ew(r){var s=am(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&om(l.ownerDocument.documentElement,l)){if(h!==null&&kh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=sm(l,g);var E=sm(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tw=d&&"documentMode"in document&&11>=document.documentMode,mo=null,Ch=null,xa=null,Ph=!1;function lm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ph||mo==null||mo!==zn(h)||(h=mo,"selectionStart"in h&&kh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xa&&Pa(xa,h)||(xa=h,h=lu(Ch,"onSelect"),0<h.length&&(s=new oo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=mo)))}function su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var go={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},xh={},um={};d&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ou(r){if(xh[r])return xh[r];if(!go[r])return r;var s=go[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in um)return xh[r]=s[l];return r}var cm=ou("animationend"),hm=ou("animationiteration"),dm=ou("animationstart"),fm=ou("transitionend"),pm=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(r,s){pm.set(r,s),a(s,[r])}for(var Dh=0;Dh<mm.length;Dh++){var Nh=mm[Dh],nw=Nh.toLowerCase(),rw=Nh[0].toUpperCase()+Nh.slice(1);wi(nw,"on"+rw)}wi(cm,"onAnimationEnd"),wi(hm,"onAnimationIteration"),wi(dm,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(fm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function gm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Ll(h,s,void 0,r),r.currentTarget=null}function ym(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var k=h[E],V=k.instance,W=k.currentTarget;if(k=k.listener,V!==g&&f.isPropagationStopped())break e;gm(f,k,W),g=V}else for(E=0;E<h.length;E++){if(k=h[E],V=k.instance,W=k.currentTarget,k=k.listener,V!==g&&f.isPropagationStopped())break e;gm(f,k,W),g=V}}}if(Hn)throw r=ma,Hn=!1,ma=null,r}function at(r,s){var l=s[jh];l===void 0&&(l=s[jh]=new Set);var h=r+"__bubble";l.has(h)||(vm(s,r,2,!1),l.add(h))}function Vh(r,s,l){var h=0;s&&(h|=4),vm(l,r,h,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function Na(r){if(!r[au]){r[au]=!0,i.forEach(function(l){l!=="selectionchange"&&(iw.has(l)||Vh(l,!1,r),Vh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[au]||(s[au]=!0,Vh("selectionchange",!1,s))}}function vm(r,s,l,h){switch(Ta(s)){case 1:var f=ct;break;case 4:f=Ih;break;default:f=wa}l=f.bind(null,s,l,r),f=void 0,!Qs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Oh(r,s,l,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var k=h.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;E=E.return}for(;k!==null;){if(E=ms(k),E===null)return;if(V=E.tag,V===5||V===6){h=g=E;continue e}k=k.parentNode}}h=h.return}pa(function(){var W=g,ee=Ws(l),ne=[];e:{var Z=pm.get(r);if(Z!==void 0){var de=oo,ye=r;switch(r){case"keypress":if(so(l)===0)break e;case"keydown":case"keyup":de=m;break;case"focusin":ye="focus",de=co;break;case"focusout":ye="blur",de=co;break;case"beforeblur":case"afterblur":de=co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case cm:case hm:case dm:de=jr;break;case fm:de=tt;break;case"scroll":de=Sh;break;case"wheel":de=Ke;break;case"copy":case"cut":case"paste":de=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=T}var _e=(s&4)!==0,vt=!_e&&r==="scroll",z=_e?Z!==null?Z+"Capture":null:Z;_e=[];for(var b=W,q;b!==null;){q=b;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,z!==null&&(ie=yt(b,z),ie!=null&&_e.push(Va(b,ie,q)))),vt)break;b=b.return}0<_e.length&&(Z=new de(Z,ye,null,l,ee),ne.push({event:Z,listeners:_e}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",Z&&l!==ns&&(ye=l.relatedTarget||l.fromElement)&&(ms(ye)||ye[$r]))break e;if((de||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,de?(ye=l.relatedTarget||l.toElement,de=W,ye=ye?ms(ye):null,ye!==null&&(vt=Wn(ye),ye!==vt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(de=null,ye=W),de!==ye)){if(_e=lo,ie="onMouseLeave",z="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(_e=T,ie="onPointerLeave",z="onPointerEnter",b="pointer"),vt=de==null?Z:_o(de),q=ye==null?Z:_o(ye),Z=new _e(ie,b+"leave",de,l,ee),Z.target=vt,Z.relatedTarget=q,ie=null,ms(ee)===W&&(_e=new _e(z,b+"enter",ye,l,ee),_e.target=q,_e.relatedTarget=vt,ie=_e),vt=ie,de&&ye)t:{for(_e=de,z=ye,b=0,q=_e;q;q=yo(q))b++;for(q=0,ie=z;ie;ie=yo(ie))q++;for(;0<b-q;)_e=yo(_e),b--;for(;0<q-b;)z=yo(z),q--;for(;b--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=yo(_e),z=yo(z)}_e=null}else _e=null;de!==null&&_m(ne,Z,de,_e,!1),ye!==null&&vt!==null&&_m(ne,vt,ye,_e,!0)}}e:{if(Z=W?_o(W):window,de=Z.nodeName&&Z.nodeName.toLowerCase(),de==="select"||de==="input"&&Z.type==="file")var Ee=KE;else if(Jp(Z))if(em)Ee=JE;else{Ee=YE;var Ae=QE}else(de=Z.nodeName)&&de.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Ee=XE);if(Ee&&(Ee=Ee(r,W))){Zp(ne,Ee,l,ee);break e}Ae&&Ae(r,Z,W),r==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&H(Z,"number",Z.value)}switch(Ae=W?_o(W):window,r){case"focusin":(Jp(Ae)||Ae.contentEditable==="true")&&(mo=Ae,Ch=W,xa=null);break;case"focusout":xa=Ch=mo=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,lm(ne,l,ee);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":lm(ne,l,ee)}var Re;if(Tt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else po?Yp(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ps&&l.locale!=="ko"&&(po||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&po&&(Re=Ia()):(En=ee,io="value"in En?En.value:En.textContent,po=!0)),Ae=lu(W,Ce),0<Ae.length&&(Ce=new Ra(Ce,r,null,l,ee),ne.push({event:Ce,listeners:Ae}),Re?Ce.data=Re:(Re=Xp(l),Re!==null&&(Ce.data=Re)))),(Re=wn?qE(r,l):HE(r,l))&&(W=lu(W,"onBeforeInput"),0<W.length&&(ee=new Ra("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:W}),ee.data=Re))}ym(ne,s)})}function Va(r,s,l){return{instance:r,listener:s,currentTarget:l}}function lu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=yt(r,l),g!=null&&h.unshift(Va(r,g,f)),g=yt(r,s),g!=null&&h.push(Va(r,g,f))),r=r.return}return h}function yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function _m(r,s,l,h,f){for(var g=s._reactName,E=[];l!==null&&l!==h;){var k=l,V=k.alternate,W=k.stateNode;if(V!==null&&V===h)break;k.tag===5&&W!==null&&(k=W,f?(V=yt(l,g),V!=null&&E.unshift(Va(l,V,k))):f||(V=yt(l,g),V!=null&&E.push(Va(l,V,k)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var sw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function Em(r){return(typeof r=="string"?r:""+r).replace(sw,`
`).replace(ow,"")}function uu(r,s,l){if(s=Em(s),Em(r)!==s&&l)throw Error(t(425))}function cu(){}var bh=null,Lh=null;function Fh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(r){return wm.resolve(null).then(r).catch(uw)}:Mh;function uw(r){setTimeout(function(){throw r})}function Uh(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Xn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Xn(s)}function Ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Tm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var vo=Math.random().toString(36).slice(2),yr="__reactFiber$"+vo,Oa="__reactProps$"+vo,$r="__reactContainer$"+vo,jh="__reactEvents$"+vo,cw="__reactListeners$"+vo,hw="__reactHandles$"+vo;function ms(r){var s=r[yr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[$r]||l[yr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Tm(r);r!==null;){if(l=r[yr])return l;r=Tm(r)}return s}r=l,l=r.parentNode}return null}function ba(r){return r=r[yr]||r[$r],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function hu(r){return r[Oa]||null}var $h=[],Eo=-1;function Ii(r){return{current:r}}function lt(r){0>Eo||(r.current=$h[Eo],$h[Eo]=null,Eo--)}function ot(r,s){Eo++,$h[Eo]=r.current,r.current=s}var Si={},Wt=Ii(Si),ln=Ii(!1),gs=Si;function wo(r,s){var l=r.type.contextTypes;if(!l)return Si;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function un(r){return r=r.childContextTypes,r!=null}function du(){lt(ln),lt(Wt)}function Im(r,s,l){if(Wt.current!==Si)throw Error(t(168));ot(Wt,s),ot(ln,l)}function Sm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ge(r)||"Unknown",f));return he({},l,h)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Si,gs=Wt.current,ot(Wt,r),ot(ln,ln.current),!0}function Am(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Sm(r,s,gs),h.__reactInternalMemoizedMergedChildContext=r,lt(ln),lt(Wt),ot(Wt,r)):lt(ln),ot(ln,l)}var zr=null,pu=!1,zh=!1;function Rm(r){zr===null?zr=[r]:zr.push(r)}function dw(r){pu=!0,Rm(r)}function Ai(){if(!zh&&zr!==null){zh=!0;var r=0,s=He;try{var l=zr;for(He=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}zr=null,pu=!1}catch(f){throw zr!==null&&(zr=zr.slice(r+1)),Zs(as,Ai),f}finally{He=s,zh=!1}}return null}var To=[],Io=0,mu=null,gu=0,Nn=[],Vn=0,ys=null,Br=1,qr="";function vs(r,s){To[Io++]=gu,To[Io++]=mu,mu=r,gu=s}function km(r,s,l){Nn[Vn++]=Br,Nn[Vn++]=qr,Nn[Vn++]=ys,ys=r;var h=Br;r=qr;var f=32-en(h)-1;h&=~(1<<f),l+=1;var g=32-en(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Br=1<<32-en(s)+f|l<<f|h,qr=g+r}else Br=1<<g|l<<f|h,qr=r}function Bh(r){r.return!==null&&(vs(r,1),km(r,1,0))}function qh(r){for(;r===mu;)mu=To[--Io],To[Io]=null,gu=To[--Io],To[Io]=null;for(;r===ys;)ys=Nn[--Vn],Nn[Vn]=null,qr=Nn[--Vn],Nn[Vn]=null,Br=Nn[--Vn],Nn[Vn]=null}var Tn=null,In=null,ht=!1,er=null;function Cm(r,s){var l=Fn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Pm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Tn=r,In=Ti(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Tn=r,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:Br,overflow:qr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Fn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Tn=r,In=null,!0):!1;default:return!1}}function Hh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Wh(r){if(ht){var s=In;if(s){var l=s;if(!Pm(r,s)){if(Hh(r))throw Error(t(418));s=Ti(l.nextSibling);var h=Tn;s&&Pm(r,s)?Cm(h,l):(r.flags=r.flags&-4097|2,ht=!1,Tn=r)}}else{if(Hh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ht=!1,Tn=r}}}function xm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function yu(r){if(r!==Tn)return!1;if(!ht)return xm(r),ht=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Fh(r.type,r.memoizedProps)),s&&(s=In)){if(Hh(r))throw Dm(),Error(t(418));for(;s;)Cm(r,s),s=Ti(s.nextSibling)}if(xm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){In=Ti(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}In=null}}else In=Tn?Ti(r.stateNode.nextSibling):null;return!0}function Dm(){for(var r=In;r;)r=Ti(r.nextSibling)}function So(){In=Tn=null,ht=!1}function Gh(r){er===null?er=[r]:er.push(r)}var fw=ce.ReactCurrentBatchConfig;function La(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var k=f.refs;E===null?delete k[g]:k[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Nm(r){var s=r._init;return s(r._payload)}function Vm(r){function s(z,b){if(r){var q=z.deletions;q===null?(z.deletions=[b],z.flags|=16):q.push(b)}}function l(z,b){if(!r)return null;for(;b!==null;)s(z,b),b=b.sibling;return null}function h(z,b){for(z=new Map;b!==null;)b.key!==null?z.set(b.key,b):z.set(b.index,b),b=b.sibling;return z}function f(z,b){return z=Vi(z,b),z.index=0,z.sibling=null,z}function g(z,b,q){return z.index=q,r?(q=z.alternate,q!==null?(q=q.index,q<b?(z.flags|=2,b):q):(z.flags|=2,b)):(z.flags|=1048576,b)}function E(z){return r&&z.alternate===null&&(z.flags|=2),z}function k(z,b,q,ie){return b===null||b.tag!==6?(b=Md(q,z.mode,ie),b.return=z,b):(b=f(b,q),b.return=z,b)}function V(z,b,q,ie){var Ee=q.type;return Ee===P?ee(z,b,q.props.children,ie,q.key):b!==null&&(b.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===nt&&Nm(Ee)===b.type)?(ie=f(b,q.props),ie.ref=La(z,b,q),ie.return=z,ie):(ie=zu(q.type,q.key,q.props,null,z.mode,ie),ie.ref=La(z,b,q),ie.return=z,ie)}function W(z,b,q,ie){return b===null||b.tag!==4||b.stateNode.containerInfo!==q.containerInfo||b.stateNode.implementation!==q.implementation?(b=Ud(q,z.mode,ie),b.return=z,b):(b=f(b,q.children||[]),b.return=z,b)}function ee(z,b,q,ie,Ee){return b===null||b.tag!==7?(b=Rs(q,z.mode,ie,Ee),b.return=z,b):(b=f(b,q),b.return=z,b)}function ne(z,b,q){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Md(""+b,z.mode,q),b.return=z,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ue:return q=zu(b.type,b.key,b.props,null,z.mode,q),q.ref=La(z,null,b),q.return=z,q;case fe:return b=Ud(b,z.mode,q),b.return=z,b;case nt:var ie=b._init;return ne(z,ie(b._payload),q)}if(K(b)||we(b))return b=Rs(b,z.mode,q,null),b.return=z,b;vu(z,b)}return null}function Z(z,b,q,ie){var Ee=b!==null?b.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:k(z,b,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ue:return q.key===Ee?V(z,b,q,ie):null;case fe:return q.key===Ee?W(z,b,q,ie):null;case nt:return Ee=q._init,Z(z,b,Ee(q._payload),ie)}if(K(q)||we(q))return Ee!==null?null:ee(z,b,q,ie,null);vu(z,q)}return null}function de(z,b,q,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get(q)||null,k(b,z,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ue:return z=z.get(ie.key===null?q:ie.key)||null,V(b,z,ie,Ee);case fe:return z=z.get(ie.key===null?q:ie.key)||null,W(b,z,ie,Ee);case nt:var Ae=ie._init;return de(z,b,q,Ae(ie._payload),Ee)}if(K(ie)||we(ie))return z=z.get(q)||null,ee(b,z,ie,Ee,null);vu(b,ie)}return null}function ye(z,b,q,ie){for(var Ee=null,Ae=null,Re=b,Ce=b=0,Ft=null;Re!==null&&Ce<q.length;Ce++){Re.index>Ce?(Ft=Re,Re=null):Ft=Re.sibling;var Je=Z(z,Re,q[Ce],ie);if(Je===null){Re===null&&(Re=Ft);break}r&&Re&&Je.alternate===null&&s(z,Re),b=g(Je,b,Ce),Ae===null?Ee=Je:Ae.sibling=Je,Ae=Je,Re=Ft}if(Ce===q.length)return l(z,Re),ht&&vs(z,Ce),Ee;if(Re===null){for(;Ce<q.length;Ce++)Re=ne(z,q[Ce],ie),Re!==null&&(b=g(Re,b,Ce),Ae===null?Ee=Re:Ae.sibling=Re,Ae=Re);return ht&&vs(z,Ce),Ee}for(Re=h(z,Re);Ce<q.length;Ce++)Ft=de(Re,z,Ce,q[Ce],ie),Ft!==null&&(r&&Ft.alternate!==null&&Re.delete(Ft.key===null?Ce:Ft.key),b=g(Ft,b,Ce),Ae===null?Ee=Ft:Ae.sibling=Ft,Ae=Ft);return r&&Re.forEach(function(Oi){return s(z,Oi)}),ht&&vs(z,Ce),Ee}function _e(z,b,q,ie){var Ee=we(q);if(typeof Ee!="function")throw Error(t(150));if(q=Ee.call(q),q==null)throw Error(t(151));for(var Ae=Ee=null,Re=b,Ce=b=0,Ft=null,Je=q.next();Re!==null&&!Je.done;Ce++,Je=q.next()){Re.index>Ce?(Ft=Re,Re=null):Ft=Re.sibling;var Oi=Z(z,Re,Je.value,ie);if(Oi===null){Re===null&&(Re=Ft);break}r&&Re&&Oi.alternate===null&&s(z,Re),b=g(Oi,b,Ce),Ae===null?Ee=Oi:Ae.sibling=Oi,Ae=Oi,Re=Ft}if(Je.done)return l(z,Re),ht&&vs(z,Ce),Ee;if(Re===null){for(;!Je.done;Ce++,Je=q.next())Je=ne(z,Je.value,ie),Je!==null&&(b=g(Je,b,Ce),Ae===null?Ee=Je:Ae.sibling=Je,Ae=Je);return ht&&vs(z,Ce),Ee}for(Re=h(z,Re);!Je.done;Ce++,Je=q.next())Je=de(Re,z,Ce,Je.value,ie),Je!==null&&(r&&Je.alternate!==null&&Re.delete(Je.key===null?Ce:Je.key),b=g(Je,b,Ce),Ae===null?Ee=Je:Ae.sibling=Je,Ae=Je);return r&&Re.forEach(function(Hw){return s(z,Hw)}),ht&&vs(z,Ce),Ee}function vt(z,b,q,ie){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ue:e:{for(var Ee=q.key,Ae=b;Ae!==null;){if(Ae.key===Ee){if(Ee=q.type,Ee===P){if(Ae.tag===7){l(z,Ae.sibling),b=f(Ae,q.props.children),b.return=z,z=b;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===nt&&Nm(Ee)===Ae.type){l(z,Ae.sibling),b=f(Ae,q.props),b.ref=La(z,Ae,q),b.return=z,z=b;break e}l(z,Ae);break}else s(z,Ae);Ae=Ae.sibling}q.type===P?(b=Rs(q.props.children,z.mode,ie,q.key),b.return=z,z=b):(ie=zu(q.type,q.key,q.props,null,z.mode,ie),ie.ref=La(z,b,q),ie.return=z,z=ie)}return E(z);case fe:e:{for(Ae=q.key;b!==null;){if(b.key===Ae)if(b.tag===4&&b.stateNode.containerInfo===q.containerInfo&&b.stateNode.implementation===q.implementation){l(z,b.sibling),b=f(b,q.children||[]),b.return=z,z=b;break e}else{l(z,b);break}else s(z,b);b=b.sibling}b=Ud(q,z.mode,ie),b.return=z,z=b}return E(z);case nt:return Ae=q._init,vt(z,b,Ae(q._payload),ie)}if(K(q))return ye(z,b,q,ie);if(we(q))return _e(z,b,q,ie);vu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,b!==null&&b.tag===6?(l(z,b.sibling),b=f(b,q),b.return=z,z=b):(l(z,b),b=Md(q,z.mode,ie),b.return=z,z=b),E(z)):l(z,b)}return vt}var Ao=Vm(!0),Om=Vm(!1),_u=Ii(null),Eu=null,Ro=null,Kh=null;function Qh(){Kh=Ro=Eu=null}function Yh(r){var s=_u.current;lt(_u),r._currentValue=s}function Xh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function ko(r,s){Eu=r,Kh=Ro=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(cn=!0),r.firstContext=null)}function On(r){var s=r._currentValue;if(Kh!==r)if(r={context:r,memoizedValue:s,next:null},Ro===null){if(Eu===null)throw Error(t(308));Ro=r,Eu.dependencies={lanes:0,firstContext:r}}else Ro=Ro.next=r;return s}var _s=null;function Jh(r){_s===null?_s=[r]:_s.push(r)}function bm(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,Jh(s)):(l.next=f.next,f.next=l),s.interleaved=l,Hr(r,h)}function Hr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ri=!1;function Zh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Wr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ki(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Xe&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Hr(r,l)}return f=h.interleaved,f===null?(s.next=s,Jh(h)):(s.next=f.next,f.next=s),h.interleaved=s,Hr(r,l)}function wu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,gi(r,l)}}function Fm(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Tu(r,s,l,h){var f=r.updateQueue;Ri=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var V=k,W=V.next;V.next=null,E===null?g=W:E.next=W,E=V;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==E&&(k===null?ee.firstBaseUpdate=W:k.next=W,ee.lastBaseUpdate=V))}if(g!==null){var ne=f.baseState;E=0,ee=W=V=null,k=g;do{var Z=k.lane,de=k.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ye=r,_e=k;switch(Z=s,de=l,_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){ne=ye.call(de,ne,Z);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,Z=typeof ye=="function"?ye.call(de,ne,Z):ye,Z==null)break e;ne=he({},ne,Z);break e;case 2:Ri=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[k]:Z.push(k))}else de={eventTime:de,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(W=ee=de,V=ne):ee=ee.next=de,E|=Z;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(V=ne),f.baseState=V,f.firstBaseUpdate=W,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ts|=E,r.lanes=E,r.memoizedState=ne}}function Mm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Fa={},vr=Ii(Fa),Ma=Ii(Fa),Ua=Ii(Fa);function Es(r){if(r===Fa)throw Error(t(174));return r}function ed(r,s){switch(ot(Ua,s),ot(Ma,r),ot(vr,Fa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:je(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=je(s,r)}lt(vr),ot(vr,s)}function Co(){lt(vr),lt(Ma),lt(Ua)}function Um(r){Es(Ua.current);var s=Es(vr.current),l=je(s,r.type);s!==l&&(ot(Ma,r),ot(vr,l))}function td(r){Ma.current===r&&(lt(vr),lt(Ma))}var dt=Ii(0);function Iu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nd=[];function rd(){for(var r=0;r<nd.length;r++)nd[r]._workInProgressVersionPrimary=null;nd.length=0}var Su=ce.ReactCurrentDispatcher,id=ce.ReactCurrentBatchConfig,ws=0,ft=null,Ct=null,bt=null,Au=!1,ja=!1,$a=0,pw=0;function Gt(){throw Error(t(321))}function sd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Zn(r[l],s[l]))return!1;return!0}function od(r,s,l,h,f,g){if(ws=g,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Su.current=r===null||r.memoizedState===null?vw:_w,r=l(h,f),ja){g=0;do{if(ja=!1,$a=0,25<=g)throw Error(t(301));g+=1,bt=Ct=null,s.updateQueue=null,Su.current=Ew,r=l(h,f)}while(ja)}if(Su.current=Cu,s=Ct!==null&&Ct.next!==null,ws=0,bt=Ct=ft=null,Au=!1,s)throw Error(t(300));return r}function ad(){var r=$a!==0;return $a=0,r}function _r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ft.memoizedState=bt=r:bt=bt.next=r,bt}function bn(){if(Ct===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var s=bt===null?ft.memoizedState:bt.next;if(s!==null)bt=s,Ct=r;else{if(r===null)throw Error(t(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},bt===null?ft.memoizedState=bt=r:bt=bt.next=r}return bt}function za(r,s){return typeof s=="function"?s(r):s}function ld(r){var s=bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Ct,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var k=E=null,V=null,W=g;do{var ee=W.lane;if((ws&ee)===ee)V!==null&&(V=V.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};V===null?(k=V=ne,E=h):V=V.next=ne,ft.lanes|=ee,Ts|=ee}W=W.next}while(W!==null&&W!==g);V===null?E=h:V.next=k,Zn(h,s.memoizedState)||(cn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=V,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ft.lanes|=g,Ts|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ud(r){var s=bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Zn(g,s.memoizedState)||(cn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function jm(){}function $m(r,s){var l=ft,h=bn(),f=s(),g=!Zn(h.memoizedState,f);if(g&&(h.memoizedState=f,cn=!0),h=h.queue,cd(qm.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,Bm.bind(null,l,h,f,s),void 0,null),Lt===null)throw Error(t(349));ws&30||zm(l,s,f)}return f}function zm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Bm(r,s,l,h){s.value=l,s.getSnapshot=h,Hm(s)&&Wm(r)}function qm(r,s,l){return l(function(){Hm(s)&&Wm(r)})}function Hm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Zn(r,l)}catch{return!0}}function Wm(r){var s=Hr(r,1);s!==null&&ir(s,r,1,-1)}function Gm(r){var s=_r();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=yw.bind(null,ft,r),[s.memoizedState,r]}function Ba(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Km(){return bn().memoizedState}function Ru(r,s,l,h){var f=_r();ft.flags|=r,f.memoizedState=Ba(1|s,l,void 0,h===void 0?null:h)}function ku(r,s,l,h){var f=bn();h=h===void 0?null:h;var g=void 0;if(Ct!==null){var E=Ct.memoizedState;if(g=E.destroy,h!==null&&sd(h,E.deps)){f.memoizedState=Ba(s,l,g,h);return}}ft.flags|=r,f.memoizedState=Ba(1|s,l,g,h)}function Qm(r,s){return Ru(8390656,8,r,s)}function cd(r,s){return ku(2048,8,r,s)}function Ym(r,s){return ku(4,2,r,s)}function Xm(r,s){return ku(4,4,r,s)}function Jm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Zm(r,s,l){return l=l!=null?l.concat([r]):null,ku(4,4,Jm.bind(null,s,r),l)}function hd(){}function eg(r,s){var l=bn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&sd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function tg(r,s){var l=bn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&sd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function ng(r,s,l){return ws&21?(Zn(l,s)||(l=cs(),ft.lanes|=l,Ts|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,cn=!0),r.memoizedState=l)}function mw(r,s){var l=He;He=l!==0&&4>l?l:4,r(!0);var h=id.transition;id.transition={};try{r(!1),s()}finally{He=l,id.transition=h}}function rg(){return bn().memoizedState}function gw(r,s,l){var h=Di(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},ig(r))sg(s,l);else if(l=bm(r,s,l,h),l!==null){var f=rn();ir(l,r,h,f),og(l,s,h)}}function yw(r,s,l){var h=Di(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(ig(r))sg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,k=g(E,l);if(f.hasEagerState=!0,f.eagerState=k,Zn(k,E)){var V=s.interleaved;V===null?(f.next=f,Jh(s)):(f.next=V.next,V.next=f),s.interleaved=f;return}}catch{}finally{}l=bm(r,s,f,h),l!==null&&(f=rn(),ir(l,r,h,f),og(l,s,h))}}function ig(r){var s=r.alternate;return r===ft||s!==null&&s===ft}function sg(r,s){ja=Au=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function og(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,gi(r,l)}}var Cu={readContext:On,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},vw={readContext:On,useCallback:function(r,s){return _r().memoizedState=[r,s===void 0?null:s],r},useContext:On,useEffect:Qm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ru(4194308,4,Jm.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ru(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ru(4,2,r,s)},useMemo:function(r,s){var l=_r();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=_r();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=gw.bind(null,ft,r),[h.memoizedState,r]},useRef:function(r){var s=_r();return r={current:r},s.memoizedState=r},useState:Gm,useDebugValue:hd,useDeferredValue:function(r){return _r().memoizedState=r},useTransition:function(){var r=Gm(!1),s=r[0];return r=mw.bind(null,r[1]),_r().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ft,f=_r();if(ht){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Lt===null)throw Error(t(349));ws&30||zm(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Qm(qm.bind(null,h,g,r),[r]),h.flags|=2048,Ba(9,Bm.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=_r(),s=Lt.identifierPrefix;if(ht){var l=qr,h=Br;l=(h&~(1<<32-en(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=$a++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=pw++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},_w={readContext:On,useCallback:eg,useContext:On,useEffect:cd,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:tg,useReducer:ld,useRef:Km,useState:function(){return ld(za)},useDebugValue:hd,useDeferredValue:function(r){var s=bn();return ng(s,Ct.memoizedState,r)},useTransition:function(){var r=ld(za)[0],s=bn().memoizedState;return[r,s]},useMutableSource:jm,useSyncExternalStore:$m,useId:rg,unstable_isNewReconciler:!1},Ew={readContext:On,useCallback:eg,useContext:On,useEffect:cd,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:tg,useReducer:ud,useRef:Km,useState:function(){return ud(za)},useDebugValue:hd,useDeferredValue:function(r){var s=bn();return Ct===null?s.memoizedState=r:ng(s,Ct.memoizedState,r)},useTransition:function(){var r=ud(za)[0],s=bn().memoizedState;return[r,s]},useMutableSource:jm,useSyncExternalStore:$m,useId:rg,unstable_isNewReconciler:!1};function tr(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function dd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:he({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Pu={isMounted:function(r){return(r=r._reactInternals)?Wn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=rn(),f=Di(r),g=Wr(h,f);g.payload=s,l!=null&&(g.callback=l),s=ki(r,g,f),s!==null&&(ir(s,r,f,h),wu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=rn(),f=Di(r),g=Wr(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ki(r,g,f),s!==null&&(ir(s,r,f,h),wu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=rn(),h=Di(r),f=Wr(l,h);f.tag=2,s!=null&&(f.callback=s),s=ki(r,f,h),s!==null&&(ir(s,r,h,l),wu(s,r,h))}};function ag(r,s,l,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!Pa(l,h)||!Pa(f,g):!0}function lg(r,s,l){var h=!1,f=Si,g=s.contextType;return typeof g=="object"&&g!==null?g=On(g):(f=un(s)?gs:Wt.current,h=s.contextTypes,g=(h=h!=null)?wo(r,f):Si),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function ug(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Pu.enqueueReplaceState(s,s.state,null)}function fd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Zh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=On(g):(g=un(s)?gs:Wt.current,f.context=wo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dd(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Pu.enqueueReplaceState(f,f.state,null),Tu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Po(r,s){try{var l="",h=s;do l+=Fe(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function pd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function md(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var ww=typeof WeakMap=="function"?WeakMap:Map;function cg(r,s,l){l=Wr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Lu||(Lu=!0,xd=h),md(r,s)},l}function hg(r,s,l){l=Wr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){md(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){md(r,s),typeof h!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function dg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new ww;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=bw.bind(null,r,s,l),s.then(r,r))}function fg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function pg(r,s,l,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Wr(-1,1),s.tag=2,ki(l,s,1))),l.lanes|=1),r)}var Tw=ce.ReactCurrentOwner,cn=!1;function nn(r,s,l,h){s.child=r===null?Om(s,null,l,h):Ao(s,r.child,l,h)}function mg(r,s,l,h,f){l=l.render;var g=s.ref;return ko(s,f),h=od(r,s,l,h,g,f),l=ad(),r!==null&&!cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Gr(r,s,f)):(ht&&l&&Bh(s),s.flags|=1,nn(r,s,h,f),s.child)}function gg(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!Fd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,yg(r,s,g,h,f)):(r=zu(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Pa,l(E,h)&&r.ref===s.ref)return Gr(r,s,f)}return s.flags|=1,r=Vi(g,h),r.ref=s.ref,r.return=s,s.child=r}function yg(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(Pa(g,h)&&r.ref===s.ref)if(cn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(cn=!0);else return s.lanes=r.lanes,Gr(r,s,f)}return gd(r,s,l,h,f)}function vg(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Do,Sn),Sn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ot(Do,Sn),Sn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,ot(Do,Sn),Sn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,ot(Do,Sn),Sn|=h;return nn(r,s,f,l),s.child}function _g(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function gd(r,s,l,h,f){var g=un(l)?gs:Wt.current;return g=wo(s,g),ko(s,f),l=od(r,s,l,h,g,f),h=ad(),r!==null&&!cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Gr(r,s,f)):(ht&&h&&Bh(s),s.flags|=1,nn(r,s,l,f),s.child)}function Eg(r,s,l,h,f){if(un(l)){var g=!0;fu(s)}else g=!1;if(ko(s,f),s.stateNode===null)Du(r,s),lg(s,l,h),fd(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,k=s.memoizedProps;E.props=k;var V=E.context,W=l.contextType;typeof W=="object"&&W!==null?W=On(W):(W=un(l)?gs:Wt.current,W=wo(s,W));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==h||V!==W)&&ug(s,E,h,W),Ri=!1;var Z=s.memoizedState;E.state=Z,Tu(s,h,E,f),V=s.memoizedState,k!==h||Z!==V||ln.current||Ri?(typeof ee=="function"&&(dd(s,l,ee,h),V=s.memoizedState),(k=Ri||ag(s,l,k,h,Z,V,W))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),E.props=h,E.state=V,E.context=W,h=k):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Lm(r,s),k=s.memoizedProps,W=s.type===s.elementType?k:tr(s.type,k),E.props=W,ne=s.pendingProps,Z=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=On(V):(V=un(l)?gs:Wt.current,V=wo(s,V));var de=l.getDerivedStateFromProps;(ee=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==ne||Z!==V)&&ug(s,E,h,V),Ri=!1,Z=s.memoizedState,E.state=Z,Tu(s,h,E,f);var ye=s.memoizedState;k!==ne||Z!==ye||ln.current||Ri?(typeof de=="function"&&(dd(s,l,de,h),ye=s.memoizedState),(W=Ri||ag(s,l,W,h,Z,ye,V)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ye,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ye,V)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ye),E.props=h,E.state=ye,E.context=V,h=W):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return yd(r,s,l,h,g,f)}function yd(r,s,l,h,f,g){_g(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&Am(s,l,!1),Gr(r,s,g);h=s.stateNode,Tw.current=s;var k=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=Ao(s,r.child,null,g),s.child=Ao(s,null,k,g)):nn(r,s,k,g),s.memoizedState=h.state,f&&Am(s,l,!0),s.child}function wg(r){var s=r.stateNode;s.pendingContext?Im(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Im(r,s.context,!1),ed(r,s.containerInfo)}function Tg(r,s,l,h,f){return So(),Gh(f),s.flags|=256,nn(r,s,l,h),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function _d(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ig(r,s,l){var h=s.pendingProps,f=dt.current,g=!1,E=(s.flags&128)!==0,k;if((k=E)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),ot(dt,f&1),r===null)return Wh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Bu(E,h,0,null),r=Rs(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=_d(l),s.memoizedState=vd,r):Ed(s,E));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Iw(r,s,E,h,k,f,l);if(g){g=h.fallback,E=s.mode,f=r.child,k=f.sibling;var V={mode:"hidden",children:h.children};return!(E&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=Vi(f,V),h.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=Vi(k,g):(g=Rs(g,E,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?_d(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=vd,h}return g=r.child,r=g.sibling,h=Vi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Ed(r,s){return s=Bu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function xu(r,s,l,h){return h!==null&&Gh(h),Ao(s,r.child,null,l),r=Ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Iw(r,s,l,h,f,g,E){if(l)return s.flags&256?(s.flags&=-257,h=pd(Error(t(422))),xu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Bu({mode:"visible",children:h.children},f,0,null),g=Rs(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Ao(s,r.child,null,E),s.child.memoizedState=_d(E),s.memoizedState=vd,g);if(!(s.mode&1))return xu(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var k=h.dgst;return h=k,g=Error(t(419)),h=pd(g,h,void 0),xu(r,s,E,h)}if(k=(E&r.childLanes)!==0,cn||k){if(h=Lt,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Hr(r,f),ir(h,r,f,-1))}return Ld(),h=pd(Error(t(421))),xu(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Lw.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,In=Ti(f.nextSibling),Tn=s,ht=!0,er=null,r!==null&&(Nn[Vn++]=Br,Nn[Vn++]=qr,Nn[Vn++]=ys,Br=r.id,qr=r.overflow,ys=s),s=Ed(s,h.children),s.flags|=4096,s)}function Sg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Xh(r.return,s,l)}function wd(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function Ag(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(nn(r,s,h.children,l),h=dt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Sg(r,l,s);else if(r.tag===19)Sg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(ot(dt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Iu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),wd(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Iu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}wd(s,!0,l,null,g);break;case"together":wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Du(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Gr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ts|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Vi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Vi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Sw(r,s,l){switch(s.tag){case 3:wg(s),So();break;case 5:Um(s);break;case 1:un(s.type)&&fu(s);break;case 4:ed(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;ot(_u,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(ot(dt,dt.current&1),s.flags|=128,null):l&s.child.childLanes?Ig(r,s,l):(ot(dt,dt.current&1),r=Gr(r,s,l),r!==null?r.sibling:null);ot(dt,dt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return Ag(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(dt,dt.current),h)break;return null;case 22:case 23:return s.lanes=0,vg(r,s,l)}return Gr(r,s,l)}var Rg,Td,kg,Cg;Rg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Td=function(){},kg=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Es(vr.current);var g=null;switch(l){case"input":f=ur(r,f),h=ur(r,h),g=[];break;case"select":f=he({},f,{value:void 0}),h=he({},h,{value:void 0}),g=[];break;case"textarea":f=ae(r,f),h=ae(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=cu)}ca(l,h);var E;l=null;for(W in f)if(!h.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var k=f[W];for(E in k)k.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var V=h[W];if(k=f!=null?f[W]:void 0,h.hasOwnProperty(W)&&V!==k&&(V!=null||k!=null))if(W==="style")if(k){for(E in k)!k.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&k[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(g||(g=[]),g.push(W,l)),l=V;else W==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,k=k?k.__html:void 0,V!=null&&k!==V&&(g=g||[]).push(W,V)):W==="children"?typeof V!="string"&&typeof V!="number"||(g=g||[]).push(W,""+V):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(V!=null&&W==="onScroll"&&at("scroll",r),g||k===V||(g=[])):(g=g||[]).push(W,V))}l&&(g=g||[]).push("style",l);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Cg=function(r,s,l,h){l!==h&&(s.flags|=4)};function qa(r,s){if(!ht)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function Aw(r,s,l){var h=s.pendingProps;switch(qh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return un(s.type)&&du(),Kt(s),null;case 3:return h=s.stateNode,Co(),lt(ln),lt(Wt),rd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(yu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,er!==null&&(Vd(er),er=null))),Td(r,s),Kt(s),null;case 5:td(s);var f=Es(Ua.current);if(l=s.type,r!==null&&s.stateNode!=null)kg(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Kt(s),null}if(r=Es(vr.current),yu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[yr]=s,h[Oa]=g,r=(s.mode&1)!==0,l){case"dialog":at("cancel",h),at("close",h);break;case"iframe":case"object":case"embed":at("load",h);break;case"video":case"audio":for(f=0;f<Da.length;f++)at(Da[f],h);break;case"source":at("error",h);break;case"img":case"image":case"link":at("error",h),at("load",h);break;case"details":at("toggle",h);break;case"input":Zi(h,g),at("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},at("invalid",h);break;case"textarea":re(h,g),at("invalid",h)}ca(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var k=g[E];E==="children"?typeof k=="string"?h.textContent!==k&&(g.suppressHydrationWarning!==!0&&uu(h.textContent,k,r),f=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&uu(h.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&at("scroll",h)}switch(l){case"input":Rn(h),N(h,g,!0);break;case"textarea":Rn(h),Ve(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=cu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ue(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[yr]=s,r[Oa]=h,Rg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ha(l,h),l){case"dialog":at("cancel",r),at("close",r),f=h;break;case"iframe":case"object":case"embed":at("load",r),f=h;break;case"video":case"audio":for(f=0;f<Da.length;f++)at(Da[f],r);f=h;break;case"source":at("error",r),f=h;break;case"img":case"image":case"link":at("error",r),at("load",r),f=h;break;case"details":at("toggle",r),f=h;break;case"input":Zi(r,h),f=ur(r,h),at("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=he({},h,{value:void 0}),at("invalid",r);break;case"textarea":re(r,h),f=ae(r,h),at("invalid",r);break;default:f=h}ca(l,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var V=k[g];g==="style"?ts(r,V):g==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&es(r,V)):g==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&kn(r,V):typeof V=="number"&&kn(r,""+V):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?V!=null&&g==="onScroll"&&at("scroll",r):V!=null&&te(r,g,V,E))}switch(l){case"input":Rn(r),N(r,h,!1);break;case"textarea":Rn(r),Ve(r);break;case"option":h.value!=null&&r.setAttribute("value",""+qe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?le(r,!!h.multiple,g,!1):h.defaultValue!=null&&le(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=cu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(r&&s.stateNode!=null)Cg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Es(Ua.current),Es(vr.current),yu(s)){if(h=s.stateNode,l=s.memoizedProps,h[yr]=s,(g=h.nodeValue!==l)&&(r=Tn,r!==null))switch(r.tag){case 3:uu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=s,s.stateNode=h}return Kt(s),null;case 13:if(lt(dt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ht&&In!==null&&s.mode&1&&!(s.flags&128))Dm(),So(),s.flags|=98560,g=!1;else if(g=yu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[yr]=s}else So(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Kt(s),g=!1}else er!==null&&(Vd(er),er=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||dt.current&1?Pt===0&&(Pt=3):Ld())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return Co(),Td(r,s),r===null&&Na(s.stateNode.containerInfo),Kt(s),null;case 10:return Yh(s.type._context),Kt(s),null;case 17:return un(s.type)&&du(),Kt(s),null;case 19:if(lt(dt),g=s.memoizedState,g===null)return Kt(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)qa(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=Iu(r),E!==null){for(s.flags|=128,qa(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ot(dt,dt.current&1|2),s.child}r=r.sibling}g.tail!==null&&st()>No&&(s.flags|=128,h=!0,qa(g,!1),s.lanes=4194304)}else{if(!h)if(r=Iu(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ht)return Kt(s),null}else 2*st()-g.renderingStartTime>No&&l!==1073741824&&(s.flags|=128,h=!0,qa(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=st(),s.sibling=null,l=dt.current,ot(dt,h?l&1|2:l&1),s):(Kt(s),null);case 22:case 23:return bd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Sn&1073741824&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Rw(r,s){switch(qh(s),s.tag){case 1:return un(s.type)&&du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),lt(ln),lt(Wt),rd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return td(s),null;case 13:if(lt(dt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));So()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return lt(dt),null;case 4:return Co(),null;case 10:return Yh(s.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var Nu=!1,Qt=!1,kw=typeof WeakSet=="function"?WeakSet:Set,ge=null;function xo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){gt(r,s,h)}else l.current=null}function Id(r,s,l){try{l()}catch(h){gt(r,s,h)}}var Pg=!1;function Cw(r,s){if(bh=_i,r=am(),kh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,k=-1,V=-1,W=0,ee=0,ne=r,Z=null;t:for(;;){for(var de;ne!==l||f!==0&&ne.nodeType!==3||(k=E+f),ne!==g||h!==0&&ne.nodeType!==3||(V=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(de=ne.firstChild)!==null;)Z=ne,ne=de;for(;;){if(ne===r)break t;if(Z===l&&++W===f&&(k=E),Z===g&&++ee===h&&(V=E),(de=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=de}l=k===-1||V===-1?null:{start:k,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lh={focusedElem:r,selectionRange:l},_i=!1,ge=s;ge!==null;)if(s=ge,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ge=r;else for(;ge!==null;){s=ge;try{var ye=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var _e=ye.memoizedProps,vt=ye.memoizedState,z=s.stateNode,b=z.getSnapshotBeforeUpdate(s.elementType===s.type?_e:tr(s.type,_e),vt);z.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){gt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,ge=r;break}ge=s.return}return ye=Pg,Pg=!1,ye}function Ha(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Id(s,l,g)}f=f.next}while(f!==h)}}function Vu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Sd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function xg(r){var s=r.alternate;s!==null&&(r.alternate=null,xg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[yr],delete s[Oa],delete s[jh],delete s[cw],delete s[hw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dg(r){return r.tag===5||r.tag===3||r.tag===4}function Ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ad(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=cu));else if(h!==4&&(r=r.child,r!==null))for(Ad(r,s,l),r=r.sibling;r!==null;)Ad(r,s,l),r=r.sibling}function Rd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Rd(r,s,l),r=r.sibling;r!==null;)Rd(r,s,l),r=r.sibling}var $t=null,nr=!1;function Ci(r,s,l){for(l=l.child;l!==null;)Vg(r,s,l),l=l.sibling}function Vg(r,s,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:Qt||xo(l,s);case 6:var h=$t,f=nr;$t=null,Ci(r,s,l),$t=h,nr=f,$t!==null&&(nr?(r=$t,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):$t.removeChild(l.stateNode));break;case 18:$t!==null&&(nr?(r=$t,l=l.stateNode,r.nodeType===8?Uh(r.parentNode,l):r.nodeType===1&&Uh(r,l),Xn(r)):Uh($t,l.stateNode));break;case 4:h=$t,f=nr,$t=l.stateNode.containerInfo,nr=!0,Ci(r,s,l),$t=h,nr=f;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Id(l,s,E),f=f.next}while(f!==h)}Ci(r,s,l);break;case 1:if(!Qt&&(xo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){gt(l,s,k)}Ci(r,s,l);break;case 21:Ci(r,s,l);break;case 22:l.mode&1?(Qt=(h=Qt)||l.memoizedState!==null,Ci(r,s,l),Qt=h):Ci(r,s,l);break;default:Ci(r,s,l)}}function Og(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new kw),s.forEach(function(h){var f=Fw.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function rr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,E=s,k=E;e:for(;k!==null;){switch(k.tag){case 5:$t=k.stateNode,nr=!1;break e;case 3:$t=k.stateNode.containerInfo,nr=!0;break e;case 4:$t=k.stateNode.containerInfo,nr=!0;break e}k=k.return}if($t===null)throw Error(t(160));Vg(g,E,f),$t=null,nr=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(W){gt(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)bg(s,r),s=s.sibling}function bg(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(rr(s,r),Er(r),h&4){try{Ha(3,r,r.return),Vu(3,r)}catch(_e){gt(r,r.return,_e)}try{Ha(5,r,r.return)}catch(_e){gt(r,r.return,_e)}}break;case 1:rr(s,r),Er(r),h&512&&l!==null&&xo(l,l.return);break;case 5:if(rr(s,r),Er(r),h&512&&l!==null&&xo(l,l.return),r.flags&32){var f=r.stateNode;try{kn(f,"")}catch(_e){gt(r,r.return,_e)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,k=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&qs(f,g),ha(k,E);var W=ha(k,g);for(E=0;E<V.length;E+=2){var ee=V[E],ne=V[E+1];ee==="style"?ts(f,ne):ee==="dangerouslySetInnerHTML"?es(f,ne):ee==="children"?kn(f,ne):te(f,ee,ne,W)}switch(k){case"input":Hs(f,g);break;case"textarea":Ie(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?le(f,!!g.multiple,de,!1):Z!==!!g.multiple&&(g.defaultValue!=null?le(f,!!g.multiple,g.defaultValue,!0):le(f,!!g.multiple,g.multiple?[]:"",!1))}f[Oa]=g}catch(_e){gt(r,r.return,_e)}}break;case 6:if(rr(s,r),Er(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(_e){gt(r,r.return,_e)}}break;case 3:if(rr(s,r),Er(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xn(s.containerInfo)}catch(_e){gt(r,r.return,_e)}break;case 4:rr(s,r),Er(r);break;case 13:rr(s,r),Er(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Pd=st())),h&4&&Og(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(Qt=(W=Qt)||ee,rr(s,r),Qt=W):rr(s,r),Er(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&r.mode&1)for(ge=r,ee=r.child;ee!==null;){for(ne=ge=ee;ge!==null;){switch(Z=ge,de=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ha(4,Z,Z.return);break;case 1:xo(Z,Z.return);var ye=Z.stateNode;if(typeof ye.componentWillUnmount=="function"){h=Z,l=Z.return;try{s=h,ye.props=s.memoizedProps,ye.state=s.memoizedState,ye.componentWillUnmount()}catch(_e){gt(h,l,_e)}}break;case 5:xo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Mg(ne);continue}}de!==null?(de.return=Z,ge=de):Mg(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=ne.stateNode,V=ne.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,k.style.display=ci("display",E))}catch(_e){gt(r,r.return,_e)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(_e){gt(r,r.return,_e)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:rr(s,r),Er(r),h&4&&Og(r);break;case 21:break;default:rr(s,r),Er(r)}}function Er(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Dg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(kn(f,""),h.flags&=-33);var g=Ng(r);Rd(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,k=Ng(r);Ad(r,k,E);break;default:throw Error(t(161))}}catch(V){gt(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Pw(r,s,l){ge=r,Lg(r)}function Lg(r,s,l){for(var h=(r.mode&1)!==0;ge!==null;){var f=ge,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Nu;if(!E){var k=f.alternate,V=k!==null&&k.memoizedState!==null||Qt;k=Nu;var W=Qt;if(Nu=E,(Qt=V)&&!W)for(ge=f;ge!==null;)E=ge,V=E.child,E.tag===22&&E.memoizedState!==null?Ug(f):V!==null?(V.return=E,ge=V):Ug(f);for(;g!==null;)ge=g,Lg(g),g=g.sibling;ge=f,Nu=k,Qt=W}Fg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ge=g):Fg(r)}}function Fg(r){for(;ge!==null;){var s=ge;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Qt||Vu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Qt)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:tr(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Mm(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Mm(s,E,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Xn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||s.flags&512&&Sd(s)}catch(Z){gt(s,s.return,Z)}}if(s===r){ge=null;break}if(l=s.sibling,l!==null){l.return=s.return,ge=l;break}ge=s.return}}function Mg(r){for(;ge!==null;){var s=ge;if(s===r){ge=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ge=l;break}ge=s.return}}function Ug(r){for(;ge!==null;){var s=ge;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Vu(4,s)}catch(V){gt(s,l,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(V){gt(s,f,V)}}var g=s.return;try{Sd(s)}catch(V){gt(s,g,V)}break;case 5:var E=s.return;try{Sd(s)}catch(V){gt(s,E,V)}}}catch(V){gt(s,s.return,V)}if(s===r){ge=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ge=k;break}ge=s.return}}var xw=Math.ceil,Ou=ce.ReactCurrentDispatcher,kd=ce.ReactCurrentOwner,Ln=ce.ReactCurrentBatchConfig,Xe=0,Lt=null,It=null,zt=0,Sn=0,Do=Ii(0),Pt=0,Wa=null,Ts=0,bu=0,Cd=0,Ga=null,hn=null,Pd=0,No=1/0,Kr=null,Lu=!1,xd=null,Pi=null,Fu=!1,xi=null,Mu=0,Ka=0,Dd=null,Uu=-1,ju=0;function rn(){return Xe&6?st():Uu!==-1?Uu:Uu=st()}function Di(r){return r.mode&1?Xe&2&&zt!==0?zt&-zt:fw.transition!==null?(ju===0&&(ju=cs()),ju):(r=He,r!==0||(r=window.event,r=r===void 0?16:Ta(r.type)),r):1}function ir(r,s,l,h){if(50<Ka)throw Ka=0,Dd=null,Error(t(185));mi(r,l,h),(!(Xe&2)||r!==Lt)&&(r===Lt&&(!(Xe&2)&&(bu|=l),Pt===4&&Ni(r,zt)),dn(r,h),l===1&&Xe===0&&!(s.mode&1)&&(No=st()+500,pu&&Ai()))}function dn(r,s){var l=r.callbackNode;Lr(r,s);var h=us(r,r===Lt?zt:0);if(h===0)l!==null&&ya(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ya(l),s===1)r.tag===0?dw($g.bind(null,r)):Rm($g.bind(null,r)),lw(function(){!(Xe&6)&&Ai()}),l=null;else{switch(yi(h)){case 1:l=as;break;case 4:l=di;break;case 16:l=Pn;break;case 536870912:l=jl;break;default:l=Pn}l=Qg(l,jg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function jg(r,s){if(Uu=-1,ju=0,Xe&6)throw Error(t(327));var l=r.callbackNode;if(Vo()&&r.callbackNode!==l)return null;var h=us(r,r===Lt?zt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=$u(r,h);else{s=h;var f=Xe;Xe|=2;var g=Bg();(Lt!==r||zt!==s)&&(Kr=null,No=st()+500,Ss(r,s));do try{Vw();break}catch(k){zg(r,k)}while(!0);Qh(),Ou.current=g,Xe=f,It!==null?s=0:(Lt=null,zt=0,s=Pt)}if(s!==0){if(s===2&&(f=_n(r),f!==0&&(h=f,s=Nd(r,f))),s===1)throw l=Wa,Ss(r,0),Ni(r,h),dn(r,st()),l;if(s===6)Ni(r,h);else{if(f=r.current.alternate,!(h&30)&&!Dw(f)&&(s=$u(r,h),s===2&&(g=_n(r),g!==0&&(h=g,s=Nd(r,g))),s===1))throw l=Wa,Ss(r,0),Ni(r,h),dn(r,st()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:As(r,hn,Kr);break;case 3:if(Ni(r,h),(h&130023424)===h&&(s=Pd+500-st(),10<s)){if(us(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){rn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Mh(As.bind(null,r,hn,Kr),s);break}As(r,hn,Kr);break;case 4:if(Ni(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-en(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=st()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xw(h/1960))-h,10<h){r.timeoutHandle=Mh(As.bind(null,r,hn,Kr),h);break}As(r,hn,Kr);break;case 5:As(r,hn,Kr);break;default:throw Error(t(329))}}}return dn(r,st()),r.callbackNode===l?jg.bind(null,r):null}function Nd(r,s){var l=Ga;return r.current.memoizedState.isDehydrated&&(Ss(r,s).flags|=256),r=$u(r,s),r!==2&&(s=hn,hn=l,s!==null&&Vd(s)),r}function Vd(r){hn===null?hn=r:hn.push.apply(hn,r)}function Dw(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!Zn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(r,s){for(s&=~Cd,s&=~bu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-en(s),h=1<<l;r[l]=-1,s&=~h}}function $g(r){if(Xe&6)throw Error(t(327));Vo();var s=us(r,0);if(!(s&1))return dn(r,st()),null;var l=$u(r,s);if(r.tag!==0&&l===2){var h=_n(r);h!==0&&(s=h,l=Nd(r,h))}if(l===1)throw l=Wa,Ss(r,0),Ni(r,s),dn(r,st()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,As(r,hn,Kr),dn(r,st()),null}function Od(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(No=st()+500,pu&&Ai())}}function Is(r){xi!==null&&xi.tag===0&&!(Xe&6)&&Vo();var s=Xe;Xe|=1;var l=Ln.transition,h=He;try{if(Ln.transition=null,He=1,r)return r()}finally{He=h,Ln.transition=l,Xe=s,!(Xe&6)&&Ai()}}function bd(){Sn=Do.current,lt(Do)}function Ss(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,aw(l)),It!==null)for(l=It.return;l!==null;){var h=l;switch(qh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&du();break;case 3:Co(),lt(ln),lt(Wt),rd();break;case 5:td(h);break;case 4:Co();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:Yh(h.type._context);break;case 22:case 23:bd()}l=l.return}if(Lt=r,It=r=Vi(r.current,null),zt=Sn=s,Pt=0,Wa=null,Cd=bu=Ts=0,hn=Ga=null,_s!==null){for(s=0;s<_s.length;s++)if(l=_s[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}l.pending=h}_s=null}return r}function zg(r,s){do{var l=It;try{if(Qh(),Su.current=Cu,Au){for(var h=ft.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Au=!1}if(ws=0,bt=Ct=ft=null,ja=!1,$a=0,kd.current=null,l===null||l.return===null){Pt=1,Wa=s,It=null;break}e:{var g=r,E=l.return,k=l,V=s;if(s=zt,k.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=V,ee=k,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=fg(E);if(de!==null){de.flags&=-257,pg(de,E,k,g,s),de.mode&1&&dg(g,W,s),s=de,V=W;var ye=s.updateQueue;if(ye===null){var _e=new Set;_e.add(V),s.updateQueue=_e}else ye.add(V);break e}else{if(!(s&1)){dg(g,W,s),Ld();break e}V=Error(t(426))}}else if(ht&&k.mode&1){var vt=fg(E);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),pg(vt,E,k,g,s),Gh(Po(V,k));break e}}g=V=Po(V,k),Pt!==4&&(Pt=2),Ga===null?Ga=[g]:Ga.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=cg(g,V,s);Fm(g,z);break e;case 1:k=V;var b=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Pi===null||!Pi.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=hg(g,k,s);Fm(g,ie);break e}}g=g.return}while(g!==null)}Hg(l)}catch(Ee){s=Ee,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function Bg(){var r=Ou.current;return Ou.current=Cu,r===null?Cu:r}function Ld(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(Ts&268435455)&&!(bu&268435455)||Ni(Lt,zt)}function $u(r,s){var l=Xe;Xe|=2;var h=Bg();(Lt!==r||zt!==s)&&(Kr=null,Ss(r,s));do try{Nw();break}catch(f){zg(r,f)}while(!0);if(Qh(),Xe=l,Ou.current=h,It!==null)throw Error(t(261));return Lt=null,zt=0,Pt}function Nw(){for(;It!==null;)qg(It)}function Vw(){for(;It!==null&&!Ml();)qg(It)}function qg(r){var s=Kg(r.alternate,r,Sn);r.memoizedProps=r.pendingProps,s===null?Hg(r):It=s,kd.current=null}function Hg(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=Rw(l,s),l!==null){l.flags&=32767,It=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,It=null;return}}else if(l=Aw(l,s,Sn),l!==null){It=l;return}if(s=s.sibling,s!==null){It=s;return}It=s=r}while(s!==null);Pt===0&&(Pt=5)}function As(r,s,l){var h=He,f=Ln.transition;try{Ln.transition=null,He=1,Ow(r,s,l,h)}finally{Ln.transition=f,He=h}return null}function Ow(r,s,l,h){do Vo();while(xi!==null);if(Xe&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(it(r,g),r===Lt&&(It=Lt=null,zt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Fu||(Fu=!0,Qg(Pn,function(){return Vo(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Ln.transition,Ln.transition=null;var E=He;He=1;var k=Xe;Xe|=4,kd.current=null,Cw(r,l),bg(l,r),ew(Lh),_i=!!bh,Lh=bh=null,r.current=l,Pw(l),_h(),Xe=k,He=E,Ln.transition=g}else r.current=l;if(Fu&&(Fu=!1,xi=r,Mu=f),g=r.pendingLanes,g===0&&(Pi=null),$l(l.stateNode),dn(r,st()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Lu)throw Lu=!1,r=xd,xd=null,r;return Mu&1&&r.tag!==0&&Vo(),g=r.pendingLanes,g&1?r===Dd?Ka++:(Ka=0,Dd=r):Ka=0,Ai(),null}function Vo(){if(xi!==null){var r=yi(Mu),s=Ln.transition,l=He;try{if(Ln.transition=null,He=16>r?16:r,xi===null)var h=!1;else{if(r=xi,xi=null,Mu=0,Xe&6)throw Error(t(331));var f=Xe;for(Xe|=4,ge=r.current;ge!==null;){var g=ge,E=g.child;if(ge.flags&16){var k=g.deletions;if(k!==null){for(var V=0;V<k.length;V++){var W=k[V];for(ge=W;ge!==null;){var ee=ge;switch(ee.tag){case 0:case 11:case 15:Ha(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,ge=ne;else for(;ge!==null;){ee=ge;var Z=ee.sibling,de=ee.return;if(xg(ee),ee===W){ge=null;break}if(Z!==null){Z.return=de,ge=Z;break}ge=de}}}var ye=g.alternate;if(ye!==null){var _e=ye.child;if(_e!==null){ye.child=null;do{var vt=_e.sibling;_e.sibling=null,_e=vt}while(_e!==null)}}ge=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ge=E;else e:for(;ge!==null;){if(g=ge,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ha(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ge=z;break e}ge=g.return}}var b=r.current;for(ge=b;ge!==null;){E=ge;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,ge=q;else e:for(E=b;ge!==null;){if(k=ge,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Vu(9,k)}}catch(Ee){gt(k,k.return,Ee)}if(k===E){ge=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,ge=ie;break e}ge=k.return}}if(Xe=f,Ai(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ls,r)}catch{}h=!0}return h}finally{He=l,Ln.transition=s}}return!1}function Wg(r,s,l){s=Po(l,s),s=cg(r,s,1),r=ki(r,s,1),s=rn(),r!==null&&(mi(r,1,s),dn(r,s))}function gt(r,s,l){if(r.tag===3)Wg(r,r,l);else for(;s!==null;){if(s.tag===3){Wg(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pi===null||!Pi.has(h))){r=Po(l,r),r=hg(s,r,1),s=ki(s,r,1),r=rn(),s!==null&&(mi(s,1,r),dn(s,r));break}}s=s.return}}function bw(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=rn(),r.pingedLanes|=r.suspendedLanes&l,Lt===r&&(zt&l)===l&&(Pt===4||Pt===3&&(zt&130023424)===zt&&500>st()-Pd?Ss(r,0):Cd|=l),dn(r,s)}function Gg(r,s){s===0&&(r.mode&1?(s=to,to<<=1,!(to&130023424)&&(to=4194304)):s=1);var l=rn();r=Hr(r,s),r!==null&&(mi(r,s,l),dn(r,l))}function Lw(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Gg(r,l)}function Fw(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Gg(r,l)}var Kg;Kg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||ln.current)cn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return cn=!1,Sw(r,s,l);cn=!!(r.flags&131072)}else cn=!1,ht&&s.flags&1048576&&km(s,gu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Du(r,s),r=s.pendingProps;var f=wo(s,Wt.current);ko(s,l),f=od(null,s,h,r,f,l);var g=ad();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,un(h)?(g=!0,fu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Zh(s),f.updater=Pu,s.stateNode=f,f._reactInternals=s,fd(s,h,r,l),s=yd(null,s,h,!0,g,l)):(s.tag=0,ht&&g&&Bh(s),nn(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Du(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=Uw(h),r=tr(h,r),f){case 0:s=gd(null,s,h,r,l);break e;case 1:s=Eg(null,s,h,r,l);break e;case 11:s=mg(null,s,h,r,l);break e;case 14:s=gg(null,s,h,tr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),gd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),Eg(r,s,h,f,l);case 3:e:{if(wg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Lm(r,s),Tu(s,h,null,l);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Po(Error(t(423)),s),s=Tg(r,s,h,l,f);break e}else if(h!==f){f=Po(Error(t(424)),s),s=Tg(r,s,h,l,f);break e}else for(In=Ti(s.stateNode.containerInfo.firstChild),Tn=s,ht=!0,er=null,l=Om(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(So(),h===f){s=Gr(r,s,l);break e}nn(r,s,h,l)}s=s.child}return s;case 5:return Um(s),r===null&&Wh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Fh(h,f)?E=null:g!==null&&Fh(h,g)&&(s.flags|=32),_g(r,s),nn(r,s,E,l),s.child;case 6:return r===null&&Wh(s),null;case 13:return Ig(r,s,l);case 4:return ed(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Ao(s,null,h,l):nn(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),mg(r,s,h,f,l);case 7:return nn(r,s,s.pendingProps,l),s.child;case 8:return nn(r,s,s.pendingProps.children,l),s.child;case 12:return nn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,ot(_u,h._currentValue),h._currentValue=E,g!==null)if(Zn(g.value,E)){if(g.children===f.children&&!ln.current){s=Gr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){E=g.child;for(var V=k.firstContext;V!==null;){if(V.context===h){if(g.tag===1){V=Wr(-1,l&-l),V.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?V.next=V:(V.next=ee.next,ee.next=V),W.pending=V}}g.lanes|=l,V=g.alternate,V!==null&&(V.lanes|=l),Xh(g.return,l,s),k.lanes|=l;break}V=V.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,k=E.alternate,k!==null&&(k.lanes|=l),Xh(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}nn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,ko(s,l),f=On(f),h=h(f),s.flags|=1,nn(r,s,h,l),s.child;case 14:return h=s.type,f=tr(h,s.pendingProps),f=tr(h.type,f),gg(r,s,h,f,l);case 15:return yg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),Du(r,s),s.tag=1,un(h)?(r=!0,fu(s)):r=!1,ko(s,l),lg(s,h,f),fd(s,h,f,l),yd(null,s,h,!0,r,l);case 19:return Ag(r,s,l);case 22:return vg(r,s,l)}throw Error(t(156,s.tag))};function Qg(r,s){return Zs(r,s)}function Mw(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,s,l,h){return new Mw(r,s,l,h)}function Fd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Uw(r){if(typeof r=="function")return Fd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===x)return 11;if(r===Ye)return 14}return 2}function Vi(r,s){var l=r.alternate;return l===null?(l=Fn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function zu(r,s,l,h,f,g){var E=2;if(h=r,typeof r=="function")Fd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return Rs(l.children,f,g,s);case S:E=8,f|=8;break;case R:return r=Fn(12,l,s,f|2),r.elementType=R,r.lanes=g,r;case A:return r=Fn(13,l,s,f),r.elementType=A,r.lanes=g,r;case Ne:return r=Fn(19,l,s,f),r.elementType=Ne,r.lanes=g,r;case Le:return Bu(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:E=10;break e;case D:E=9;break e;case x:E=11;break e;case Ye:E=14;break e;case nt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Fn(E,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Rs(r,s,l,h){return r=Fn(7,r,h,s),r.lanes=l,r}function Bu(r,s,l,h){return r=Fn(22,r,h,s),r.elementType=Le,r.lanes=l,r.stateNode={isHidden:!1},r}function Md(r,s,l){return r=Fn(6,r,null,s),r.lanes=l,r}function Ud(r,s,l){return s=Fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function jw(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function jd(r,s,l,h,f,g,E,k,V){return r=new jw(r,s,l,k,V),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Fn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(g),r}function $w(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Yg(r){if(!r)return Si;r=r._reactInternals;e:{if(Wn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(un(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(un(l))return Sm(r,l,s)}return s}function Xg(r,s,l,h,f,g,E,k,V){return r=jd(l,h,!0,r,f,g,E,k,V),r.context=Yg(null),l=r.current,h=rn(),f=Di(l),g=Wr(h,f),g.callback=s??null,ki(l,g,f),r.current.lanes=f,mi(r,f,h),dn(r,h),r}function qu(r,s,l,h){var f=s.current,g=rn(),E=Di(f);return l=Yg(l),s.context===null?s.context=l:s.pendingContext=l,s=Wr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ki(f,s,E),r!==null&&(ir(r,f,E,g),wu(r,f,E)),E}function Hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function $d(r,s){Jg(r,s),(r=r.alternate)&&Jg(r,s)}var Zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function zd(r){this._internalRoot=r}Wu.prototype.render=zd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qu(r,s,null,null)},Wu.prototype.unmount=zd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Is(function(){qu(null,r,null,null)}),s[$r]=null}};function Wu(r){this._internalRoot=r}Wu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Wl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<fr.length&&s!==0&&s<fr[l].priority;l++);fr.splice(l,0,r),l===0&&Ql(r)}};function Bd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ey(){}function zw(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var W=Hu(E);g.call(W)}}var E=Xg(s,h,r,0,null,!1,!1,"",ey);return r._reactRootContainer=E,r[$r]=E.current,Na(r.nodeType===8?r.parentNode:r),Is(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var k=h;h=function(){var W=Hu(V);k.call(W)}}var V=jd(r,0,!1,null,null,!1,!1,"",ey);return r._reactRootContainer=V,r[$r]=V.current,Na(r.nodeType===8?r.parentNode:r),Is(function(){qu(s,V,l,h)}),V}function Ku(r,s,l,h,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var k=f;f=function(){var V=Hu(E);k.call(V)}}qu(s,E,r,f)}else E=zw(l,s,r,f,h);return Hu(E)}ql=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=fi(s.pendingLanes);l!==0&&(gi(s,l|1),dn(s,st()),!(Xe&6)&&(No=st()+500,Ai()))}break;case 13:Is(function(){var h=Hr(r,1);if(h!==null){var f=rn();ir(h,r,1,f)}}),$d(r,1)}},no=function(r){if(r.tag===13){var s=Hr(r,134217728);if(s!==null){var l=rn();ir(s,r,134217728,l)}$d(r,134217728)}},Hl=function(r){if(r.tag===13){var s=Di(r),l=Hr(r,s);if(l!==null){var h=rn();ir(l,r,s,h)}$d(r,s)}},Wl=function(){return He},Gl=function(r,s){var l=He;try{return He=r,s()}finally{He=l}},Gs=function(r,s,l){switch(s){case"input":if(Hs(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=hu(h);if(!f)throw Error(t(90));ui(h),Hs(h,f)}}}break;case"textarea":Ie(r,l);break;case"select":s=l.value,s!=null&&le(r,!!l.multiple,s,!1)}},rs=Od,fa=Is;var Bw={usingClientEntryPoint:!1,Events:[ba,_o,hu,hr,da,Od]},Qa={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qw={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ga(r),r===null?null:r.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{ls=Qu.inject(qw),vn=Qu}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw,fn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bd(s))throw Error(t(200));return $w(r,s,null,l)},fn.createRoot=function(r,s){if(!Bd(r))throw Error(t(299));var l=!1,h="",f=Zg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=jd(r,1,!1,null,null,l,!1,h,f),r[$r]=s.current,Na(r.nodeType===8?r.parentNode:r),new zd(s)},fn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ga(s),r=r===null?null:r.stateNode,r},fn.flushSync=function(r){return Is(r)},fn.hydrate=function(r,s,l){if(!Gu(s))throw Error(t(200));return Ku(null,r,s,!0,l)},fn.hydrateRoot=function(r,s,l){if(!Bd(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",E=Zg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Xg(s,null,r,1,l??null,f,!1,g,E),r[$r]=s.current,Na(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Wu(s)},fn.render=function(r,s,l){if(!Gu(s))throw Error(t(200));return Ku(null,r,s,!1,l)},fn.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(Is(function(){Ku(null,null,r,!1,function(){r._reactRootContainer=null,r[$r]=null})}),!0):!1},fn.unstable_batchedUpdates=Od,fn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Gu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ku(r,s,l,!1,h)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var ly;function Jw(){if(ly)return Wd.exports;ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wd.exports=Xw(),Wd.exports}var uy;function Zw(){if(uy)return Yu;uy=1;var n=Jw();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var eT=Zw(),Xa={},cy;function tT(){if(cy)return Xa;cy=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.parse=c,Xa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,O){const L=new a,j=I.length;if(j<2)return L;const F=(O==null?void 0:O.decode)||_;let U=0;do{const B=I.indexOf("=",U);if(B===-1)break;const te=I.indexOf(";",U),ce=te===-1?j:te;if(B>ce){U=I.lastIndexOf(";",B-1)+1;continue}const ue=d(I,U,B),fe=p(I,B,ue),P=I.slice(ue,fe);if(L[P]===void 0){let S=d(I,B+1,ce),R=p(I,ce,S);const C=F(I.slice(S,R));L[P]=C}U=ce+1}while(U<j);return L}function d(I,O,L){do{const j=I.charCodeAt(O);if(j!==32&&j!==9)return O}while(++O<L);return L}function p(I,O,L){for(;O>L;){const j=I.charCodeAt(--O);if(j!==32&&j!==9)return O+1}return L}function y(I,O,L){const j=(L==null?void 0:L.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const F=j(O);if(!e.test(F))throw new TypeError(`argument val is invalid: ${O}`);let U=I+"="+F;if(!L)return U;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);U+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);U+="; Domain="+L.domain}if(L.path){if(!i.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);U+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);U+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(U+="; HttpOnly"),L.secure&&(U+="; Secure"),L.partitioned&&(U+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return U}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function w(I){return o.call(I)==="[object Date]"}return Xa}tT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hy="popstate";function nT(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return gf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:hl(o)}return iT(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rT(){return Math.random().toString(36).substring(2,10)}function dy(n,e){return{usr:n.state,key:n.key,idx:e}}function gf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ta(e):e,state:t,key:e&&e.key||i||rT()}}function hl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function iT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function w(){d="POP";let F=_(),U=F==null?null:F-y;y=F,p&&p({action:d,location:j.location,delta:U})}function I(F,U){d="PUSH";let B=gf(j.location,F,U);y=_()+1;let te=dy(B,y),ce=j.createHref(B);try{c.pushState(te,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}a&&p&&p({action:d,location:j.location,delta:1})}function O(F,U){d="REPLACE";let B=gf(j.location,F,U);y=_();let te=dy(B,y),ce=j.createHref(B);c.replaceState(te,"",ce),a&&p&&p({action:d,location:j.location,delta:0})}function L(F){let U=o.location.origin!=="null"?o.location.origin:o.location.href,B=typeof F=="string"?F:hl(F);return B=B.replace(/ $/,"%20"),pt(U,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,U)}let j={get action(){return d},get location(){return n(o,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(hy,w),p=F,()=>{o.removeEventListener(hy,w),p=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let U=L(F);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:I,replace:O,go(F){return c.go(F)}};return j}function Jv(n,e,t="/"){return sT(n,e,t,!1)}function sT(n,e,t,i){let o=typeof e=="string"?ta(e):e,a=Gi(o.pathname||"/",t);if(a==null)return null;let c=Zv(n);oT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=yT(a);d=mT(c[p],y,i)}return d}function Zv(n,e=[],t=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=ni([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(pt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Zv(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:fT(y,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of e_(a.path))o(a,c,p)}),e}function e_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=e_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function oT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var aT=/^:[\w-]+$/,lT=3,uT=2,cT=1,hT=10,dT=-2,fy=n=>n==="*";function fT(n,e){let t=n.split("/"),i=t.length;return t.some(fy)&&(i+=dT),e&&(i+=uT),t.filter(o=>!fy(o)).reduce((o,a)=>o+(aT.test(a)?lT:a===""?cT:hT),i)}function pT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function mT(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=Sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),I=p.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=Sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:ni([a,w.pathname]),pathnameBase:wT(ni([a,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(a=ni([a,w.pathnameBase]))}return c}function Sc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=gT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:w},I)=>{if(_==="*"){let L=d[I]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const O=d[I];return w&&!O?y[_]=void 0:y[_]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function gT(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function yT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function vT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ta(n):n;return{pathname:t?t.startsWith("/")?t:_T(t,e):e,search:TT(i),hash:IT(o)}}function _T(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Qd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ET(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function t_(n){let e=ET(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function n_(n,e,t,i=!1){let o;typeof n=="string"?o=ta(n):(o={...n},pt(!o.pathname||!o.pathname.includes("?"),Qd("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Qd("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Qd("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}d=w>=0?e[w]:"/"}let p=vT(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),wT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ST(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var r_=["POST","PUT","PATCH","DELETE"];new Set(r_);var AT=["GET",...r_];new Set(AT);var na=Q.createContext(null);na.displayName="DataRouter";var Qc=Q.createContext(null);Qc.displayName="DataRouterState";var i_=Q.createContext({isTransitioning:!1});i_.displayName="ViewTransition";var RT=Q.createContext(new Map);RT.displayName="Fetchers";var kT=Q.createContext(null);kT.displayName="Await";var Vr=Q.createContext(null);Vr.displayName="Navigation";var Tl=Q.createContext(null);Tl.displayName="Location";var ai=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Gf=Q.createContext(null);Gf.displayName="RouteError";function CT(n,{relative:e}={}){pt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(Vr),{hash:o,pathname:a,search:c}=Sl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ni([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Il(){return Q.useContext(Tl)!=null}function Ms(){return pt(Il(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Tl).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o_(n){Q.useContext(Vr).static||Q.useLayoutEffect(n)}function Kf(){let{isDataRoute:n}=Q.useContext(ai);return n?$T():PT()}function PT(){pt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(na),{basename:e,navigator:t}=Q.useContext(Vr),{matches:i}=Q.useContext(ai),{pathname:o}=Ms(),a=JSON.stringify(t_(i)),c=Q.useRef(!1);return o_(()=>{c.current=!0}),Q.useCallback((p,y={})=>{if(Pr(c.current,s_),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=n_(p,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ni([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,a,o,n])}Q.createContext(null);function Sl(n,{relative:e}={}){let{matches:t}=Q.useContext(ai),{pathname:i}=Ms(),o=JSON.stringify(t_(t));return Q.useMemo(()=>n_(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function xT(n,e){return a_(n,e)}function a_(n,e,t,i){var U;pt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Vr),{matches:a}=Q.useContext(ai),c=a[a.length-1],d=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";l_(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Ms(),I;if(e){let B=typeof e=="string"?ta(e):e;pt(y==="/"||((U=B.pathname)==null?void 0:U.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),I=B}else I=w;let O=I.pathname||"/",L=O;if(y!=="/"){let B=y.replace(/^\//,"").split("/");L="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=Jv(n,{pathname:L});Pr(_||j!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Pr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=bT(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:ni([y,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:ni([y,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),a,t,i);return e&&F?Q.createElement(Tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},F):F}function DT(){let n=jT(),e=ST(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:a},"ErrorBoundary")," or"," ",Q.createElement("code",{style:a},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,c)}var NT=Q.createElement(DT,null),VT=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(ai.Provider,{value:this.props.routeContext},Q.createElement(Gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OT({routeContext:n,match:e,children:t}){let i=Q.useContext(na);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ai.Provider,{value:n},t)}function bT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:w}=t,I=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let w,I=!1,O=null,L=null;t&&(w=a&&y.route.id?a[y.route.id]:void 0,O=y.route.errorElement||NT,c&&(d<0&&_===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,L=null):d===_&&(I=!0,L=y.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,_+1)),F=()=>{let U;return w?U=O:I?U=L:y.route.Component?U=Q.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,Q.createElement(OT,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:U})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?Q.createElement(VT,{location:t.location,revalidation:t.revalidation,component:O,error:w,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):F()},null)}function Qf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(n){let e=Q.useContext(na);return pt(e,Qf(n)),e}function FT(n){let e=Q.useContext(Qc);return pt(e,Qf(n)),e}function MT(n){let e=Q.useContext(ai);return pt(e,Qf(n)),e}function Yf(n){let e=MT(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function UT(){return Yf("useRouteId")}function jT(){var i;let n=Q.useContext(Gf),e=FT("useRouteError"),t=Yf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function $T(){let{router:n}=LT("useNavigate"),e=Yf("useNavigate"),t=Q.useRef(!1);return o_(()=>{t.current=!0}),Q.useCallback(async(o,a={})=>{Pr(t.current,s_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var py={};function l_(n,e,t){!e&&!py[n]&&(py[n]=!0,Pr(!1,t))}Q.memo(zT);function zT({routes:n,future:e,state:t}){return a_(n,void 0,t,e)}function ac(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){pt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=ta(t));let{pathname:p="/",search:y="",hash:_="",state:w=null,key:I="default"}=t,O=Q.useMemo(()=>{let L=Gi(p,c);return L==null?null:{location:{pathname:L,search:y,hash:_,state:w,key:I},navigationType:i}},[c,p,y,_,w,I,i]);return Pr(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:Q.createElement(Vr.Provider,{value:d},Q.createElement(Tl.Provider,{children:e,value:O}))}function qT({children:n,location:e}){return xT(yf(n),e)}function yf(n,e=[]){let t=[];return Q.Children.forEach(n,(i,o)=>{if(!Q.isValidElement(i))return;let a=[...e,o];if(i.type===Q.Fragment){t.push.apply(t,yf(i.props.children,a));return}pt(i.type===ac,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=yf(i.props.children,a)),t.push(c)}),t}var lc="get",uc="application/x-www-form-urlencoded";function Yc(n){return n!=null&&typeof n.tagName=="string"}function HT(n){return Yc(n)&&n.tagName.toLowerCase()==="button"}function WT(n){return Yc(n)&&n.tagName.toLowerCase()==="form"}function GT(n){return Yc(n)&&n.tagName.toLowerCase()==="input"}function KT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QT(n,e){return n.button===0&&(!e||e==="_self")&&!KT(n)}var Xu=null;function YT(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var XT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(n){return n!=null&&!XT.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):n}function JT(n,e){let t,i,o,a,c;if(WT(n)){let d=n.getAttribute("action");i=d?Gi(d,e):null,t=n.getAttribute("method")||lc,o=Yd(n.getAttribute("enctype"))||uc,a=new FormData(n)}else if(HT(n)||GT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Gi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||lc,o=Yd(n.getAttribute("formenctype"))||Yd(d.getAttribute("enctype"))||uc,a=new FormData(d,n),!YT()){let{name:y,type:_,value:w}=n;if(_==="image"){let I=y?`${y}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else y&&a.append(y,w)}}else{if(Yc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lc,i=null,o=uc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Xf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ZT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tI(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await ZT(a,t);return c.links?c.links():[]}return[]}));return sI(i.flat(1).filter(eI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function my(n,e,t,i,o,a){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):a==="data"?e.filter((p,y)=>{var w;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function nI(n,e){return rI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function rI(n){return[...new Set(n)]}function iI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function sI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(iI(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function oI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function aI(){let n=Q.useContext(na);return Xf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lI(){let n=Q.useContext(Qc);return Xf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jf=Q.createContext(void 0);Jf.displayName="FrameworkContext";function u_(){let n=Q.useContext(Jf);return Xf(n,"You must render this element inside a <HydratedRouter> element"),n}function uI(n,e){let t=Q.useContext(Jf),[i,o]=Q.useState(!1),[a,c]=Q.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:w}=e,I=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=U=>{U.forEach(B=>{c(B.isIntersecting)})},F=new IntersectionObserver(j,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let O=()=>{o(!0)},L=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Ja(d,O),onBlur:Ja(p,L),onMouseEnter:Ja(y,O),onMouseLeave:Ja(_,L),onTouchStart:Ja(w,O)}]:[!1,I,{}]}function Ja(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cI({page:n,...e}){let{router:t}=aI(),i=Q.useMemo(()=>Jv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(dI,{page:n,matches:i,...e}):null}function hI(n){let{manifest:e,routeModules:t}=u_(),[i,o]=Q.useState([]);return Q.useEffect(()=>{let a=!1;return tI(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function dI({page:n,matches:e,...t}){let i=Ms(),{manifest:o,routeModules:a}=u_(),{loaderData:c,matches:d}=lI(),p=Q.useMemo(()=>my(n,e,d,o,i,"data"),[n,e,d,o,i]),y=Q.useMemo(()=>my(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,L=!1;if(e.forEach(F=>{var B;let U=o.routes[F.route.id];!U||!U.hasLoader||(!p.some(te=>te.route.id===F.route.id)&&F.route.id in c&&((B=a[F.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?L=!0:O.add(F.route.id))}),O.size===0)return[];let j=oI(n);return L&&O.size>0&&j.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[c,i,o,p,e,n,a]),w=Q.useMemo(()=>nI(y,o),[y,o]),I=hI(y);return Q.createElement(Q.Fragment,null,_.map(O=>Q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),w.map(O=>Q.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),I.map(({key:O,link:L})=>Q.createElement("link",{key:O,...L})))}function fI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c_&&(window.__reactRouterVersion="7.1.1")}catch{}function pI({basename:n,children:e,window:t}){let i=Q.useRef();i.current==null&&(i.current=nT({window:t,v5Compat:!0}));let o=i.current,[a,c]=Q.useState({action:o.action,location:o.location}),d=Q.useCallback(p=>{Q.startTransition(()=>c(p))},[c]);return Q.useLayoutEffect(()=>o.listen(d),[o,d]),Q.createElement(BT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,il=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:w,...I},O){let{basename:L}=Q.useContext(Vr),j=typeof y=="string"&&h_.test(y),F,U=!1;if(typeof y=="string"&&j&&(F=y,c_))try{let R=new URL(window.location.href),C=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=Gi(C.pathname,L);C.origin===R.origin&&D!=null?y=D+C.search+C.hash:U=!0}catch{Pr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=CT(y,{relative:o}),[te,ce,ue]=uI(i,I),fe=vI(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:w});function P(R){e&&e(R),R.defaultPrevented||fe(R)}let S=Q.createElement("a",{...I,...ue,href:F||B,onClick:U||a?e:P,ref:fI(O,ce),target:p,"data-discover":!j&&t==="render"?"true":void 0});return te&&!j?Q.createElement(Q.Fragment,null,S,Q.createElement(cI,{page:B})):S});il.displayName="Link";var mI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,...y},_){let w=Sl(c,{relative:y.relative}),I=Ms(),O=Q.useContext(Qc),{navigator:L,basename:j}=Q.useContext(Vr),F=O!=null&&II(w)&&d===!0,U=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,B=I.pathname,te=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(B=B.toLowerCase(),te=te?te.toLowerCase():null,U=U.toLowerCase()),te&&j&&(te=Gi(te,j)||te);const ce=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ue=B===U||!o&&B.startsWith(U)&&B.charAt(ce)==="/",fe=te!=null&&(te===U||!o&&te.startsWith(U)&&te.charAt(U.length)==="/"),P={isActive:ue,isPending:fe,isTransitioning:F},S=ue?e:void 0,R;typeof i=="function"?R=i(P):R=[i,ue?"active":null,fe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(P):a;return Q.createElement(il,{...y,"aria-current":S,className:R,ref:_,style:C,to:c,viewTransition:d},typeof p=="function"?p(P):p)});mI.displayName="NavLink";var gI=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=lc,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:w,...I},O)=>{let L=wI(),j=TI(d,{relative:y}),F=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&h_.test(d),B=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let ce=te.nativeEvent.submitter,ue=(ce==null?void 0:ce.getAttribute("formmethod"))||c;L(ce||te.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:a,relative:y,preventScrollReset:_,viewTransition:w})};return Q.createElement("form",{ref:O,method:F,action:j,onSubmit:i?p:B,...I,"data-discover":!U&&n==="render"?"true":void 0})});gI.displayName="Form";function yI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d_(n){let e=Q.useContext(na);return pt(e,yI(n)),e}function vI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=Kf(),p=Ms(),y=Sl(n,{relative:a});return Q.useCallback(_=>{if(QT(_,e)){_.preventDefault();let w=t!==void 0?t:hl(p)===hl(y);d(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,y,t,i,e,n,o,a,c])}var _I=0,EI=()=>`__${String(++_I)}__`;function wI(){let{router:n}=d_("useSubmit"),{basename:e}=Q.useContext(Vr),t=UT();return Q.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:y}=JT(i,e);if(o.navigate===!1){let _=o.fetcherKey||EI();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function TI(n,{relative:e}={}){let{basename:t}=Q.useContext(Vr),i=Q.useContext(ai);pt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Sl(n||".",{relative:e})},c=Ms();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ni([t,a.pathname])),hl(a)}function II(n,e={}){let t=Q.useContext(i_);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=d_("useViewTransitionState"),o=Sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Gi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Gi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sc(o.pathname,c)!=null||Sc(o.pathname,a)!=null}new TextEncoder;var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},SI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,O=y&63;p||(O=64,c||(I=64)),i.push(t[_],t[w],t[I],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||w==null)throw new AI;const I=a<<2|d>>4;if(i.push(I),y!==64){const O=d<<4&240|y>>2;if(i.push(O),w!==64){const L=y<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RI=function(n){const e=f_(n);return p_.encodeByteArray(e,!0)},Ac=function(n){return RI(n).replace(/\./g,"")},m_=function(n){try{return p_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=()=>kI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof gy>"u")return;const n=gy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&m_(n[1]);return e&&JSON.parse(e)},Xc=()=>{try{return CI()||PI()||xI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},g_=n=>{var e,t;return(t=(e=Xc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},DI=n=>{const e=g_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},y_=()=>{var n;return(n=Xc())===null||n===void 0?void 0:n.config},v_=n=>{var e;return(e=Xc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ac(JSON.stringify(t)),Ac(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function bI(){var n;const e=(n=Xc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UI(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $I(){try{return typeof indexedDB=="object"}catch{return!1}}function zI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class li extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=BI,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?qI(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new li(o,d,i)}}function qI(n,e){return n.replace(HI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const HI=/\{\$([^}]+)}/g;function WI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(yy(a)&&yy(c)){if(!Rc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function yy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function GI(n,e){const t=new KI(n,e);return t.subscribe.bind(t)}class KI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");QI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class bs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new NI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(n){return n===ks?void 0:n}function JI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const eS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},tS=ze.INFO,nS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},rS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=nS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zf{constructor(e){this.name=e,this._logLevel=tS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const iS=(n,e)=>e.some(t=>n instanceof t);let vy,_y;function sS(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,vf=new WeakMap,E_=new WeakMap,Jd=new WeakMap,ep=new WeakMap;function aS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t($i(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&__.set(t,n)}).catch(()=>{}),ep.set(e,n),e}function lS(n){if(vf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});vf.set(n,e)}let _f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uS(n){_f=n(_f)}function cS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Zd(this),e,...t);return E_.set(i,e.sort?e.sort():[e]),$i(i)}:oS().includes(n)?function(...e){return n.apply(Zd(this),e),$i(__.get(this))}:function(...e){return $i(n.apply(Zd(this),e))}}function hS(n){return typeof n=="function"?cS(n):(n instanceof IDBTransaction&&lS(n),iS(n,sS())?new Proxy(n,_f):n)}function $i(n){if(n instanceof IDBRequest)return aS(n);if(Jd.has(n))return Jd.get(n);const e=hS(n);return e!==n&&(Jd.set(n,e),ep.set(e,n)),e}const Zd=n=>ep.get(n);function dS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=$i(c);return i&&c.addEventListener("upgradeneeded",p=>{i($i(c.result),p.oldVersion,p.newVersion,$i(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const fS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],ef=new Map;function Ey(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=pS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||fS.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return ef.set(e,a),a}uS(n=>({...n,get:(e,t,i)=>Ey(e,t)||n.get(e,t,i),has:(e,t)=>!!Ey(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",wy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Zf("@firebase/app"),yS="@firebase/app-compat",vS="@firebase/analytics-compat",_S="@firebase/analytics",ES="@firebase/app-check-compat",wS="@firebase/app-check",TS="@firebase/auth",IS="@firebase/auth-compat",SS="@firebase/database",AS="@firebase/data-connect",RS="@firebase/database-compat",kS="@firebase/functions",CS="@firebase/functions-compat",PS="@firebase/installations",xS="@firebase/installations-compat",DS="@firebase/messaging",NS="@firebase/messaging-compat",VS="@firebase/performance",OS="@firebase/performance-compat",bS="@firebase/remote-config",LS="@firebase/remote-config-compat",FS="@firebase/storage",MS="@firebase/storage-compat",US="@firebase/firestore",jS="@firebase/vertexai",$S="@firebase/firestore-compat",zS="firebase",BS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",qS={[Ef]:"fire-core",[yS]:"fire-core-compat",[_S]:"fire-analytics",[vS]:"fire-analytics-compat",[wS]:"fire-app-check",[ES]:"fire-app-check-compat",[TS]:"fire-auth",[IS]:"fire-auth-compat",[SS]:"fire-rtdb",[AS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[kS]:"fire-fn",[CS]:"fire-fn-compat",[PS]:"fire-iid",[xS]:"fire-iid-compat",[DS]:"fire-fcm",[NS]:"fire-fcm-compat",[VS]:"fire-perf",[OS]:"fire-perf-compat",[bS]:"fire-rc",[LS]:"fire-rc-compat",[FS]:"fire-gcs",[MS]:"fire-gcs-compat",[US]:"fire-fst",[$S]:"fire-fst-compat",[jS]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,HS=new Map,Tf=new Map;function Ty(n,e){try{n.container.addComponent(e)}catch(t){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(Tf.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,n);for(const t of kc.values())Ty(t,n);for(const t of HS.values())Ty(t,n);return!0}function tp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Al("app","Firebase",WS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=BS;function w_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw zi.create("bad-app-name",{appName:String(o)});if(t||(t=y_()),!t)throw zi.create("no-options");const a=kc.get(o);if(a){if(Rc(t,a.options)&&Rc(i,a.config))return a;throw zi.create("duplicate-app",{appName:o})}const c=new ZI(o);for(const p of Tf.values())c.addComponent(p);const d=new GS(t,i,c);return kc.set(o,d),d}function T_(n=wf){const e=kc.get(n);if(!e&&n===wf&&y_())return w_();if(!e)throw zi.create("no-app",{appName:n});return e}function Bi(n,e,t){var i;let o=(i=qS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(d.join(" "));return}Wo(new bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebase-heartbeat-database",QS=1,dl="firebase-heartbeat-store";let tf=null;function I_(){return tf||(tf=dS(KS,QS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),tf}async function YS(n){try{const t=(await I_()).transaction(dl),i=await t.objectStore(dl).get(S_(n));return await t.done,i}catch(e){if(e instanceof li)ri.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(t.message)}}}async function Iy(n,e){try{const i=(await I_()).transaction(dl,"readwrite");await i.objectStore(dl).put(e,S_(n)),await i.done}catch(t){if(t instanceof li)ri.warn(t.message);else{const i=zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ri.warn(i.message)}}}function S_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1024,JS=30*24*60*60*1e3;class ZS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new t1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Sy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=JS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ri.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sy(),{heartbeatsToSend:i,unsentEntries:o}=e1(this._heartbeatsCache.heartbeats),a=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ri.warn(t),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function e1(n,e=XS){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Ay(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ay(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class t1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $I()?zI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ay(n){return Ac(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n){Wo(new bs("platform-logger",e=>new mS(e),"PRIVATE")),Wo(new bs("heartbeat",e=>new ZS(e),"PRIVATE")),Bi(Ef,wy,n),Bi(Ef,wy,"esm2017"),Bi("fire-js","")}n1("");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,A_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function R(){}R.prototype=S.prototype,P.D=S.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(C,D,x){for(var A=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)A[Ne-2]=arguments[Ne];return S.prototype[D].apply(C,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,R){R||(R=0);var C=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)C[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;16>D;++D)C[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=P.g[0],R=P.g[1],D=P.g[2];var x=P.g[3],A=S+(x^R&(D^x))+C[0]+3614090360&4294967295;S=R+(A<<7&4294967295|A>>>25),A=x+(D^S&(R^D))+C[1]+3905402710&4294967295,x=S+(A<<12&4294967295|A>>>20),A=D+(R^x&(S^R))+C[2]+606105819&4294967295,D=x+(A<<17&4294967295|A>>>15),A=R+(S^D&(x^S))+C[3]+3250441966&4294967295,R=D+(A<<22&4294967295|A>>>10),A=S+(x^R&(D^x))+C[4]+4118548399&4294967295,S=R+(A<<7&4294967295|A>>>25),A=x+(D^S&(R^D))+C[5]+1200080426&4294967295,x=S+(A<<12&4294967295|A>>>20),A=D+(R^x&(S^R))+C[6]+2821735955&4294967295,D=x+(A<<17&4294967295|A>>>15),A=R+(S^D&(x^S))+C[7]+4249261313&4294967295,R=D+(A<<22&4294967295|A>>>10),A=S+(x^R&(D^x))+C[8]+1770035416&4294967295,S=R+(A<<7&4294967295|A>>>25),A=x+(D^S&(R^D))+C[9]+2336552879&4294967295,x=S+(A<<12&4294967295|A>>>20),A=D+(R^x&(S^R))+C[10]+4294925233&4294967295,D=x+(A<<17&4294967295|A>>>15),A=R+(S^D&(x^S))+C[11]+2304563134&4294967295,R=D+(A<<22&4294967295|A>>>10),A=S+(x^R&(D^x))+C[12]+1804603682&4294967295,S=R+(A<<7&4294967295|A>>>25),A=x+(D^S&(R^D))+C[13]+4254626195&4294967295,x=S+(A<<12&4294967295|A>>>20),A=D+(R^x&(S^R))+C[14]+2792965006&4294967295,D=x+(A<<17&4294967295|A>>>15),A=R+(S^D&(x^S))+C[15]+1236535329&4294967295,R=D+(A<<22&4294967295|A>>>10),A=S+(D^x&(R^D))+C[1]+4129170786&4294967295,S=R+(A<<5&4294967295|A>>>27),A=x+(R^D&(S^R))+C[6]+3225465664&4294967295,x=S+(A<<9&4294967295|A>>>23),A=D+(S^R&(x^S))+C[11]+643717713&4294967295,D=x+(A<<14&4294967295|A>>>18),A=R+(x^S&(D^x))+C[0]+3921069994&4294967295,R=D+(A<<20&4294967295|A>>>12),A=S+(D^x&(R^D))+C[5]+3593408605&4294967295,S=R+(A<<5&4294967295|A>>>27),A=x+(R^D&(S^R))+C[10]+38016083&4294967295,x=S+(A<<9&4294967295|A>>>23),A=D+(S^R&(x^S))+C[15]+3634488961&4294967295,D=x+(A<<14&4294967295|A>>>18),A=R+(x^S&(D^x))+C[4]+3889429448&4294967295,R=D+(A<<20&4294967295|A>>>12),A=S+(D^x&(R^D))+C[9]+568446438&4294967295,S=R+(A<<5&4294967295|A>>>27),A=x+(R^D&(S^R))+C[14]+3275163606&4294967295,x=S+(A<<9&4294967295|A>>>23),A=D+(S^R&(x^S))+C[3]+4107603335&4294967295,D=x+(A<<14&4294967295|A>>>18),A=R+(x^S&(D^x))+C[8]+1163531501&4294967295,R=D+(A<<20&4294967295|A>>>12),A=S+(D^x&(R^D))+C[13]+2850285829&4294967295,S=R+(A<<5&4294967295|A>>>27),A=x+(R^D&(S^R))+C[2]+4243563512&4294967295,x=S+(A<<9&4294967295|A>>>23),A=D+(S^R&(x^S))+C[7]+1735328473&4294967295,D=x+(A<<14&4294967295|A>>>18),A=R+(x^S&(D^x))+C[12]+2368359562&4294967295,R=D+(A<<20&4294967295|A>>>12),A=S+(R^D^x)+C[5]+4294588738&4294967295,S=R+(A<<4&4294967295|A>>>28),A=x+(S^R^D)+C[8]+2272392833&4294967295,x=S+(A<<11&4294967295|A>>>21),A=D+(x^S^R)+C[11]+1839030562&4294967295,D=x+(A<<16&4294967295|A>>>16),A=R+(D^x^S)+C[14]+4259657740&4294967295,R=D+(A<<23&4294967295|A>>>9),A=S+(R^D^x)+C[1]+2763975236&4294967295,S=R+(A<<4&4294967295|A>>>28),A=x+(S^R^D)+C[4]+1272893353&4294967295,x=S+(A<<11&4294967295|A>>>21),A=D+(x^S^R)+C[7]+4139469664&4294967295,D=x+(A<<16&4294967295|A>>>16),A=R+(D^x^S)+C[10]+3200236656&4294967295,R=D+(A<<23&4294967295|A>>>9),A=S+(R^D^x)+C[13]+681279174&4294967295,S=R+(A<<4&4294967295|A>>>28),A=x+(S^R^D)+C[0]+3936430074&4294967295,x=S+(A<<11&4294967295|A>>>21),A=D+(x^S^R)+C[3]+3572445317&4294967295,D=x+(A<<16&4294967295|A>>>16),A=R+(D^x^S)+C[6]+76029189&4294967295,R=D+(A<<23&4294967295|A>>>9),A=S+(R^D^x)+C[9]+3654602809&4294967295,S=R+(A<<4&4294967295|A>>>28),A=x+(S^R^D)+C[12]+3873151461&4294967295,x=S+(A<<11&4294967295|A>>>21),A=D+(x^S^R)+C[15]+530742520&4294967295,D=x+(A<<16&4294967295|A>>>16),A=R+(D^x^S)+C[2]+3299628645&4294967295,R=D+(A<<23&4294967295|A>>>9),A=S+(D^(R|~x))+C[0]+4096336452&4294967295,S=R+(A<<6&4294967295|A>>>26),A=x+(R^(S|~D))+C[7]+1126891415&4294967295,x=S+(A<<10&4294967295|A>>>22),A=D+(S^(x|~R))+C[14]+2878612391&4294967295,D=x+(A<<15&4294967295|A>>>17),A=R+(x^(D|~S))+C[5]+4237533241&4294967295,R=D+(A<<21&4294967295|A>>>11),A=S+(D^(R|~x))+C[12]+1700485571&4294967295,S=R+(A<<6&4294967295|A>>>26),A=x+(R^(S|~D))+C[3]+2399980690&4294967295,x=S+(A<<10&4294967295|A>>>22),A=D+(S^(x|~R))+C[10]+4293915773&4294967295,D=x+(A<<15&4294967295|A>>>17),A=R+(x^(D|~S))+C[1]+2240044497&4294967295,R=D+(A<<21&4294967295|A>>>11),A=S+(D^(R|~x))+C[8]+1873313359&4294967295,S=R+(A<<6&4294967295|A>>>26),A=x+(R^(S|~D))+C[15]+4264355552&4294967295,x=S+(A<<10&4294967295|A>>>22),A=D+(S^(x|~R))+C[6]+2734768916&4294967295,D=x+(A<<15&4294967295|A>>>17),A=R+(x^(D|~S))+C[13]+1309151649&4294967295,R=D+(A<<21&4294967295|A>>>11),A=S+(D^(R|~x))+C[4]+4149444226&4294967295,S=R+(A<<6&4294967295|A>>>26),A=x+(R^(S|~D))+C[11]+3174756917&4294967295,x=S+(A<<10&4294967295|A>>>22),A=D+(S^(x|~R))+C[2]+718787259&4294967295,D=x+(A<<15&4294967295|A>>>17),A=R+(x^(D|~S))+C[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+x&4294967295}i.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var R=S-this.blockSize,C=this.B,D=this.h,x=0;x<S;){if(D==0)for(;x<=R;)o(this,P,x),x+=this.blockSize;if(typeof P=="string"){for(;x<S;)if(C[D++]=P.charCodeAt(x++),D==this.blockSize){o(this,C),D=0;break}}else for(;x<S;)if(C[D++]=P[x++],D==this.blockSize){o(this,C),D=0;break}}this.h=D,this.o+=S},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var R=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=R&255,R/=256;for(this.u(P),P=Array(16),S=R=0;4>S;++S)for(var C=0;32>C;C+=8)P[R++]=this.g[S]>>>C&255;return P};function a(P,S){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=S(P)}function c(P,S){this.h=S;for(var R=[],C=!0,D=P.length-1;0<=D;D--){var x=P[D]|0;C&&x==S||(R[D]=x,C=!1)}this.g=R}var d={};function p(P){return-128<=P&&128>P?a(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return F(y(-P));for(var S=[],R=1,C=0;P>=R;C++)S[C]=P/R|0,R*=4294967296;return new c(S,0)}function _(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return F(_(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),C=w,D=0;D<P.length;D+=8){var x=Math.min(8,P.length-D),A=parseInt(P.substring(D,D+x),S);8>x?(x=y(Math.pow(S,x)),C=C.j(x).add(y(A))):(C=C.j(R),C=C.add(y(A)))}return C}var w=p(0),I=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-F(this).m();for(var P=0,S=1,R=0;R<this.g.length;R++){var C=this.i(R);P+=(0<=C?C:4294967296+C)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(L(this))return"0";if(j(this))return"-"+F(this).toString(P);for(var S=y(Math.pow(P,6)),R=this,C="";;){var D=ce(R,S).g;R=U(R,D.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=D,L(R))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function L(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=U(this,P),j(P)?-1:L(P)?0:1};function F(P){for(var S=P.g.length,R=[],C=0;C<S;C++)R[C]=~P.g[C];return new c(R,~P.h).add(I)}n.abs=function(){return j(this)?F(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],C=0,D=0;D<=S;D++){var x=C+(this.i(D)&65535)+(P.i(D)&65535),A=(x>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);C=A>>>16,x&=65535,A&=65535,R[D]=A<<16|x}return new c(R,R[R.length-1]&-2147483648?-1:0)};function U(P,S){return P.add(F(S))}n.j=function(P){if(L(this)||L(P))return w;if(j(this))return j(P)?F(this).j(F(P)):F(F(this).j(P));if(j(P))return F(this.j(F(P)));if(0>this.l(O)&&0>P.l(O))return y(this.m()*P.m());for(var S=this.g.length+P.g.length,R=[],C=0;C<2*S;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<P.g.length;D++){var x=this.i(C)>>>16,A=this.i(C)&65535,Ne=P.i(D)>>>16,Ye=P.i(D)&65535;R[2*C+2*D]+=A*Ye,B(R,2*C+2*D),R[2*C+2*D+1]+=x*Ye,B(R,2*C+2*D+1),R[2*C+2*D+1]+=A*Ne,B(R,2*C+2*D+1),R[2*C+2*D+2]+=x*Ne,B(R,2*C+2*D+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new c(R,0)};function B(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function te(P,S){this.g=P,this.h=S}function ce(P,S){if(L(S))throw Error("division by zero");if(L(P))return new te(w,w);if(j(P))return S=ce(F(P),S),new te(F(S.g),F(S.h));if(j(S))return S=ce(P,F(S)),new te(F(S.g),S.h);if(30<P.g.length){if(j(P)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,C=S;0>=C.l(P);)R=ue(R),C=ue(C);var D=fe(R,1),x=fe(C,1);for(C=fe(C,2),R=fe(R,2);!L(C);){var A=x.add(C);0>=A.l(P)&&(D=D.add(R),x=A),C=fe(C,1),R=fe(R,1)}return S=U(P,D.j(S)),new te(D,S)}for(D=w;0<=P.l(S);){for(R=Math.max(1,Math.floor(P.m()/S.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=y(R),A=x.j(S);j(A)||0<A.l(P);)R-=C,x=y(R),A=x.j(S);L(x)&&(x=I),D=D.add(x),P=U(P,A)}return new te(D,P)}n.A=function(P){return ce(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)&P.i(C);return new c(R,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)|P.i(C);return new c(R,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)^P.i(C);return new c(R,this.h^P.h)};function ue(P){for(var S=P.g.length+1,R=[],C=0;C<S;C++)R[C]=P.i(C)<<1|P.i(C-1)>>>31;return new c(R,P.h)}function fe(P,S){var R=S>>5;S%=32;for(var C=P.g.length-R,D=[],x=0;x<C;x++)D[x]=0<S?P.i(x+R)>>>S|P.i(x+R+1)<<32-S:P.i(x+R);return new c(D,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,A_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Ns=c}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R_,tl,k_,cc,If,C_,P_,x_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var $=u[T];if(!($ in v))break e;v=v[$]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,$={next:function(){if(!T&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,T),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,I.apply(null,arguments)}function O(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function L(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,$,G){for(var oe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)oe[tt-2]=arguments[tt];return m.prototype[$].apply(T,oe)}}function j(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function F(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const $=u.length||0,G=T.length||0;u.length=$+G;for(let oe=0;oe<G;oe++)u[$+oe]=T[oe]}else u.push(T)}}class U{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function B(u){return/^[\s\xa0]*$/.test(u)}function te(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var ue=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function fe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let v,T;for(let $=1;$<arguments.length;$++){T=arguments[$];for(v in T)u[v]=T[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function D(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function x(u){d.setTimeout(()=>{throw u},0)}function A(){var u=we;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,v){const T=Ye.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ye=new U(()=>new nt,u=>u.reset());class nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,se=!1,we=new Ne,he=()=>{const u=d.Promise.resolve(void 0);Le=()=>{u.then(M)}};var M=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){x(v)}var m=Ye;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Fe(u,m){if(Te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ue){e:{try{ce(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Fe.aa.h.call(this)}}L(Fe,Te);var Me={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),qe=0;function et(u,m,v,T,$){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=$,this.key=++qe,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rn(u){this.src=u,this.g={},this.h=0}Rn.prototype.add=function(u,m,v,T,$){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var oe=zn(u,m,T,$);return-1<oe?(m=u[oe],v||(m.fa=!1)):(m=new et(m,this.src,G,!!T,$),m.fa=v,u.push(m)),m};function ui(u,m){var v=m.type;if(v in u.g){var T=u.g[v],$=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=$)&&Array.prototype.splice.call(T,$,1),G&&(wt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function zn(u,m,v,T){for(var $=0;$<u.length;++$){var G=u[$];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==T)return $}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),Zi={};function qs(u,m,v,T,$){if(Array.isArray(m)){for(var G=0;G<m.length;G++)qs(u,m[G],v,T,$);return null}return v=Ve(v),u&&u[Ge]?u.K(m,v,y(T)?!!T.capture:!!T,$):Hs(u,m,v,!1,T,$)}function Hs(u,m,v,T,$,G){if(!m)throw Error("Invalid event type");var oe=y($)?!!$.capture:!!$,tt=re(u);if(tt||(u[ur]=tt=new Rn(u)),v=tt.add(m,v,T,oe,G),v.proxy)return v;if(T=N(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)be||($=oe),$===void 0&&($=!1),u.addEventListener(m.toString(),T,$);else if(u.attachEvent)u.attachEvent(le(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function N(){function u(v){return m.call(u.src,u.listener,v)}const m=ae;return u}function H(u,m,v,T,$){if(Array.isArray(m))for(var G=0;G<m.length;G++)H(u,m[G],v,T,$);else T=y(T)?!!T.capture:!!T,v=Ve(v),u&&u[Ge]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=zn(G,v,T,$),-1<v&&(wt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=re(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zn(m,v,T,$)),(v=-1<u?m[u]:null)&&K(v))}function K(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ge])ui(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(le(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=re(m))?(ui(v,u),v.h==0&&(v.src=null,m[ur]=null)):wt(u)}}}function le(u){return u in Zi?Zi[u]:Zi[u]="on"+u}function ae(u,m){if(u.da)u=!0;else{m=new Fe(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&K(u),u=v.call(T,m)}return u}function re(u){return u=u[ur],u instanceof Rn?u:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(u){return typeof u=="function"?u:(u[Ie]||(u[Ie]=function(m){return u.handleEvent(m)}),u[Ie])}function Ue(){Y.call(this),this.i=new Rn(this),this.M=this,this.F=null}L(Ue,Y),Ue.prototype[Ge]=!0,Ue.prototype.removeEventListener=function(u,m,v,T){H(this,u,m,v,T)};function je(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Te(m,u);else if(m instanceof Te)m.target=m.target||u;else{var $=m;m=new Te(T,u),C(m,$)}if($=!0,v)for(var G=v.length-1;0<=G;G--){var oe=m.g=v[G];$=Vt(oe,T,!0,m)&&$}if(oe=m.g=u,$=Vt(oe,T,!0,m)&&$,$=Vt(oe,T,!1,m)&&$,v)for(G=0;G<v.length;G++)oe=m.g=v[G],$=Vt(oe,T,!1,m)&&$}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)wt(v[T]);delete u.g[m],u.h--}}this.F=null},Ue.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ue.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Vt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,G=0;G<m.length;++G){var oe=m[G];if(oe&&!oe.da&&oe.capture==v){var tt=oe.listener,kt=oe.ha||oe.src;oe.fa&&ui(u.i,oe),$=tt.call(kt,T)!==!1&&$}}return $&&!T.defaultPrevented}function es(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function kn(u){u.g=es(()=>{u.g=null,u.i&&(u.i=!1,kn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bn extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){Y.call(this),this.h=u,this.g={}}L(Or,Y);var ci=[];function ts(u){fe(u.g,function(m,v){this.g.hasOwnProperty(v)&&K(m)},u),u.g={}}Or.prototype.N=function(){Or.aa.N.call(this),ts(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,ca=d.JSON.parse,ha=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ns(){}ns.prototype.h=null;function Ws(u){return u.h||(u.h=u.i())}function Gs(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){Te.call(this,"d")}L(cr,Te);function Ks(){Te.call(this,"c")}L(Ks,Te);var hr={},da=null;function rs(){return da=da||new Ue}hr.La="serverreachability";function fa(u){Te.call(this,hr.La,u)}L(fa,Te);function br(u){const m=rs();je(m,new fa(m))}hr.STAT_EVENT="statevent";function pa(u,m){Te.call(this,hr.STAT_EVENT,u),this.stat=m}L(pa,Te);function yt(u){const m=rs();je(m,new pa(m,u))}hr.Ma="timingevent";function Qs(u,m){Te.call(this,hr.Ma,u),this.size=m}L(Qs,Te);function qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ss(u,m,v,T,$,G){u.info(function(){if(u.g)if(G)for(var oe="",tt=G.split("&"),kt=0;kt<tt.length;kt++){var Ke=tt[kt].split("=");if(1<Ke.length){var Ot=Ke[0];Ke=Ke[1];var Tt=Ot.split("_");oe=2<=Tt.length&&Tt[1]=="type"?oe+(Ot+"="+Ke+"&"):oe+(Ot+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+T+") [attempt "+$+"]: "+m+`
`+v+`
`+oe})}function Ys(u,m,v,T,$,G,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+$+"]: "+m+`
`+v+`
`+G+" "+oe})}function Hn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+vh(u,v)+(T?" "+T:"")})}function ma(u,m){u.info(function(){return"TIMEOUT: "+m})}is.prototype.info=function(){};function vh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var $=T[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return hi(v)}catch{return m}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function os(){}L(os,ns),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},Wn=new os;function Gn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var ga={},Js={};function Zs(u,m,v){u.L=1,u.v=gi(_n(m)),u.m=v,u.P=!0,ya(u,null)}function ya(u,m){u.F=Date.now(),st(u),u.A=_n(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vi(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Fl,u.g=tu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Bn(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var $="readystatechange";Array.isArray($)||($&&(ci[0]=$.toString()),$=ci);for(var G=0;G<$.length;G++){var oe=qs(v,$[G],T||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),br(),ss(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const m=this.M;m&&an(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=an(this.g);var m=this.g.Ba();const Dn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ia(this.g)))){this.J||Tt!=4||m==7||(m==8||0>=Dn?br(3):br(2)),as(this);var v=this.g.Z();this.X=v;t:if(Ml(this)){var T=Ia(this.g);u="";var $=T.length,G=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),di(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==$-1)});T.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Ys(this.i,this.u,this.A,this.l,this.R,Tt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,kt=this.g;if((tt=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(tt)){var Ke=tt;break t}}Ke=null}if(v=Ke)Hn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,v);else{this.o=!1,this.s=3,yt(12),Pn(this),di(this);break e}}if(this.P){v=!0;let wn;for(;!this.J&&this.C<oe.length;)if(wn=_h(this,oe),wn==Js){Tt==4&&(this.s=4,yt(14),v=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==ga){this.s=4,yt(15),Hn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Hn(this.i,this.l,wn,null),va(this,wn);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||oe.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Hn(this.i,this.l,oe,"[Invalid Chunked Response]"),Pn(this),di(this);else if(0<oe.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Aa(Ot),Ot.M=!0,yt(11))}}else Hn(this.i,this.l,oe,null),va(this,oe);Tt==4&&Pn(this),this.o&&!this.J&&(Tt==4?co(this.j,this):(this.o=!1,st(this)))}else so(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Pn(this),di(this)}}}catch{}finally{}};function Ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _h(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Js:(v=Number(m.substring(v,T)),isNaN(v)?ga:(T+=1,T+v>m.length?Js:(m=m.slice(T,T+v),u.C=T+v,m)))}Gn.prototype.cancel=function(){this.J=!0,Pn(this)};function st(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qn(I(u.ba,u),m)}function as(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ma(this.i,this.A),this.L!=2&&(br(),yt(17)),Pn(this),this.s=2,di(this)):Ul(this,this.S-u)};function di(u){u.j.G==0||u.J||co(u.j,u)}function Pn(u){as(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ts(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function va(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||en(v.h,u))){if(!u.K&&en(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var $=T;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)uo(v),Jn(v);else break e;lo(v),yt(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=qn(I(v.Za,v),6e3));if(1>=$l(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else jr(v,11)}else if((u.K||v.g==u)&&uo(v),!B(m))for($=v.Da.g.parse(m),m=0;m<$.length;m++){let Ke=$[m];if(v.T=Ke[0],Ke=Ke[1],v.G==2)if(Ke[0]=="c"){v.K=Ke[1],v.ia=Ke[2];const Ot=Ke[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const Tt=Ke[4];Tt!=null&&(v.Aa=Tt,v.j.info("SVER="+v.Aa));const Dn=Ke[5];Dn!=null&&typeof Dn=="number"&&0<Dn&&(T=1.5*Dn,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const wn=u.g;if(wn){const ps=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var G=T.h;G.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(_a(G,G.h),G.h=null))}if(T.D){const fo=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(T.ya=fo,it(T.I,T.D,fo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var oe=u;if(T.qa=eu(T,T.J?T.ia:null,T.W),oe.K){zl(T.h,oe);var tt=oe,kt=T.L;kt&&(tt.I=kt),tt.B&&(as(tt),st(tt)),T.g=oe}else fs(T);0<v.i.length&&mr(v)}else Ke[0]!="stop"&&Ke[0]!="close"||jr(v,7);else v.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?jr(v,7):jt(v):Ke[0]!="noop"&&v.l&&v.l.ta(Ke),v.v=0)}}br(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function ls(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $l(u){return u.h?1:u.g?u.g.size:0}function en(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _a(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ls.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return j(u.i)}function eo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function to(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function fi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=to(u),T=eo(u),$=T.length,G=0;G<$;G++)m.call(void 0,T[G],v&&v[G],u)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),$=null;if(0<=T){var G=u[v].substring(0,T);$=u[v].substring(T+1)}else G=u[v];m(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Lr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Lr){this.h=u.h,cs(this,u.j),this.o=u.o,this.g=u.g,pi(this,u.s),this.l=u.l;var m=u.i,v=new dr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),mi(this,v),this.m=u.m}else u&&(m=String(u).match(us))?(this.h=!1,cs(this,m[1]||"",!0),this.o=He(m[2]||""),this.g=He(m[3]||"",!0),pi(this,m[4]),this.l=He(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=He(m[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Lr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(yi(m,no,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yi(m,no,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yi(v,v.charAt(0)=="/"?Wl:Hl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yi(v,Ea)),u.join("")};function _n(u){return new Lr(u)}function cs(u,m,v){u.j=v?He(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function pi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,v){m instanceof dr?(u.i=m,fr(u.i,u.h)):(v||(m=yi(m,Gl)),u.i=new dr(m,u.h))}function it(u,m,v){u.i.set(m,v)}function gi(u){return it(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function He(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var no=/[#\/\?@]/g,Hl=/[#\?:]/g,Wl=/[#\?]/g,Gl=/[#\?@]/g,Ea=/#/g;function dr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&Eh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=dr.prototype,n.add=function(u,m){Ut(this),this.i=null,u=xn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Kn(u,m){Ut(u),m=xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qn(u,m){return Ut(u),m=xn(u,m),u.g.has(m)}n.forEach=function(u,m){Ut(this),this.g.forEach(function(v,T){v.forEach(function($){u.call(m,$,T,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const $=u[T];for(let G=0;G<$.length;G++)v.push(m[T])}return v},n.V=function(u){Ut(this);let m=[];if(typeof u=="string")Qn(this,u)&&(m=m.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Ut(this),this.i=null,u=xn(this,u),Qn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vi(u,m,v){Kn(u,m),0<v.length&&(u.i=null,u.g.set(xn(u,m),j(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const G=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var $=G;oe[T]!==""&&($+="="+encodeURIComponent(String(oe[T]))),u.push($)}}return this.i=u.join("&")};function xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fr(u,m){m&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(v,T){var $=T.toLowerCase();T!=$&&(Kn(this,T),vi(this,$,v))},u)),u.j=m}function wh(u,m){const v=new is;if(d.Image){const T=new Image;T.onload=O(on,v,"TestLoadImage: loaded",!0,m,T),T.onerror=O(on,v,"TestLoadImage: error",!1,m,T),T.onabort=O(on,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=O(on,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Kl(u,m){const v=new is,T=new AbortController,$=setTimeout(()=>{T.abort(),on(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout($),G.ok?on(v,"TestPingServer: ok",!0,m):on(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),on(v,"TestPingServer: error",!1,m)})}function on(u,m,v,T,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),T(v)}catch{}}function Th(){this.g=new ha}function Ql(u,m,v){const T=v||"";try{fi(u,function($,G){let oe=$;y($)&&(oe=hi($)),m.push(T+G+"="+encodeURIComponent(oe))})}catch($){throw m.push(T+"type="+encodeURIComponent("_badmap")),$}}function Fr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Fr,ns),Fr.prototype.g=function(){return new hs(this.l,this.j)},Fr.prototype.i=function(u){return function(){return u}}({});function hs(u,m){Ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(hs,Ue),n=hs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&Yl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},n.Qa=function(u){this.g&&(this.response=u,Yn(this))},n.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mr(u){let m="";return fe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function _i(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Mr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):it(u,m,v))}function ct(u){Ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(ct,Ue);var Ih=/^https?$/i,wa=["POST","PUT"];n=ct.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Ws(this.o):Ws(Wn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){ds(this,G);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var $ in T)v.set($,T[$]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())v.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),$=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wa,m,void 0))||T||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){ds(this,G)}};function ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ro(u),En(u)}function ro(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,je(this,"complete"),je(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},n.bb=function(){Ta(this)};function Ta(u){if(u.h&&typeof c<"u"&&(!u.v[1]||an(u)!=4||u.Z()!=2)){if(u.u&&an(u)==4)es(u.Ea,0,u);else if(je(u,"readystatechange"),an(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=oe===0){var $=String(u.D).match(us)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!Ih.test($?$.toLowerCase():"")}v=T}if(v)je(u,"complete"),je(u,"success");else{u.m=6;try{var G=2<an(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",ro(u)}}finally{En(u)}}}}function En(u,m){if(u.g){io(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||je(u,"ready");try{v.onreadystatechange=T}catch{}}}function io(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function an(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ca(m)}};function Ia(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function so(u){const m={};u=(u.g&&2<=an(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(B(u[T]))continue;var v=D(u[T]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[$]||[];m[$]=G,G.push(v)}P(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Sa(u){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,u),this.cb=pr("retryDelaySeedMs",1e4,u),this.Wa=pr("forwardChannelMaxRetries",2,u),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(u&&u.concurrentRequestLimit),this.Da=new Th,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){yt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=eu(this,null,this.W),mr(this)};function jt(u){if(oo(u),u.G==3){var m=u.U++,v=_n(u.I);if(it(v,"SID",u.K),it(v,"RID",m),it(v,"TYPE","terminate"),Ur(u,v),m=new Gn(u,u.j,m),m.L=2,m.v=gi(_n(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),st(m)}Zl(u)}function Jn(u){u.g&&(Aa(u),u.g.cancel(),u.g=null)}function oo(u){Jn(u),u.u&&(d.clearTimeout(u.u),u.u=null),uo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function mr(u){if(!vn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Le||he(),se||(Le(),se=!0),we.add(m,u),u.B=0}}function Sh(u,m){return $l(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qn(I(u.Ga,u,m),Jl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new Gn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=S(G),C(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ei(this,$,m),v=_n(this.I),it(v,"RID",u),it(v,"CVER",22),this.D&&it(v,"X-HTTP-Session-Id",this.D),Ur(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(Mr(G)))+"&"+m:this.m&&_i(v,this.m,G)),_a(this.h,$),this.Ua&&it(v,"TYPE","init"),this.P?(it(v,"$req",m),it(v,"SID","null"),$.T=!0,Zs($,v,null)):Zs($,v,m),this.G=2}}else this.G==3&&(u?ao(this,u):this.i.length==0||vn(this.h)||ao(this))};function ao(u,m){var v;m?v=m.l:v=u.U++;const T=_n(u.I);it(T,"SID",u.K),it(T,"RID",v),it(T,"AID",u.T),Ur(u,T),u.m&&u.o&&_i(T,u.m,u.o),v=new Gn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ei(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,v),Zs(v,T,m)}function Ur(u,m){u.H&&fe(u.H,function(v,T){it(m,T,v)}),u.l&&fi({},function(v,T){it(m,T,v)})}function Ei(u,m,v){v=Math.min(u.i.length,v);var T=u.l?I(u.l.Na,u.l,u):null;e:{var $=u.i;let G=-1;for(;;){const oe=["count="+v];G==-1?0<v?(G=$[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let tt=!0;for(let kt=0;kt<v;kt++){let Ke=$[kt].g;const Ot=$[kt].map;if(Ke-=G,0>Ke)G=Math.max(0,$[kt].g-100),tt=!1;else try{Ql(Ot,oe,"req"+Ke+"_")}catch{T&&T(Ot)}}if(tt){T=oe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function fs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Le||he(),se||(Le(),se=!0),we.add(m,u),u.v=0}}function lo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qn(I(u.Fa,u),Jl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Jn(this),Xl(this))};function Aa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=_n(u.qa);it(m,"RID","rpc"),it(m,"SID",u.K),it(m,"AID",u.T),it(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&it(m,"TO",u.ja),it(m,"TYPE","xmlhttp"),Ur(u,m),u.m&&u.o&&_i(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=gi(_n(m)),v.m=null,v.P=!0,ya(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),lo(this),yt(19))};function uo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function co(u,m){var v=null;if(u.g==m){uo(u),Aa(u),u.g=null;var T=2}else if(en(u.h,m))v=m.D,zl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;T=rs(),je(T,new Qs(T,v)),mr(u)}else fs(u);else if($=m.s,$==3||$==0&&0<m.X||!(T==1&&Sh(u,m)||T==2&&lo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),$){case 1:jr(u,5);break;case 4:jr(u,10);break;case 3:jr(u,6);break;default:jr(u,2)}}}function Jl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function jr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),T=u.Xa;const $=!T;T=new Lr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||cs(T,"https"),gi(T),$?wh(T.toString(),v):Kl(T.toString(),v)}else yt(2);u.G=0,u.l&&u.l.sa(m),Zl(u),oo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Zl(u){if(u.G=0,u.ka=[],u.l){const m=Bl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function eu(u,m,v){var T=v instanceof Lr?_n(v):new Lr(v);if(T.g!="")m&&(T.g=m+"."+T.g),pi(T,T.s);else{var $=d.location;T=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var G=new Lr(null);T&&cs(G,T),m&&(G.g=m),$&&pi(G,$),v&&(G.l=v),T=G}return v=u.D,m=u.ya,v&&m&&it(T,v,m),it(T,"VER",u.la),Ur(u,T),T}function tu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ct(new Fr({eb:v})):new ct(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ra(){}n=Ra.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ue.call(this),this.g=new Sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!B(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!B(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new gr(this)}L(tn,Ue),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){jt(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=hi(u),u=v);m.i.push(new jl(m.Ya++,u)),m.G==3&&mr(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,tn.aa.N.call(this)};function nu(u){cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(nu,cr);function ru(){Ks.call(this),this.status=1}L(ru,Ks);function gr(u){this.g=u}L(gr,Ra),gr.prototype.ua=function(){je(this.g,"a")},gr.prototype.ta=function(u){je(this.g,new nu(u))},gr.prototype.sa=function(u){je(this.g,new ru)},gr.prototype.ra=function(){je(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,x_=function(){return new ho},P_=function(){return rs()},C_=hr,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,cc=Xs,Ll.COMPLETE="complete",k_=Ll,Gs.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,tl=Gs,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,R_=ct}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Zf("@firebase/firestore");function Lo(){return Ls.logLevel}function pe(n,...e){if(Ls.logLevel<=ze.DEBUG){const t=e.map(np);Ls.debug(`Firestore (${ia}): ${n}`,...t)}}function ii(n,...e){if(Ls.logLevel<=ze.ERROR){const t=e.map(np);Ls.error(`Firestore (${ia}): ${n}`,...t)}}function Go(n,...e){if(Ls.logLevel<=ze.WARN){const t=e.map(np);Ls.warn(`Firestore (${ia}): ${n}`,...t)}}function np(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function Ze(n,e){n||Pe()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class i1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s1{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new D_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Xt(e)}}class o1{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a1{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new o1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new l1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=c1(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function Ko(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Dt(0,0))}static max(){return new De(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(),i===void 0?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ut extends fl{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const h1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends fl{construct(e,t,i){return new qt(e,t,i)}static isValidIdentifier(e){return h1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new ve(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ut.fromString(e))}static fromName(e){return new Se(ut.fromString(e).popFirst(5))}static empty(){return new Se(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ut(e.slice()))}}function d1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=De.fromTimestamp(i===1e9?new Dt(t+1,0):new Dt(t,i));return new Ki(o,Se.empty(),e)}function f1(n){return new Ki(n.readTime,n.key,-1)}class Ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ki(De.min(),Se.empty(),-1)}static max(){return new Ki(De.max(),Se.empty(),-1)}}function p1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==m1)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function y1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jc.oe=-1;function Zc(n){return n==null}function Cc(n){return n===0&&1/n==-1/0}function v1(n){return typeof n=="number"&&Number.isInteger(n)&&!Cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Cy(e)),e=E1(n.get(t),e);return Cy(e)}function E1(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Cy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function V_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Bt.RED,this.left=o??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Bt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new or([])}unionWith(e){let t=new Nt(qt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new O_("Invalid base64 string: "+a):a}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const w1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=w1.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yi(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function eh(n){const e=n.mapValue.fields.__previous_value__;return rp(e)?eh(e):e}function pl(n){const e=Qi(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,i,o,a,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rp(n)?4:S1(n)?9007199254740991:I1(n)?10:11:Pe()}function xr(n,e){if(n===e)return!0;const t=Xi(n);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pl(n).isEqual(pl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Qi(o.timestampValue),d=Qi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Yi(o.bytesValue).isEqual(Yi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return _t(o.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return _t(o.integerValue)===_t(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=_t(o.doubleValue),d=_t(a.doubleValue);return c===d?Cc(c)===Cc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Py(c)!==Py(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!xr(c[p],d[p])))return!1;return!0}(n,e);default:return Pe()}}function gl(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function Qo(n,e){if(n===e)return 0;const t=Xi(n),i=Xi(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=_t(a.integerValue||a.doubleValue),p=_t(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Dy(n.timestampValue,e.timestampValue);case 4:return Dy(pl(n),pl(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Yi(a),p=Yi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=We(d[y],p[y]);if(_!==0)return _}return We(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=We(_t(a.latitude),_t(c.latitude));return d!==0?d:We(_t(a.longitude),_t(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ny(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,_;const w=a.fields||{},I=c.fields||{},O=(d=w.value)===null||d===void 0?void 0:d.arrayValue,L=(p=I.value)===null||p===void 0?void 0:p.arrayValue,j=We(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:Ny(O,L)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===ec.mapValue&&c===ec.mapValue)return 0;if(a===ec.mapValue)return 1;if(c===ec.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const I=We(p[w],_[w]);if(I!==0)return I;const O=Qo(d[p[w]],y[_[w]]);if(O!==0)return O}return We(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function Dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=Qi(n),i=Qi(e),o=We(t.seconds,i.seconds);return o!==0?o:We(t.nanos,i.nanos)}function Ny(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Qo(t[o],i[o]);if(a)return a}return We(t.length,i.length)}function Yo(n){return Sf(n)}function Sf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Qi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Yi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Sf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Sf(t.fields[c])}`;return o+"}"}(n.mapValue):Pe()}function hc(n){switch(Xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eh(n);return e?16+hc(e):16;case 5:return 2*n.stringValue.length;case 6:return Yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+hc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Us(i.fields,(a,c)=>{o+=a.length+hc(c)}),o}(n.mapValue);default:throw Pe()}}function Vy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Af(n){return!!n&&"integerValue"in n}function ip(n){return!!n&&"arrayValue"in n}function Oy(n){return!!n&&"nullValue"in n}function by(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dc(n){return!!n&&"mapValue"in n}function I1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function sl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Us(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=sl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function S1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=qt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=sl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());dc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Us(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new jn(sl(this.value))}}function b_(n){const e=[];return Us(n.fields,(t,i)=>{const o=new qt([t]);if(dc(i)){const a=b_(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,De.min(),De.min(),De.min(),jn.empty(),0)}static newFoundDocument(e,t,i,o){return new Jt(e,1,t,De.min(),i,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,De.min(),De.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,De.min(),De.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function Ly(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Se.comparator(Se.fromName(c.referenceValue),t.key):i=Qo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function A1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{}class Rt extends L_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new k1(e,t,i):t==="array-contains"?new x1(e,i):t==="in"?new D1(e,i):t==="not-in"?new N1(e,i):t==="array-contains-any"?new V1(e,i):new Rt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new C1(e,i):new P1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qo(t,this.value)):t!==null&&Xi(this.value)===Xi(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends L_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lr(e,t)}matches(e){return F_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function F_(n){return n.op==="and"}function M_(n){return R1(n)&&F_(n)}function R1(n){for(const e of n.filters)if(e instanceof lr)return!1;return!0}function Rf(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(M_(n))return n.filters.map(e=>Rf(e)).join(",");{const e=n.filters.map(t=>Rf(t)).join(",");return`${n.op}(${e})`}}function U_(n,e){return n instanceof Rt?function(i,o){return o instanceof Rt&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)}(n,e):n instanceof lr?function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&U_(c,o.filters[d]),!0):!1}(n,e):void Pe()}function j_(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`}(n):n instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(j_).join(" ,")+"}"}(n):"Filter"}class k1 extends Rt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class C1 extends Rt{constructor(e,t){super(e,"in",t),this.keys=$_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class P1 extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=$_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class x1 extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ip(t)&&gl(t.arrayValue,this.value)}}class D1 extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gl(this.value.arrayValue,t)}}class N1 extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gl(this.value.arrayValue,t)}}class V1 extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function My(n,e=null,t=[],i=[],o=null,a=null,c=null){return new O1(n,e,t,i,o,a,c)}function sp(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yo(i)).join(",")),e.ue=t}return e.ue}function op(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!A1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!U_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fy(n.startAt,e.startAt)&&Fy(n.endAt,e.endAt)}function kf(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function b1(n,e,t,i,o,a,c,d){return new kl(n,e,t,i,o,a,c,d)}function z_(n){return new kl(n)}function Uy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B_(n){return n.collectionGroup!==null}function ol(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nt(qt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new xc(a,i))}),t.has(qt.keyField().canonicalString())||e.ce.push(new xc(qt.keyField(),i))}return e.ce}function Ar(n){const e=Oe(n);return e.le||(e.le=L1(e,ol(n))),e.le}function L1(n,e){if(n.limitType==="F")return My(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new xc(o.field,a)});const t=n.endAt?new Pc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pc(n.startAt.position,n.startAt.inclusive):null;return My(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Cf(n,e){const t=n.filters.concat([e]);return new kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pf(n,e,t){return new kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function th(n,e){return op(Ar(n),Ar(e))&&n.limitType===e.limitType}function q_(n){return`${sp(Ar(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>j_(o)).join(", ")}]`),Zc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Yo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Yo(o)).join(",")),`Target(${i})`}(Ar(n))}; limitType=${n.limitType})`}function nh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Se.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of ol(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=Ly(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,ol(i),o)||i.endAt&&!function(c,d,p){const y=Ly(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,ol(i),o))}(n,e)}function F1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function H_(n){return(e,t)=>{let i=!1;for(const o of ol(n)){const a=M1(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function M1(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Qo(p,y):Pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return V_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new mt(Se.comparator);function si(){return U1}const W_=new mt(Se.comparator);function nl(...n){let e=W_;for(const t of n)e=e.insert(t.key,t);return e}function G_(n){let e=W_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Cs(){return al()}function K_(){return al()}function al(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const j1=new mt(Se.comparator),$1=new Nt(Se.comparator);function Be(...n){let e=$1;for(const t of n)e=e.add(t);return e}const z1=new Nt(We);function B1(){return z1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function Q_(n){return{integerValue:""+n}}function q1(n,e){return v1(e)?Q_(e):ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function H1(n,e,t){return n instanceof Dc?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&rp(a)&&(a=eh(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof yl?X_(n,e):n instanceof vl?J_(n,e):function(o,a){const c=Y_(o,a),d=jy(c)+jy(o.Pe);return Af(c)&&Af(o.Pe)?Q_(d):ap(o.serializer,d)}(n,e)}function W1(n,e,t){return n instanceof yl?X_(n,e):n instanceof vl?J_(n,e):t}function Y_(n,e){return n instanceof Nc?function(i){return Af(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Dc extends rh{}class yl extends rh{constructor(e){super(),this.elements=e}}function X_(n,e){const t=Z_(e);for(const i of n.elements)t.some(o=>xr(o,i))||t.push(i);return{arrayValue:{values:t}}}class vl extends rh{constructor(e){super(),this.elements=e}}function J_(n,e){let t=Z_(e);for(const i of n.elements)t=t.filter(o=>!xr(o,i));return{arrayValue:{values:t}}}class Nc extends rh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jy(n){return _t(n.integerValue||n.doubleValue)}function Z_(n){return ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function G1(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof yl&&o instanceof yl||i instanceof vl&&o instanceof vl?Ko(i.elements,o.elements,xr):i instanceof Nc&&o instanceof Nc?xr(i.Pe,o.Pe):i instanceof Dc&&o instanceof Dc}(n.transform,e.transform)}class K1{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ih{}function e0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lp(n.key,Rr.none()):new Cl(n.key,n.data,Rr.none());{const t=n.data,i=jn.empty();let o=new Nt(qt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new $s(n.key,i,new or(o.toArray()),Rr.none())}}function Q1(n,e,t){n instanceof Cl?function(o,a,c){const d=o.value.clone(),p=zy(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(o,a,c){if(!fc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=zy(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(t0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ll(n,e,t,i){return n instanceof Cl?function(a,c,d,p){if(!fc(a.precondition,c))return d;const y=a.value.clone(),_=By(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof $s?function(a,c,d,p){if(!fc(a.precondition,c))return d;const y=By(a.fieldTransforms,p,c),_=c.data;return _.setAll(t0(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,c,d){return fc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Y1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=Y_(i.transform,o||null);a!=null&&(t===null&&(t=jn.empty()),t.set(i.field,a))}return t||null}function $y(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ko(i,o,(a,c)=>G1(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cl extends ih{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends ih{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function t0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function zy(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,W1(c,d,t[o]))}return i}function By(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,H1(a,c,e))}return i}class lp extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X1 extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Q1(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=K_();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=e0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,i)=>$y(t,i))&&Ko(this.baseMutations,e.baseMutations,(t,i)=>$y(t,i))}}class up{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return j1}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new up(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Qe;function tA(n){switch(n){default:return Pe();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function n0(n){if(n===void 0)return ii("GRPC error has no .code"),J.UNKNOWN;switch(n){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Pe()}}(Qe=St||(St={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Ns([4294967295,4294967295],0);function qy(n){const e=nA().encode(n),t=new A_;return t.update(e),new Uint8Array(t.digest())}function Hy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ns([t,i],0),new Ns([o,a],0)]}class cp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new rl(`Invalid padding: ${t}`);if(i<0)throw new rl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new rl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ns.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ns.fromNumber(i)));return o.compare(rA)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=qy(e),[i,o]=Hy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new cp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=qy(e),[i,o]=Hy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sh(De.min(),o,new mt(We),si(),Be())}}class Pl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pl(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class r0{constructor(e,t){this.targetId=e,this.me=t}}class i0{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Wy{constructor(){this.fe=0,this.ge=Gy(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),t=Be(),i=Be();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe()}}),new Pl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Gy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iA{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=tc(),this.Qe=tc(),this.Ke=new mt(We)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(kf(a))if(i===0){const c=new Se(a.path);this.We(t,c,Jt.newNoDocument(c,De.min()))}else Ze(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Yi(i).toUint8Array()}catch(p){if(p instanceof O_)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new cp(c,o,a)}catch(p){return Go(p instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const d=this.Ye(c);if(d){if(a.current&&kf(d.target)){const p=new Se(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Jt.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Be();this.Qe.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new sh(e,t,this.Ke,this.ke,i);return this.ke=si(),this.qe=tc(),this.Qe=tc(),this.Ke=new mt(We),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Wy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Nt(We),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Nt(We),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Wy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function tc(){return new mt(Se.comparator)}function Gy(){return new mt(Se.comparator)}const sA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aA={and:"AND",or:"OR"};class lA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xf(n,e){return n.useProto3Json||Zc(e)?e:{value:e}}function Vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uA(n,e){return Vc(n,e.toTimestamp())}function kr(n){return Ze(!!n),De.fromTimestamp(function(t){const i=Qi(t);return new Dt(i.seconds,i.nanos)}(n))}function hp(n,e){return Df(n,e).canonicalString()}function Df(n,e){const t=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function o0(n){const e=ut.fromString(n);return Ze(h0(e)),e}function Nf(n,e){return hp(n.databaseId,e.path)}function nf(n,e){const t=o0(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(l0(t))}function a0(n,e){return hp(n.databaseId,e)}function cA(n){const e=o0(n);return e.length===4?ut.emptyPath():l0(e)}function Vf(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l0(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ky(n,e,t){return{name:Nf(n,e),fields:t.value.mapValue.fields}}function hA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(Ze(_===void 0||typeof _=="string"),Ht.fromBase64String(_||"")):(Ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Ht.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?J.UNKNOWN:n0(y.code);return new ve(_,y.message||"")}(c);t=new i0(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=nf(n,i.document.name),a=kr(i.document.updateTime),c=i.document.createTime?kr(i.document.createTime):De.min(),d=new jn({mapValue:{fields:i.document.fields}}),p=Jt.newFoundDocument(o,a,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new pc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=nf(n,i.document),a=i.readTime?kr(i.readTime):De.min(),c=Jt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new pc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=nf(n,i.document),a=i.removedTargetIds||[];t=new pc([],a,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new eA(o,a),d=i.targetId;t=new r0(d,c)}}return t}function dA(n,e){let t;if(e instanceof Cl)t={update:Ky(n,e.key,e.value)};else if(e instanceof lp)t={delete:Nf(n,e.key)};else if(e instanceof $s)t={update:Ky(n,e.key,e.data),updateMask:wA(e.fieldMask)};else{if(!(e instanceof X1))return Pe();t={verify:Nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Pe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:uA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(n,e.precondition)),t}function fA(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?kr(o.updateTime):kr(a);return c.isEqual(De.min())&&(c=kr(a)),new K1(c,o.transformResults||[])}(t,e))):[]}function pA(n,e){return{documents:[a0(n,e.path)]}}function mA(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=a0(n,o);const a=function(y){if(y.length!==0)return c0(lr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(I){return{field:Mo(I.field),direction:vA(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=xf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function gA(n){let e=cA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const I=u0(w);return I instanceof lr&&M_(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(I=>function(L){return new xc(Uo(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(w){let I;return I=typeof w=="object"?w.value:w,Zc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(w){const I=!!w.before,O=w.values||[];return new Pc(O,I)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const I=!w.before,O=w.values||[];return new Pc(O,I)}(t.endAt)),b1(e,o,c,a,d,"F",p,y)}function yA(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function u0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uo(t.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Rt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(i=>u0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe()}function vA(n){return sA[n]}function _A(n){return oA[n]}function EA(n){return aA[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return qt.fromServerFormat(n.fieldPath)}function c0(n){return n instanceof Rt?function(t){if(t.op==="=="){if(by(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(by(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:_A(t.op),value:t.value}}}(n):n instanceof lr?function(t){const i=t.getFilters().map(o=>c0(o));return i.length===1?i[0]:{compositeFilter:{op:EA(t.op),filters:i}}}(n):Pe()}function wA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function h0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,i,o,a=De.min(),c=De.min(),d=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.ht=e}}function IA(n){const e=gA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.ln=new AA}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ki.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class AA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Nt(ut.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Xo(0)}static Qn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy([n,e],[t,i]){const o=We(n,t);return o===0?We(e,i):o}class RA{constructor(e){this.Gn=e,this.buffer=new Nt(Yy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Yy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oa(t)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.Yn(3e5)})}}class CA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Jc.oe);const i=new RA(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Qy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),Lo()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function PA(n,e){return new CA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ll(i.mutation,o,or.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const o=Cs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=nl();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Cs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=si();const c=al(),d=function(){return al()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof $s)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),ll(_.mutation,y,_.mutation.getFieldMask(),Dt.now())):c.set(y.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var w;return d.set(y,new DA(_,(w=c.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=al();let o=new mt((c,d)=>c-d),a=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||or.empty();_=d.applyToLocalView(y,_),i.set(p,_);const w=(o.get(d.batchId)||Be()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,w=K_();_.forEach(I=>{if(!a.has(I)){const O=e0(t.get(I),i.get(I));O!==null&&w.set(I,O),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Cs());let d=-1,p=a;return c.next(y=>X.forEach(y,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Be())).next(_=>({batchId:d,changes:G_(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let o=nl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=nl();return this.indexManager.getCollectionParents(e,a).next(d=>X.forEach(d,p=>{const y=function(w,I){return new kl(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((w,I)=>{c=c.insert(w,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Jt.newInvalidDocument(_)))});let d=nl();return c.forEach((p,y)=>{const _=a.get(p);_!==void 0&&ll(_.mutation,y,or.empty(),Dt.now()),nh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:IA(o.bundledQuery),readTime:kr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.overlays=new mt(Se.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Cs();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Cs(),a=t.length+1,c=new Se(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new mt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Cs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Cs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return X.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Z1(t,i));let a=this.Er.get(t);a===void 0&&(a=Be(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.dr=new Nt(Mt.Ar),this.Rr=new Nt(Mt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Mt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Mt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Se(new ut([])),i=new Mt(t,e),o=new Mt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Se(new ut([])),i=new Mt(t,e),o=new Mt(t,e+1);let a=Be();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Mt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Se.comparator(e.key,t.key)||We(e.br,t.br)}static Vr(e,t){return We(e.br,t.br)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Nt(Mt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new J1(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new Mt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mt(t,0),o=new Mt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);a.push(d)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(We);return t.forEach(o=>{const a=new Mt(o,0),c=new Mt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],d=>{i=i.add(d.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Se.isDocumentKey(a)||(a=a.child(""));const c=new Mt(new Se(a),0);let d=new Nt(We);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),X.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const a=new Mt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Mt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.Nr=e,this.docs=function(){return new mt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let i=si();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Jt.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=si();const c=t.path,d=new Se(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||p1(f1(_),i)<=0||(o.has(_.key)||nh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Pe()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new MA(this)}getSize(e){return X.resolve(this.size)}}class MA extends xA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.persistence=e,this.Br=new js(t=>sp(t),op),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.kr=0,this.qr=new dp,this.targetCount=0,this.Qr=Xo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Jc(0),this.Ur=!1,this.Ur=!0,this.Wr=new bA,this.referenceDelegate=e(this),this.Gr=new UA(this),this.indexManager=new SA,this.remoteDocumentCache=function(o){return new FA(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new TA(t),this.jr=new VA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new LA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const o=new jA(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class jA extends g1{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Zr=new dp,this.Xr=null}static ei(e){return new fp(e)}get ti(){if(this.Xr)return this.Xr;throw Pe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=Se.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,De.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Oc{constructor(e,t){this.persistence=e,this.ri=new js(i=>_1(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=PA(this,t)}static ei(e,t){return new Oc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,a.removeEntry(c,De.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Be(),o=Be();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new pp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jI()?8:y1(Zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new $A;return this.ts(e,t,c).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Lo()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Lo()<=ze.DEBUG&&pe("QueryEngine","Query:",Fo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Lo()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):X.resolve())}Xi(e,t){if(Uy(t))return X.resolve(null);let i=Ar(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pf(t,null,"F"),i=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Be(...a);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,Pf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Uy(t)||o.isEqual(De.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?X.resolve(null):(Lo()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fo(t)),this.os(e,c,t,d1(o,-1)).next(d=>d))})}rs(e,t){let i=new Nt(H_(e));return t.forEach((o,a)=>{nh(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Lo()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ki.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new mt(We),this.cs=new js(a=>sp(a),op),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function qA(n,e,t,i){return new BA(n,e,t,i)}async function f0(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=Be();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function HA(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const w=y.batch,I=w.keys();let O=X.resolve();return I.forEach(L=>{O=O.next(()=>_.getEntry(p,L)).next(j=>{const F=y.docVersions.get(L);Ze(F!==null),j.version.compareTo(F)<0&&(w.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),_.addEntry(j)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Be();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function p0(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function WA(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,w)=>{const I=o.get(w);if(!I)return;d.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,w)));let O=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Ht.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,i)),o=o.insert(w,O),function(j,F,U){return j.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(I,O,_)&&d.push(t.Gr.updateTargetData(a,O))});let p=si(),y=Be();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(GA(a,c,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(De.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return X.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function GA(n,e,t){let i=Be(),o=Be();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=si();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):pe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function KA(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function QA(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new ji(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Of(n,e,t){const i=Oe(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!oa(c))throw c;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Xy(n,e,t){const i=Oe(n);let o=De.min(),a=Be();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const w=Oe(p),I=w.cs.get(_);return I!==void 0?X.resolve(w.us.get(I)):w.Gr.getTargetData(y,_)}(i,c,Ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:De.min(),t?a:Be())).next(d=>(YA(i,F1(e),d),{documents:d,ds:a})))}function YA(n,e,t){let i=n.ls.get(e)||De.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Jy{constructor(){this.activeTargetIds=B1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XA{constructor(){this._o=new Jy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Jy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function rf(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class tR extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const d=rf(),p=this.No(t,i.toUriEncodedString());pe("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,c),this.Bo(t,p,y,o).then(_=>(pe("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw Go("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,a,c,d){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=ZA[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=rf();return new Promise((c,d)=>{const p=new R_;p.setWithCredentials(!0),p.listenOnce(k_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cc.NO_ERROR:const _=p.getResponseJson();pe(Yt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case cc.TIMEOUT:pe(Yt,`RPC '${e}' ${a} timed out`),d(new ve(J.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const w=p.getStatus();if(pe(Yt,`RPC '${e}' ${a} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const L=function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(U)>=0?U:J.UNKNOWN}(O.status);d(new ve(L,O.message))}else d(new ve(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ve(J.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{pe(Yt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);pe(Yt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=rf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=x_(),d=P_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");pe(Yt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);let I=!1,O=!1;const L=new eR({Eo:F=>{O?pe(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(I||(pe(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),pe(Yt,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Ao:()=>w.close()}),j=(F,U,B)=>{F.listen(U,te=>{try{B(te)}catch(ce){setTimeout(()=>{throw ce},0)}})};return j(w,tl.EventType.OPEN,()=>{O||(pe(Yt,`RPC '${e}' stream ${o} transport opened.`),L.So())}),j(w,tl.EventType.CLOSE,()=>{O||(O=!0,pe(Yt,`RPC '${e}' stream ${o} transport closed`),L.Do())}),j(w,tl.EventType.ERROR,F=>{O||(O=!0,Go(Yt,`RPC '${e}' stream ${o} transport errored:`,F),L.Do(new ve(J.UNAVAILABLE,"The operation could not be completed")))}),j(w,tl.EventType.MESSAGE,F=>{var U;if(!O){const B=F.data[0];Ze(!!B);const te=B,ce=(te==null?void 0:te.error)||((U=te[0])===null||U===void 0?void 0:U.error);if(ce){pe(Yt,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let fe=function(R){const C=St[R];if(C!==void 0)return n0(C)}(ue),P=ce.message;fe===void 0&&(fe=J.INTERNAL,P="Unknown error status: "+ue+" with message "+ce.message),O=!0,L.Do(new ve(fe,P)),w.close()}else pe(Yt,`RPC '${e}' stream ${o} received:`,B),L.vo(B)}}),j(d,C_.STAT_EVENT,F=>{F.stat===If.PROXY?pe(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===If.NOPROXY&&pe(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(n){return new lA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t,i,o,a,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new m0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ve(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nR extends g0{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=hA(this.serializer,e),i=function(a){if(!("targetChange"in a))return De.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?kr(c.readTime):De.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Vf(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=kf(p)?{documents:pA(a,p)}:{query:mA(a,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=s0(a,c.resumeToken);const y=xf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(De.min())>0){d.readTime=Vc(a,c.snapshotVersion.toTimestamp());const y=xf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=yA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Vf(this.serializer),t.removeTarget=e,this.c_(t)}}class rR extends g0{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=fA(e.writeResults,e.commitTime),i=kr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Vf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>dA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Df(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(J.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Df(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(J.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ii(t),this.C_=!1):pe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{zs(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Oe(p);y.k_.add(4),await xl(y),y.K_.set("Unknown"),y.k_.delete(4),await ah(y)}(this))})}),this.K_=new sR(i,o)}}async function ah(n){if(zs(n))for(const e of n.q_)await e(!0)}async function xl(n){for(const e of n.q_)await e(!1)}function y0(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),vp(t)?yp(t):aa(t).s_()&&gp(t,e))}function mp(n,e){const t=Oe(n),i=aa(t);t.B_.delete(e),i.s_()&&v0(t,e),t.B_.size===0&&(i.s_()?i.a_():zs(t)&&t.K_.set("Unknown"))}function gp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}aa(n).V_(e)}function v0(n,e){n.U_.xe(e),aa(n).m_(e)}function yp(n){n.U_=new iA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),aa(n).start(),n.K_.F_()}function vp(n){return zs(n)&&!aa(n).i_()&&n.B_.size>0}function zs(n){return Oe(n).k_.size===0}function _0(n){n.U_=void 0}async function aR(n){n.K_.set("Online")}async function lR(n){n.B_.forEach((e,t)=>{gp(n,e)})}async function uR(n,e){_0(n),vp(n)?(n.K_.O_(e),yp(n)):n.K_.set("Unknown")}async function cR(n,e,t){if(n.K_.set("Online"),e instanceof i0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bc(n,i)}else if(e instanceof pc?n.U_.$e(e):e instanceof r0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(De.min()))try{const i=await p0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.B_.get(y);_&&a.B_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=a.B_.get(p);if(!_)return;a.B_.set(p,_.withResumeToken(Ht.EMPTY_BYTE_STRING,_.snapshotVersion)),v0(a,p);const w=new ji(_.target,p,y,_.sequenceNumber);gp(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){pe("RemoteStore","Failed to raise snapshot:",i),await bc(n,i)}}async function bc(n,e,t){if(!oa(e))throw e;n.k_.add(1),await xl(n),n.K_.set("Offline"),t||(t=()=>p0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await ah(n)})}function E0(n,e){return e().catch(t=>bc(n,t,e))}async function lh(n){const e=Oe(n),t=Ji(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;hR(e);)try{const o=await KA(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,dR(e,o)}catch(o){await bc(e,o)}w0(e)&&T0(e)}function hR(n){return zs(n)&&n.L_.length<10}function dR(n,e){n.L_.push(e);const t=Ji(n);t.s_()&&t.f_&&t.g_(e.mutations)}function w0(n){return zs(n)&&!Ji(n).i_()&&n.L_.length>0}function T0(n){Ji(n).start()}async function fR(n){Ji(n).w_()}async function pR(n){const e=Ji(n);for(const t of n.L_)e.g_(t.mutations)}async function mR(n,e,t){const i=n.L_.shift(),o=up.from(i,e,t);await E0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await lh(n)}async function gR(n,e){e&&Ji(n).f_&&await async function(i,o){if(function(c){return tA(c)&&c!==J.ABORTED}(o.code)){const a=i.L_.shift();Ji(i).__(),await E0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await lh(i)}}(n,e),w0(n)&&T0(n)}async function ev(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const i=zs(t);t.k_.add(3),await xl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ah(t)}async function yR(n,e){const t=Oe(n);e?(t.k_.delete(2),await ah(t)):e||(t.k_.add(2),await xl(t),t.K_.set("Unknown"))}function aa(n){return n.W_||(n.W_=function(t,i,o){const a=Oe(t);return a.b_(),new nR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:aR.bind(null,n),mo:lR.bind(null,n),po:uR.bind(null,n),R_:cR.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),vp(n)?yp(n):n.K_.set("Unknown")):(await n.W_.stop(),_0(n))})),n.W_}function Ji(n){return n.G_||(n.G_=function(t,i,o){const a=Oe(t);return a.b_(),new rR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:fR.bind(null,n),po:gR.bind(null,n),p_:pR.bind(null,n),y_:mR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await lh(n)):(await n.G_.stop(),n.L_.length>0&&(pe("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new _p(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(n,e){if(ii("AsyncQueue",`${e}: ${n}`),oa(n))return new ve(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=nl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.z_=new mt(Se.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Pe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jo{constructor(e,t,i,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Jo(e,t,zo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _R{constructor(){this.queries=nv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Oe(t),a=o.queries;o.queries=nv(),a.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new ve(J.ABORTED,"Firestore shutting down"))}}function nv(){return new js(n=>q_(n),th)}async function ER(n,e){const t=Oe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new vR,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Ep(c,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&wp(t)}async function wR(n,e){const t=Oe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TR(n,e){const t=Oe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&wp(t)}function IR(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function wp(n){n.X_.forEach(e=>{e.next()})}var bf,rv;(rv=bf||(bf={})).na="default",rv.Cache="cache";class SR{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.key=e}}class S0{constructor(e){this.key=e}}class AR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Be(),this.mutatedKeys=Be(),this.Va=H_(e),this.ma=new zo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new tv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const I=o.get(_),O=nh(this.query,w)?w:null,L=!!I&&this.mutatedKeys.has(I.key),j=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let F=!1;I&&O?I.data.isEqual(O.data)?L!==j&&(i.track({type:3,doc:O}),F=!0):this.ya(I,O)||(i.track({type:2,doc:O}),F=!0,(p&&this.Va(O,p)>0||y&&this.Va(O,y)<0)&&(d=!0)):!I&&O?(i.track({type:0,doc:O}),F=!0):I&&!O&&(i.track({type:1,doc:I}),F=!0,(p||y)&&(d=!0)),F&&(O?(c=c.add(O),a=j?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,w)=>function(O,L){const j=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return j(O)-j(L)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new Jo(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new tv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Be(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new S0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new I0(i))}),t}va(e){this.da=e.ds,this.Ra=Be();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Jo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class RR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class kR{constructor(e){this.key=e,this.Fa=!1}}class CR{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new js(d=>q_(d),th),this.Oa=new Map,this.Na=new Set,this.La=new mt(Se.comparator),this.Ba=new Map,this.ka=new dp,this.qa={},this.Qa=new Map,this.Ka=Xo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function PR(n,e,t=!0){const i=x0(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await A0(i,e,t,!0),o}async function xR(n,e){const t=x0(n);await A0(t,e,!0,!1)}async function A0(n,e,t,i){const o=await QA(n.localStore,Ar(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await DR(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&y0(n.remoteStore,o),d}async function DR(n,e,t,i,o){n.Ua=(w,I,O)=>async function(j,F,U,B){let te=F.view.ga(U);te.ss&&(te=await Xy(j.localStore,F.query,!1).then(({documents:P})=>F.view.ga(P,te)));const ce=B&&B.targetChanges.get(F.targetId),ue=B&&B.targetMismatches.get(F.targetId)!=null,fe=F.view.applyChanges(te,j.isPrimaryClient,ce,ue);return sv(j,F.targetId,fe.ba),fe.snapshot}(n,w,I,O);const a=await Xy(n.localStore,e,!0),c=new AR(e,a.ds),d=c.ga(a.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);sv(n,t,y.ba);const _=new RR(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function NR(n,e,t){const i=Oe(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!th(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Of(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&mp(i.remoteStore,o.targetId),Lf(i,o.targetId)}).catch(sa)):(Lf(i,o.targetId),await Of(i.localStore,o.targetId,!0))}async function VR(n,e){const t=Oe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),mp(t.remoteStore,i.targetId))}async function OR(n,e,t){const i=$R(n);try{const o=await function(c,d){const p=Oe(c),y=Dt.now(),_=d.reduce((O,L)=>O.add(L.key),Be());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=si(),j=Be();return p.hs.getEntries(O,_).next(F=>{L=F,L.forEach((U,B)=>{B.isValidDocument()||(j=j.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,L)).next(F=>{w=F;const U=[];for(const B of d){const te=Y1(B,w.get(B.key).overlayedDocument);te!=null&&U.push(new $s(B.key,te,b_(te.value.mapValue),Rr.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,U,d)}).next(F=>{I=F;const U=F.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(O,F.batchId,U)})}).then(()=>({batchId:I.batchId,changes:G_(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.qa[c.currentUser.toKey()];y||(y=new mt(We)),y=y.insert(d,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Dl(i,o.changes),await lh(i.remoteStore)}catch(o){const a=Ep(o,"Failed to persist write");t.reject(a)}}async function R0(n,e){const t=Oe(n);try{const i=await WA(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ze(c.Fa):o.removedDocuments.size>0&&(Ze(c.Fa),c.Fa=!1))}),await Dl(t,i,e)}catch(i){await sa(i)}}function iv(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Oe(c);p.onlineState=d;let y=!1;p.queries.forEach((_,w)=>{for(const I of w.J_)I.ea(d)&&(y=!0)}),y&&wp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bR(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new mt(Se.comparator);c=c.insert(a,Jt.newNoDocument(a,De.min()));const d=Be().add(a),p=new sh(De.min(),new Map,new mt(We),c,d);await R0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),Tp(i)}else await Of(i.localStore,e,!1).then(()=>Lf(i,e,t)).catch(sa)}async function LR(n,e){const t=Oe(n),i=e.batch.batchId;try{const o=await HA(t.localStore,e);C0(t,i,null),k0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Dl(t,o)}catch(o){await sa(o)}}async function FR(n,e,t){const i=Oe(n);try{const o=await function(c,d){const p=Oe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(w=>(Ze(w!==null),_=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);C0(i,e,t),k0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Dl(i,o)}catch(o){await sa(o)}}function k0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function C0(n,e,t){const i=Oe(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Lf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||P0(n,i)})}function P0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(mp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Tp(n))}function sv(n,e,t){for(const i of t)i instanceof I0?(n.ka.addReference(i.key,e),MR(n,i)):i instanceof S0?(pe("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||P0(n,i.key)):Pe()}function MR(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(pe("SyncEngine","New document in limbo: "+t),n.Na.add(i),Tp(n))}function Tp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Se(ut.fromString(e)),i=n.Ka.next();n.Ba.set(i,new kR(t)),n.La=n.La.insert(t,i),y0(n.remoteStore,new ji(Ar(z_(t.path)),i,"TargetPurposeLimboResolution",Jc.oe))}}async function Dl(n,e,t){const i=Oe(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=pp.zi(p.targetId,y);a.push(w)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=Oe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(y,I=>X.forEach(I.Wi,O=>_.persistence.referenceDelegate.addReference(w,I.targetId,O)).next(()=>X.forEach(I.Gi,O=>_.persistence.referenceDelegate.removeReference(w,I.targetId,O)))))}catch(w){if(!oa(w))throw w;pe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const O=_.us.get(I),L=O.snapshotVersion,j=O.withLastLimboFreeSnapshotVersion(L);_.us=_.us.insert(I,j)}}}(i.localStore,a))}async function UR(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const i=await f0(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ve(J.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dl(t,i.Ts)}}function jR(n,e){const t=Oe(n),i=t.Ba.get(e);if(i&&i.Fa)return Be().add(i.key);{let o=Be();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function x0(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bR.bind(null,e),e.Ma.R_=TR.bind(null,e.eventManager),e.Ma.Wa=IR.bind(null,e.eventManager),e}function $R(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return qA(this.persistence,new zA,e.initialUser,this.serializer)}ja(e){return new d0(fp.ei,this.serializer)}za(e){return new XA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class zR extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ze(this.persistence.referenceDelegate instanceof Oc);const i=this.persistence.referenceDelegate.garbageCollector;return new kA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new d0(i=>Oc.ei(i,t),this.serializer)}}class Ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UR.bind(null,this.syncEngine),await yR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _R}()}createDatastore(e){const t=oh(e.databaseInfo.databaseId),i=function(a){return new tR(a)}(e.databaseInfo);return function(a,c,d,p){return new iR(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new oR(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>iv(this.syncEngine,t,0),function(){return Zy.p()?new Zy:new JA}())}createSyncEngine(e,t){return function(o,a,c,d,p,y,_){const w=new CR(o,a,c,d,p,y);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Oe(o);pe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await xl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=N_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{pe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ep(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function of(n,e){n.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await f0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ov(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HR(n);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>ev(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>ev(e.remoteStore,o)),n._onlineComponents=e}async function HR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await of(n,new Lc)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await of(n,new zR(void 0));return n._offlineComponents}async function D0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await ov(n,n._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await ov(n,new Ff))),n._onlineComponents}function WR(n){return D0(n).then(e=>e.syncEngine)}async function GR(n){const e=await D0(n),t=e.eventManager;return t.onListen=PR.bind(null,e.syncEngine),t.onUnlisten=NR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VR.bind(null,e.syncEngine),t}function KR(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new BR({next:I=>{_.eu(),c.enqueueAndForget(()=>wR(a,w)),I.fromCache&&p.source==="server"?y.reject(new ve(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new SR(d,_,{includeMetadataChanges:!0,ua:!0});return ER(a,w)}(await GR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n,e,t){if(!t)throw new ve(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QR(n,e,t,i){if(e===!0&&i===!0)throw new ve(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lv(n){if(!Se.isDocumentKey(n))throw new ve(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uv(n){if(Se.isDocumentKey(n))throw new ve(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function _l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uh(n);throw new ve(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r1;switch(i.type){case"firstParty":return new a1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=av.get(t);i&&(pe("ComponentProvider","Removing Datastore"),av.delete(t),i.terminate())}(this),Promise.resolve()}}function YR(n,e,t,i={}){var o;const a=(n=_l(n,ch))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Xt.MOCK_USER;else{d=VI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ve(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(y)}n._authCredentials=new i1(new D_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class $n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Hi extends la{constructor(e,t,i){super(e,t,z_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Se(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function Ip(n,e,...t){if(n=An(n),V0("collection","path",e),n instanceof ch){const i=ut.fromString(e,...t);return uv(i),new Hi(n,null,i)}{if(!(n instanceof $n||n instanceof Hi))throw new ve(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return uv(i),new Hi(n.firestore,null,i)}}function O0(n,e,...t){if(n=An(n),arguments.length===1&&(e=N_.newId()),V0("doc","path",e),n instanceof ch){const i=ut.fromString(e,...t);return lv(i),new $n(n,null,new Se(i))}{if(!(n instanceof $n||n instanceof Hi))throw new ve(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return lv(i),new $n(n.firestore,n instanceof Hi?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new m0(this,"async_queue_retry"),this.fu=()=>{const i=sf();i&&pe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=sf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=sf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new qi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!oa(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ii("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=_p.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Pe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class hh extends ch{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new hv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hv(e),this._firestoreClient=void 0,await e}}}function XR(n,e){const t=typeof n=="object"?n:T_(),i=typeof n=="string"?n:"(default)",o=tp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=DI("firestore");a&&YR(o,...a)}return o}function b0(n){if(n._terminated)throw new ve(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JR(n),n._firestoreClient}function JR(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,_){return new T1(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,N0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new qR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Ht.fromBase64String(e))}catch(t){throw new ve(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=/^__.*__$/;class ek{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cl(e,this.data,t,this.fieldTransforms)}}function F0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class kp{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Fc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(F0(this.Mu)&&ZR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class tk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||oh(e)}$u(e,t,i,o=!1){return new kp({Mu:e,methodName:t,Ku:i,path:qt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(n){const e=n._freezeSettings(),t=oh(n._databaseId);return new tk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nk(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);$0("Data must be an object, but it was:",c,i);const d=U0(i,c);let p,y;if(a.merge)p=new or(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const I=ik(e,w,t);if(!c.contains(I))throw new ve(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ok(_,I)||_.push(I)}p=new or(_),y=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=c.fieldTransforms;return new ek(new jn(d),p,y)}function rk(n,e,t,i=!1){return Cp(t,n.$u(i?4:3,e))}function Cp(n,e){if(j0(n=An(n)))return $0("Unsupported field value:",e,n),U0(n,e);if(n instanceof L0)return function(i,o){if(!F0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=Cp(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return q1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Dt.fromDate(i);return{timestampValue:Vc(o.serializer,a)}}if(i instanceof Dt){const a=new Dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vc(o.serializer,a)}}if(i instanceof Ap)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:s0(o.serializer,i._byteString)};if(i instanceof $n){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Rp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return ap(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${uh(i)}`)}(n,e)}function U0(n,e){const t={};return V_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(n,(i,o)=>{const a=Cp(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function j0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof Ap||n instanceof Zo||n instanceof $n||n instanceof L0||n instanceof Rp)}function $0(n,e,t){if(!j0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=uh(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function ik(n,e,t){if((e=An(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return z0(n,e);throw Fc("Field path arguments must be of type string or ",n,!1,void 0,t)}const sk=new RegExp("[~\\*/\\[\\]]");function z0(n,e,t){if(e.search(sk)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sp(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ve(J.INVALID_ARGUMENT,d+n+p)}function ok(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ak extends B0{data(){return super.data()}}function Pp(n,e){return typeof e=="string"?z0(n,e):e instanceof Sp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class uk extends xp{}function dv(n,e,...t){let i=[];e instanceof xp&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof Dp).length,d=a.filter(p=>p instanceof dh).length;if(c>1||c>0&&d>0)throw new ve(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class dh extends uk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new dh(e,t,i)}_apply(e){const t=this._parse(e);return q0(e._query,t),new la(e.firestore,e.converter,Cf(e._query,t))}_parse(e){const t=M0(e.firestore);return function(a,c,d,p,y,_,w){let I;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ve(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){pv(w,_);const O=[];for(const L of w)O.push(fv(p,a,L));I={arrayValue:{values:O}}}else I=fv(p,a,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||pv(w,_),I=rk(d,c,w,_==="in"||_==="not-in");return Rt.create(y,_,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function af(n,e,t){const i=e,o=Pp("where",n);return dh._create(o,i,t)}class Dp extends xp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const p of d)q0(c,p),c=Cf(c,p)}(e._query,t),new la(e.firestore,e.converter,Cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fv(n,e,t){if(typeof(t=An(t))=="string"){if(t==="")throw new ve(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B_(e)&&t.indexOf("/")!==-1)throw new ve(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ut.fromString(t));if(!Se.isDocumentKey(i))throw new ve(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vy(n,new Se(i))}if(t instanceof $n)return Vy(n,t._key);throw new ve(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(t)}.`)}function pv(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q0(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ck{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Us(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>_t(c.doubleValue));return new Rp(a)}convertGeoPoint(e){return new Ap(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=eh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const t=Qi(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);Ze(h0(i));const o=new ml(i.get(1),i.get(3)),a=new Se(i.popFirst(5));return o.isEqual(t)||ii(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends B0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Pp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mc extends dk{data(e={}){return super.data(e)}}class fk{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mc(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new mc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new rc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new mc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new rc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:pk(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class mk extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function Mf(n){n=_l(n,la);const e=_l(n.firestore,hh),t=b0(e),i=new mk(e);return lk(n._query),KR(t,n._query).then(o=>new fk(e,i,n,o))}function gk(n){return W0(_l(n.firestore,hh),[new lp(n._key,Rr.none())])}function H0(n,e){const t=_l(n.firestore,hh),i=O0(n),o=hk(n.converter,e);return W0(t,[nk(M0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Rr.exists(!1))]).then(()=>i)}function W0(n,e){return function(i,o){const a=new qi;return i.asyncQueue.enqueueAndForget(async()=>OR(await WR(i),o,a)),a.promise}(b0(n),e)}(function(e,t=!0){(function(o){ia=o})(ra),Wo(new bs("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new hh(new s1(i.getProvider("auth-internal")),new u1(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(y.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Bi(ky,"4.7.5",e),Bi(ky,"4.7.5","esm2017")})();var yk="firebase",vk="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(yk,vk,"app");function Np(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _k=G0,K0=new Al("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Zf("@firebase/auth");function Ek(n,...e){Mc.logLevel<=ze.WARN&&Mc.warn(`Auth (${ra}): ${n}`,...e)}function gc(n,...e){Mc.logLevel<=ze.ERROR&&Mc.error(`Auth (${ra}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(n,...e){throw Op(n,...e)}function ar(n,...e){return Op(n,...e)}function Vp(n,e,t){const i=Object.assign(Object.assign({},_k()),{[e]:t});return new Al("auth","Firebase",i).create(e,{appName:n.name})}function Vs(n){return Vp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wk(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Dr(n,"argument-error"),Vp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return K0.create(n,...e)}function xe(n,e,...t){if(!n)throw Op(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gc(e),new Error(e)}function oi(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Tk(){return mv()==="http:"||mv()==="https:"}function mv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tk()||FI()||"connection"in navigator)?navigator.onLine:!0}function Sk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=OI()||MI()}get(){return Ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,e){oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Nl(3e4,6e4);function Lp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ua(n,e,t,i,o={}){return Y0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=Rl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return LI()||(y.referrerPolicy="no-referrer"),Q0.fetch()(X0(n,n.config.apiHost,t,d),y)})}async function Y0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ak),e);try{const o=new Ck(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ic(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ic(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ic(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vp(n,_,y);Dr(n,_)}}catch(o){if(o instanceof li)throw o;Dr(n,"network-request-failed",{message:String(o)})}}async function kk(n,e,t,i,o={}){const a=await ua(n,e,t,i,o);return"mfaPendingCredential"in a&&Dr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function X0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?bp(n.config,o):`${n.config.apiScheme}://${o}`}class Ck{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),Rk.get())})}}function ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ar(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e){return ua(n,"POST","/v1/accounts:delete",e)}async function J0(n,e){return ua(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xk(n,e=!1){const t=An(n),i=await t.getIdToken(e),o=Fp(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ul(lf(o.auth_time)),issuedAtTime:ul(lf(o.iat)),expirationTime:ul(lf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function lf(n){return Number(n)*1e3}function Fp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=m_(t);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gv(n){const e=Fp(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof li&&Dk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Dk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await El(n,J0(t,{idToken:i}));xe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Z0(a.providerUserInfo):[],d=Ok(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new jf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function Vk(n){const e=An(n);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ok(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Z0(n){return n.map(e=>{var{providerId:t}=e,i=Np(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e){const t=await Y0(n,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=X0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Q0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Lk(n,e){return ua(n,"POST","/v2/accounts:revokeToken",Lp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=gv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await bk(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Bo;return i&&(xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(xe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await El(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xk(this,e)}reload(){return Vk(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Uc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await El(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,y,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,O=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,L=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(y=t.createdAt)!==null&&y!==void 0?y:void 0,B=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:te,emailVerified:ce,isAnonymous:ue,providerData:fe,stsTokenManager:P}=t;xe(te&&P,e,"internal-error");const S=Bo.fromJSON(this.name,P);xe(typeof te=="string",e,"internal-error"),bi(w,e.name),bi(I,e.name),xe(typeof ce=="boolean",e,"internal-error"),xe(typeof ue=="boolean",e,"internal-error"),bi(O,e.name),bi(L,e.name),bi(j,e.name),bi(F,e.name),bi(U,e.name),bi(B,e.name);const R=new ei({uid:te,auth:e,email:I,emailVerified:ce,displayName:w,isAnonymous:ue,photoURL:L,phoneNumber:O,tenantId:j,stsTokenManager:S,createdAt:U,lastLoginAt:B});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(C=>Object.assign({},C))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Bo;o.updateFromServerResponse(t);const a=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Uc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Z0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Bo;d.updateFromIdToken(i);const p=new ei({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function ti(n){oi(n instanceof Function,"Expected a class definition");let e=yv.get(n);return e?(oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eE.type="NONE";const vv=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n,e,t){return`firebase:${n}:${e}:${t}`}class qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=yc(this.userKey,o.apiKey,a),this.fullPersistenceKey=yc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new qo(ti(vv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ti(vv);const c=yc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const w=ei._fromJSON(e,_);y!==a&&(d=w),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new qo(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new qo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(aE(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function tE(n=Zt()){return/firefox\//i.test(n)}function nE(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(n=Zt()){return/crios\//i.test(n)}function iE(n=Zt()){return/iemobile/i.test(n)}function sE(n=Zt()){return/android/i.test(n)}function oE(n=Zt()){return/blackberry/i.test(n)}function aE(n=Zt()){return/webos/i.test(n)}function Mp(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fk(n=Zt()){var e;return Mp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mk(){return UI()&&document.documentMode===10}function lE(n=Zt()){return Mp(n)||sE(n)||aE(n)||oE(n)||/windows phone/i.test(n)||iE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e=[]){let t;switch(n){case"Browser":t=_v(Zt());break;case"Worker":t=`${_v(Zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e={}){return ua(n,"GET","/v2/passwordPolicy",Lp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=6;class zk{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:$k,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new Uk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await J0(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Vs(this));const t=e?An(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jk(this),t=new zk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Lk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Ek(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fh(n){return An(n)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=GI(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qk(n){Up=n}function Hk(n){return Up.loadJS(n)}function Wk(){return Up.gapiScript}function Gk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n,e){const t=tp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Rc(a,e??{}))return o;Dr(o,"already-initialized")}return t.initialize({options:e})}function Qk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Yk(n,e,t){const i=fh(n);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=cE(e),{host:c,port:d}=Xk(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Jk()}function cE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Xk(n){const e=cE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:wv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:wv(c)}}}function wv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,e){return kk(n,"POST","/v1/accounts:signInWithIdp",Lp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="http://localhost";class Fs extends hE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Np(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Fs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:Zk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Vl{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xr.credential(t,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Vl{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Vl{constructor(){super("twitter.com")}static credential(e,t){return Fs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Mi.credential(t,i)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ei._fromIdTokenResponse(e,i,o),c=Tv(i);return new ea({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Tv(i);return new ea({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Tv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends li{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new jc(e,t,i,o)}}function dE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(n,a,e,i):a})}async function eC(n,e,t=!1){const i=await El(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ea._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,e,t=!1){const{auth:i}=n;if(Jr(i.app))return Promise.reject(Vs(i));const o="reauthenticate";try{const a=await El(n,dE(i,o,e,n),t);xe(a.idToken,i,"internal-error");const c=Fp(a.idToken);xe(c,i,"internal-error");const{sub:d}=c;return xe(n.uid===d,i,"user-mismatch"),ea._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Dr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e,t=!1){if(Jr(n.app))return Promise.reject(Vs(n));const i="signIn",o=await dE(n,i,e),a=await ea._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function rC(n,e,t,i){return An(n).onIdTokenChanged(e,t,i)}function iC(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function sC(n,e,t,i){return An(n).onAuthStateChanged(e,t,i)}const $c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e3,aC=10;class pE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);Mk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const lC=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mE.type="SESSION";const gE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ph(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await uC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=$p("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function hC(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function dC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pC(){return yE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="firebaseLocalStorageDb",mC=1,zc="firebaseLocalStorage",_E="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mh(n,e){return n.transaction([zc],e?"readwrite":"readonly").objectStore(zc)}function gC(){const n=indexedDB.deleteDatabase(vE);return new Ol(n).toPromise()}function $f(){const n=indexedDB.open(vE,mC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zc,{keyPath:_E})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(zc)?e(i):(i.close(),await gC(),e(await $f()))})})}async function Iv(n,e,t){const i=mh(n,!0).put({[_E]:e,value:t});return new Ol(i).toPromise()}async function yC(n,e){const t=mh(n,!1).get(e),i=await new Ol(t).toPromise();return i===void 0?null:i.value}function Sv(n,e){const t=mh(n,!0).delete(e);return new Ol(t).toPromise()}const vC=800,_C=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>_C)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(pC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new cC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $f();return await Iv(e,$c,"1"),await Sv(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>yC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=mh(o,!1).getAll();return new Ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const EC=EE;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e){return e?ti(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends hE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wC(n){return nC(n.auth,new zp(n),n.bypassAuthState)}function TC(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),tC(t,new zp(n),n.bypassAuthState)}async function IC(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),eC(t,new zp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return TC;default:Dr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Nl(2e3,1e4);async function AC(n,e,t){if(Jr(n.app))return Promise.reject(ar(n,"operation-not-supported-in-this-environment"));const i=fh(n);wk(n,e,jp);const o=wE(i,t);return new Ps(i,"signInViaPopup",e,o).executeNotNull()}class Ps extends TE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="pendingRedirect",vc=new Map;class kC extends TE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const i=await CC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(n,e){const t=DC(e),i=xC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function PC(n,e){vc.set(n._key(),e)}function xC(n){return ti(n._redirectPersistence)}function DC(n){return yc(RC,n.config.apiKey,n.name)}async function NC(n,e,t=!1){if(Jr(n.app))return Promise.reject(Vs(n));const i=fh(n),o=wE(i,e),c=await new kC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=10*60*1e3;class OC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!IE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(e))}saveEventToCache(e){this.cachedEventUids.add(Av(e)),this.lastProcessedEventTime=Date.now()}}function Av(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(n,e={}){return ua(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MC=/^https?/;async function UC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LC(n);for(const t of e)try{if(jC(t))return}catch{}Dr(n,"unauthorized-domain")}function jC(n){const e=Uf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!MC.test(t))return!1;if(FC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Nl(3e4,6e4);function Rv(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zC(n){return new Promise((e,t)=>{var i,o,a;function c(){Rv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rv(),t(ar(n,"network-request-failed"))},timeout:$C.get()})}if(!((o=(i=Cr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)c();else{const d=Gk("iframefcb");return Cr()[d]=()=>{gapi.load?c():t(ar(n,"network-request-failed"))},Hk(`${Wk()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw _c=null,e})}let _c=null;function BC(n){return _c=_c||zC(n),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Nl(5e3,15e3),HC="__/auth/iframe",WC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QC(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?bp(e,WC):`https://${n.config.authDomain}/${HC}`,i={apiKey:e.apiKey,appName:n.name,v:ra},o=KC.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Rl(i).slice(1)}`}async function YC(n){const e=await BC(n),t=Cr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:QC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=ar(n,"network-request-failed"),d=Cr().setTimeout(()=>{a(c)},qC.get());function p(){Cr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,ZC=600,eP="_blank",tP="http://localhost";class kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nP(n,e,t,i=JC,o=ZC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},XC),{width:i.toString(),height:o.toString(),top:a,left:c}),y=Zt().toLowerCase();t&&(d=rE(y)?eP:t),tE(y)&&(e=e||tP,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[O,L])=>`${I}${O}=${L},`,"");if(Fk(y)&&d!=="_self")return rP(e||"",d),new kv(null);const w=window.open(e||"",d,_);xe(w,n,"popup-blocked");try{w.focus()}catch{}return new kv(w)}function rP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="__/auth/handler",sP="emulator/auth/handler",oP=encodeURIComponent("fac");async function Cv(n,e,t,i,o,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ra,eventId:o};if(e instanceof jp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",WI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof Vl){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${oP}=${encodeURIComponent(p)}`:"";return`${aP(n)}?${Rl(d).slice(1)}${y}`}function aP({config:n}){return n.emulator?bp(n,sP):`https://${n.authDomain}/${iP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="webStorageSupport";class lP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=NC,this._overrideRedirectResult=PC}async _openPopup(e,t,i,o){var a;oi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Cv(e,t,i,Uf(),o);return nP(e,c,$p())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Cv(e,t,i,Uf(),o);return hC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(oi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await YC(e),i=new OC(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uf,{type:uf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[uf];c!==void 0&&t(!!c),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lE()||nE()||Mp()}}const uP=lP;var Pv="@firebase/auth",xv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dP(n){Wo(new bs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(n)},y=new Bk(i,o,a,p);return Qk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wo(new bs("auth-internal",e=>{const t=fh(e.getProvider("auth").getImmediate());return(i=>new cP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(Pv,xv,hP(n)),Bi(Pv,xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=5*60,pP=v_("authIdTokenMaxAge")||fP;let Dv=null;const mP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>pP)return;const o=t==null?void 0:t.token;Dv!==o&&(Dv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gP(n=T_()){const e=tp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Kk(n,{popupRedirectResolver:uP,persistence:[EC,lC,gE]}),i=v_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=mP(a.toString());iC(t,c,()=>c(t.currentUser)),rC(t,d=>c(d))}}const o=g_("auth");return o&&Yk(t,`http://${o}`),t}function yP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}qk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=ar("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",yP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dP("Browser");const vP={apiKey:"AIzaSyBUSuUOmSDnVCvE9EU0EtwFVm9LOja9PXY",authDomain:"react-simple-blog-demo.firebaseapp.com",projectId:"react-simple-blog-demo",storageBucket:"react-simple-blog-demo.firebasestorage.app",messagingSenderId:"748150243602",appId:"1:748150243602:web:b0ffe1eae82782b14073cb",measurementId:"G-TDMYWTH8BC"},SE=w_(vP),wl=gP(SE),_P=new Xr,Bc=XR(SE);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function EP(n,e,t,i){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function d(_){try{y(i.next(_))}catch(w){c(w)}}function p(_){try{y(i.throw(_))}catch(w){c(w)}}function y(_){_.done?a(_.value):o(_.value).then(d,p)}y((i=i.apply(n,[])).next())})}function wP(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(y){return function(_){return p([y,_])}}function p(y){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(a=y[0]&2?o.return:y[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,y[1])).done)return a;switch(o=0,a&&(y=[y[0]&2,a.value]),y[0]){case 0:case 1:a=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!a||y[1]>a[0]&&y[1]<a[3])){t.label=y[1];break}if(y[0]===6&&t.label<a[1]){t.label=a[1],a=y;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(y);break}a[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],o=0}finally{i=a=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jo=function(){return jo=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},jo.apply(this,arguments)},AE=function(n){return{loading:n==null,value:n}},TP=function(){return function(n,e){switch(e.type){case"error":return jo(jo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return AE(e.defaultValue);case"value":return jo(jo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},IP=function(n){var e=n(),t=Q.useReducer(TP(),AE(e)),i=t[0],o=t[1],a=Q.useCallback(function(){var p=n();o({type:"reset",defaultValue:p})},[n]),c=Q.useCallback(function(p){o({type:"error",error:p})},[]),d=Q.useCallback(function(p){o({type:"value",value:p})},[]);return Q.useMemo(function(){return{error:i.error,loading:i.loading,reset:a,setError:c,setValue:d,value:i.value}},[i.error,i.loading,a,c,d,i.value])},Bp=function(n,e){var t=IP(function(){return n.currentUser}),i=t.error,o=t.loading,a=t.setError,c=t.setValue,d=t.value;return Q.useEffect(function(){var p=sC(n,function(y){return EP(void 0,void 0,void 0,function(){var _;return wP(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return w.sent(),[3,4];case 3:return _=w.sent(),a(_),[3,4];case 4:return c(y),[2]}})})},a);return function(){p()}},[n]),[d,o,i]};const SP=n=>{const{post:e}=n,[t]=Bp(wl),[i,o]=Q.useState(null),a=Ip(Bc,"likes"),c=dv(a,af("postId","==",e.id)),d=async()=>{const w=await Mf(c);o(w.docs.map(I=>({userId:I.data().userId,likeId:I.id})))},p=async()=>{try{const w=await H0(a,{userId:t==null?void 0:t.uid,postId:e.id});t&&o(I=>I?[...I,{userId:t==null?void 0:t.uid,likeId:w.id}]:[{userId:t==null?void 0:t.uid,likeId:w.id}])}catch(w){console.log(w)}},y=async()=>{try{const w=dv(a,af("postId","==",e.id),af("userId","==",t==null?void 0:t.uid)),O=(await Mf(w)).docs[0].id,L=O0(Bc,"likes",O);await gk(L),t&&o(j=>j&&j.filter(F=>F.likeId!==O))}catch(w){console.log(w)}},_=i==null?void 0:i.find(w=>w.userId===(t==null?void 0:t.uid));return Q.useEffect(()=>{d()},[]),ke.jsxs("div",{children:[ke.jsx("div",{className:"title",children:ke.jsx("h1",{children:e.title})}),ke.jsx("div",{className:"body",children:ke.jsx("p",{children:e.description})}),ke.jsxs("div",{className:"footer",children:[ke.jsxs("p",{className:"username",children:["@",e.username]}),ke.jsx("button",{className:"like-button",onClick:_?y:p,children:_?ke.jsx(ke.Fragment,{children:"👎"}):ke.jsx(ke.Fragment,{children:"👍"})}),i&&ke.jsxs("p",{className:"like-count",children:[" Likes: ",i.length," "]})]})]})},AP=()=>{const[n,e]=Q.useState(null),t=Ip(Bc,"posts"),i=async()=>{const o=await Mf(t);e(o.docs.map(a=>({...a.data(),id:a.id})))};return Q.useEffect(()=>{i()},[]),ke.jsx("div",{className:"posts-container",children:n==null?void 0:n.map(o=>ke.jsx("div",{className:"post-box",children:ke.jsx(SP,{post:o})},o.id))})},RP=()=>{const n=Kf(),e=async()=>{await AC(wl,_P),n("/")};return ke.jsxs("div",{children:[ke.jsx("p",{children:" Sign In With Google To Continue"}),ke.jsx("button",{onClick:e,children:"Sign In With Google"})]})},kP=()=>{const[n,e,t]=Bp(wl),[i,o]=Q.useState("");if(Q.useEffect(()=>{o((n==null?void 0:n.photoURL)||"/default-image.jpg")},[n]),e)return ke.jsx("div",{className:"loading",children:"Loading..."});if(t)return ke.jsx("div",{className:"error",children:"Error loading user information"});const a=async()=>{await wl.signOut()};return ke.jsxs("nav",{className:"navbar",children:[ke.jsx("div",{className:"navbar-left",children:ke.jsx("h1",{className:"website-title",children:"Simple Blog Demo"})}),ke.jsxs("div",{className:"navbar-right",children:[ke.jsx(il,{to:"/",children:"Home"}),n?ke.jsx(il,{to:"/createpost",children:"Create Post"}):ke.jsx(il,{to:"/login",children:"Login"}),n&&n.displayName&&ke.jsx("p",{className:"username",children:n.displayName}),n&&ke.jsx("img",{className:"user-profile-img",src:i||"/default-image.jpg",alt:`${n.displayName}'s Profile`,onError:c=>c.target.src="/default-image.jpg"}),n&&ke.jsx("button",{className:"logout-button",onClick:a,children:"Sign Out"})]})]})};var bl=n=>n.type==="checkbox",xs=n=>n instanceof Date,sn=n=>n==null;const RE=n=>typeof n=="object";var Et=n=>!sn(n)&&!Array.isArray(n)&&RE(n)&&!xs(n),CP=n=>Et(n)&&n.target?bl(n.target)?n.target.checked:n.target.value:n,PP=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,xP=(n,e)=>n.has(PP(e)),DP=n=>{const e=n.constructor&&n.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},qp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mn(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(qp&&(n instanceof Blob||i))&&(t||Et(n)))if(e=t?[]:{},!t&&!DP(n))e=n;else for(const o in n)n.hasOwnProperty(o)&&(e[o]=Mn(n[o]));else return n;return e}var gh=n=>Array.isArray(n)?n.filter(Boolean):[],At=n=>n===void 0,me=(n,e,t)=>{if(!e||!Et(n))return t;const i=gh(e.split(/[,[\].]+?/)).reduce((o,a)=>sn(o)?o:o[a],n);return At(i)||i===n?At(n[e])?t:n[e]:i},wr=n=>typeof n=="boolean",Hp=n=>/^\w*$/.test(n),kE=n=>gh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(n,e,t)=>{let i=-1;const o=Hp(e)?[e]:kE(e),a=o.length,c=a-1;for(;++i<a;){const d=o[i];let p=t;if(i!==c){const y=n[d];p=Et(y)||Array.isArray(y)?y:isNaN(+o[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=p,n=n[d]}return n};const Nv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Un.createContext(null);var NP=(n,e,t,i=!0)=>{const o={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(o,a,{get:()=>{const c=a;return e._proxyFormState[c]!==sr.all&&(e._proxyFormState[c]=!i||sr.all),n[c]}});return o},mn=n=>Et(n)&&!Object.keys(n).length,VP=(n,e,t,i)=>{t(n);const{name:o,...a}=n;return mn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(c=>e[c]===sr.all)},Ec=n=>Array.isArray(n)?n:[n];function OP(n){const e=Un.useRef(n);e.current=n,Un.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Sr=n=>typeof n=="string",bP=(n,e,t,i,o)=>Sr(n)?(i&&e.watch.add(n),me(t,n,o)):Array.isArray(n)?n.map(a=>(i&&e.watch.add(a),me(t,a))):(i&&(e.watchAll=!0),t),CE=(n,e,t,i,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:o||!0}}:{},Vv=n=>({isOnSubmit:!n||n===sr.onSubmit,isOnBlur:n===sr.onBlur,isOnChange:n===sr.onChange,isOnAll:n===sr.all,isOnTouch:n===sr.onTouched}),Ov=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const cl=(n,e,t,i)=>{for(const o of t||Object.keys(n)){const a=me(n,o);if(a){const{_f:c,...d}=a;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(cl(d,e))break}else if(Et(d)&&cl(d,e))break}}};var LP=(n,e,t)=>{const i=Ec(me(n,t));return rt(i,"root",e[t]),rt(n,t,i),n},Wp=n=>n.type==="file",Ir=n=>typeof n=="function",qc=n=>{if(!qp)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wc=n=>Sr(n),Gp=n=>n.type==="radio",Hc=n=>n instanceof RegExp;const bv={value:!1,isValid:!1},Lv={value:!0,isValid:!0};var PE=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!At(n[0].attributes.value)?At(n[0].value)||n[0].value===""?Lv:{value:n[0].value,isValid:!0}:Lv:bv}return bv};const Fv={isValid:!1,value:null};var xE=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Fv):Fv;function Mv(n,e,t="validate"){if(wc(n)||Array.isArray(n)&&n.every(wc)||wr(n)&&!n)return{type:t,message:wc(n)?n:"",ref:e}}var Oo=n=>Et(n)&&!Hc(n)?n:{value:n,message:""},Uv=async(n,e,t,i,o,a)=>{const{ref:c,refs:d,required:p,maxLength:y,minLength:_,min:w,max:I,pattern:O,validate:L,name:j,valueAsNumber:F,mount:U}=n._f,B=me(t,j);if(!U||e.has(j))return{};const te=d?d[0]:c,ce=x=>{o&&te.reportValidity&&(te.setCustomValidity(wr(x)?"":x||""),te.reportValidity())},ue={},fe=Gp(c),P=bl(c),S=fe||P,R=(F||Wp(c))&&At(c.value)&&At(B)||qc(c)&&c.value===""||B===""||Array.isArray(B)&&!B.length,C=CE.bind(null,j,i,ue),D=(x,A,Ne,Ye=Qr.maxLength,nt=Qr.minLength)=>{const Le=x?A:Ne;ue[j]={type:x?Ye:nt,message:Le,ref:c,...C(x?Ye:nt,Le)}};if(a?!Array.isArray(B)||!B.length:p&&(!S&&(R||sn(B))||wr(B)&&!B||P&&!PE(d).isValid||fe&&!xE(d).isValid)){const{value:x,message:A}=wc(p)?{value:!!p,message:p}:Oo(p);if(x&&(ue[j]={type:Qr.required,message:A,ref:te,...C(Qr.required,A)},!i))return ce(A),ue}if(!R&&(!sn(w)||!sn(I))){let x,A;const Ne=Oo(I),Ye=Oo(w);if(!sn(B)&&!isNaN(B)){const nt=c.valueAsNumber||B&&+B;sn(Ne.value)||(x=nt>Ne.value),sn(Ye.value)||(A=nt<Ye.value)}else{const nt=c.valueAsDate||new Date(B),Le=he=>new Date(new Date().toDateString()+" "+he),se=c.type=="time",we=c.type=="week";Sr(Ne.value)&&B&&(x=se?Le(B)>Le(Ne.value):we?B>Ne.value:nt>new Date(Ne.value)),Sr(Ye.value)&&B&&(A=se?Le(B)<Le(Ye.value):we?B<Ye.value:nt<new Date(Ye.value))}if((x||A)&&(D(!!x,Ne.message,Ye.message,Qr.max,Qr.min),!i))return ce(ue[j].message),ue}if((y||_)&&!R&&(Sr(B)||a&&Array.isArray(B))){const x=Oo(y),A=Oo(_),Ne=!sn(x.value)&&B.length>+x.value,Ye=!sn(A.value)&&B.length<+A.value;if((Ne||Ye)&&(D(Ne,x.message,A.message),!i))return ce(ue[j].message),ue}if(O&&!R&&Sr(B)){const{value:x,message:A}=Oo(O);if(Hc(x)&&!B.match(x)&&(ue[j]={type:Qr.pattern,message:A,ref:c,...C(Qr.pattern,A)},!i))return ce(A),ue}if(L){if(Ir(L)){const x=await L(B,t),A=Mv(x,te);if(A&&(ue[j]={...A,...C(Qr.validate,A.message)},!i))return ce(A.message),ue}else if(Et(L)){let x={};for(const A in L){if(!mn(x)&&!i)break;const Ne=Mv(await L[A](B,t),te,A);Ne&&(x={...Ne,...C(A,Ne.message)},ce(Ne.message),i&&(ue[j]=x))}if(!mn(x)&&(ue[j]={ref:te,...x},!i))return ue}}return ce(!0),ue};function FP(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=At(n)?i++:n[e[i++]];return n}function MP(n){for(const e in n)if(n.hasOwnProperty(e)&&!At(n[e]))return!1;return!0}function xt(n,e){const t=Array.isArray(e)?e:Hp(e)?[e]:kE(e),i=t.length===1?n:FP(n,t),o=t.length-1,a=t[o];return i&&delete i[a],o!==0&&(Et(i)&&mn(i)||Array.isArray(i)&&MP(i))&&xt(n,t.slice(0,-1)),n}var cf=()=>{let n=[];return{get observers(){return n},next:o=>{for(const a of n)a.next&&a.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(a=>a!==o)}}),unsubscribe:()=>{n=[]}}},zf=n=>sn(n)||!RE(n);function Ui(n,e){if(zf(n)||zf(e))return n===e;if(xs(n)&&xs(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const o of t){const a=n[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=e[o];if(xs(a)&&xs(c)||Et(a)&&Et(c)||Array.isArray(a)&&Array.isArray(c)?!Ui(a,c):a!==c)return!1}}return!0}var DE=n=>n.type==="select-multiple",UP=n=>Gp(n)||bl(n),hf=n=>qc(n)&&n.isConnected,NE=n=>{for(const e in n)if(Ir(n[e]))return!0;return!1};function Wc(n,e={}){const t=Array.isArray(n);if(Et(n)||t)for(const i in n)Array.isArray(n[i])||Et(n[i])&&!NE(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Wc(n[i],e[i])):sn(n[i])||(e[i]=!0);return e}function VE(n,e,t){const i=Array.isArray(n);if(Et(n)||i)for(const o in n)Array.isArray(n[o])||Et(n[o])&&!NE(n[o])?At(e)||zf(t[o])?t[o]=Array.isArray(n[o])?Wc(n[o],[]):{...Wc(n[o])}:VE(n[o],sn(e)?{}:e[o],t[o]):t[o]=!Ui(n[o],e[o]);return t}var Za=(n,e)=>VE(n,e,Wc(e)),OE=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>At(n)?n:e?n===""?NaN:n&&+n:t&&Sr(n)?new Date(n):i?i(n):n;function df(n){const e=n.ref;return Wp(e)?e.files:Gp(e)?xE(n.refs).value:DE(e)?[...e.selectedOptions].map(({value:t})=>t):bl(e)?PE(n.refs).value:OE(At(e.value)?n.ref.value:e.value,n)}var jP=(n,e,t,i)=>{const o={};for(const a of n){const c=me(e,a);c&&rt(o,a,c._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:i}},el=n=>At(n)?n:Hc(n)?n.source:Et(n)?Hc(n.value)?n.value.source:n.value:n;const jv="AsyncFunction";var $P=n=>!!n&&!!n.validate&&!!(Ir(n.validate)&&n.validate.constructor.name===jv||Et(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===jv)),zP=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function $v(n,e,t){const i=me(n,t);if(i||Hp(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),c=me(e,a),d=me(n,a);if(c&&!Array.isArray(c)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:t}}var BP=(n,e,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?i.isOnBlur:o.isOnBlur)?!n:(t?i.isOnChange:o.isOnChange)?n:!0,qP=(n,e)=>!gh(me(n,e)).length&&xt(n,e);const HP={mode:sr.onSubmit,reValidateMode:sr.onChange,shouldFocusError:!0};function WP(n={}){let e={...HP,...n},t={submitCount:0,isDirty:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},o=Et(e.defaultValues)||Et(e.values)?Mn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Mn(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:cf(),array:cf(),state:cf()},I=Vv(e.mode),O=Vv(e.reValidateMode),L=e.criteriaMode===sr.all,j=N=>H=>{clearTimeout(y),y=setTimeout(N,H)},F=async N=>{if(!e.disabled&&(_.isValid||N)){const H=e.resolver?mn((await S()).errors):await C(i,!0);H!==t.isValid&&w.state.next({isValid:H})}},U=(N,H)=>{!e.disabled&&(_.isValidating||_.validatingFields)&&((N||Array.from(d.mount)).forEach(K=>{K&&(H?rt(t.validatingFields,K,H):xt(t.validatingFields,K))}),w.state.next({validatingFields:t.validatingFields,isValidating:!mn(t.validatingFields)}))},B=(N,H=[],K,le,ae=!0,re=!0)=>{if(le&&K&&!e.disabled){if(c.action=!0,re&&Array.isArray(me(i,N))){const Ie=K(me(i,N),le.argA,le.argB);ae&&rt(i,N,Ie)}if(re&&Array.isArray(me(t.errors,N))){const Ie=K(me(t.errors,N),le.argA,le.argB);ae&&rt(t.errors,N,Ie),qP(t.errors,N)}if(_.touchedFields&&re&&Array.isArray(me(t.touchedFields,N))){const Ie=K(me(t.touchedFields,N),le.argA,le.argB);ae&&rt(t.touchedFields,N,Ie)}_.dirtyFields&&(t.dirtyFields=Za(o,a)),w.state.next({name:N,isDirty:x(N,H),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else rt(a,N,H)},te=(N,H)=>{rt(t.errors,N,H),w.state.next({errors:t.errors})},ce=N=>{t.errors=N,w.state.next({errors:t.errors,isValid:!1})},ue=(N,H,K,le)=>{const ae=me(i,N);if(ae){const re=me(a,N,At(K)?me(o,N):K);At(re)||le&&le.defaultChecked||H?rt(a,N,H?re:df(ae._f)):Ye(N,re),c.mount&&F()}},fe=(N,H,K,le,ae)=>{let re=!1,Ie=!1;const Ve={name:N};if(!e.disabled){const Ue=!!(me(i,N)&&me(i,N)._f&&me(i,N)._f.disabled);if(!K||le){_.isDirty&&(Ie=t.isDirty,t.isDirty=Ve.isDirty=x(),re=Ie!==Ve.isDirty);const je=Ue||Ui(me(o,N),H);Ie=!!(!Ue&&me(t.dirtyFields,N)),je||Ue?xt(t.dirtyFields,N):rt(t.dirtyFields,N,!0),Ve.dirtyFields=t.dirtyFields,re=re||_.dirtyFields&&Ie!==!je}if(K){const je=me(t.touchedFields,N);je||(rt(t.touchedFields,N,K),Ve.touchedFields=t.touchedFields,re=re||_.touchedFields&&je!==K)}re&&ae&&w.state.next(Ve)}return re?Ve:{}},P=(N,H,K,le)=>{const ae=me(t.errors,N),re=_.isValid&&wr(H)&&t.isValid!==H;if(e.delayError&&K?(p=j(()=>te(N,K)),p(e.delayError)):(clearTimeout(y),p=null,K?rt(t.errors,N,K):xt(t.errors,N)),(K?!Ui(ae,K):ae)||!mn(le)||re){const Ie={...le,...re&&wr(H)?{isValid:H}:{},errors:t.errors,name:N};t={...t,...Ie},w.state.next(Ie)}},S=async N=>{U(N,!0);const H=await e.resolver(a,e.context,jP(N||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return U(N),H},R=async N=>{const{errors:H}=await S(N);if(N)for(const K of N){const le=me(H,K);le?rt(t.errors,K,le):xt(t.errors,K)}else t.errors=H;return H},C=async(N,H,K={valid:!0})=>{for(const le in N){const ae=N[le];if(ae){const{_f:re,...Ie}=ae;if(re){const Ve=d.array.has(re.name),Ue=ae._f&&$P(ae._f);Ue&&_.validatingFields&&U([le],!0);const je=await Uv(ae,d.disabled,a,L,e.shouldUseNativeValidation&&!H,Ve);if(Ue&&_.validatingFields&&U([le]),je[re.name]&&(K.valid=!1,H))break;!H&&(me(je,re.name)?Ve?LP(t.errors,je,re.name):rt(t.errors,re.name,je[re.name]):xt(t.errors,re.name))}!mn(Ie)&&await C(Ie,H,K)}}return K.valid},D=()=>{for(const N of d.unMount){const H=me(i,N);H&&(H._f.refs?H._f.refs.every(K=>!hf(K)):!hf(H._f.ref))&&Me(N)}d.unMount=new Set},x=(N,H)=>!e.disabled&&(N&&H&&rt(a,N,H),!Ui(M(),o)),A=(N,H,K)=>bP(N,d,{...c.mount?a:At(H)?o:Sr(N)?{[N]:H}:H},K,H),Ne=N=>gh(me(c.mount?a:o,N,e.shouldUnregister?me(o,N,[]):[])),Ye=(N,H,K={})=>{const le=me(i,N);let ae=H;if(le){const re=le._f;re&&(!re.disabled&&rt(a,N,OE(H,re)),ae=qc(re.ref)&&sn(H)?"":H,DE(re.ref)?[...re.ref.options].forEach(Ie=>Ie.selected=ae.includes(Ie.value)):re.refs?bl(re.ref)?re.refs.length>1?re.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(ae)?!!ae.find(Ve=>Ve===Ie.value):ae===Ie.value)):re.refs[0]&&(re.refs[0].checked=!!ae):re.refs.forEach(Ie=>Ie.checked=Ie.value===ae):Wp(re.ref)?re.ref.value="":(re.ref.value=ae,re.ref.type||w.values.next({name:N,values:{...a}})))}(K.shouldDirty||K.shouldTouch)&&fe(N,ae,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&he(N)},nt=(N,H,K)=>{for(const le in H){const ae=H[le],re=`${N}.${le}`,Ie=me(i,re);(d.array.has(N)||Et(ae)||Ie&&!Ie._f)&&!xs(ae)?nt(re,ae,K):Ye(re,ae,K)}},Le=(N,H,K={})=>{const le=me(i,N),ae=d.array.has(N),re=Mn(H);rt(a,N,re),ae?(w.array.next({name:N,values:{...a}}),(_.isDirty||_.dirtyFields)&&K.shouldDirty&&w.state.next({name:N,dirtyFields:Za(o,a),isDirty:x(N,re)})):le&&!le._f&&!sn(re)?nt(N,re,K):Ye(N,re,K),Ov(N,d)&&w.state.next({...t}),w.values.next({name:c.mount?N:void 0,values:{...a}})},se=async N=>{c.mount=!0;const H=N.target;let K=H.name,le=!0;const ae=me(i,K),re=()=>H.type?df(ae._f):CP(N),Ie=Ve=>{le=Number.isNaN(Ve)||xs(Ve)&&isNaN(Ve.getTime())||Ui(Ve,me(a,K,Ve))};if(ae){let Ve,Ue;const je=re(),Vt=N.type===Nv.BLUR||N.type===Nv.FOCUS_OUT,es=!zP(ae._f)&&!e.resolver&&!me(t.errors,K)&&!ae._f.deps||BP(Vt,me(t.touchedFields,K),t.isSubmitted,O,I),kn=Ov(K,d,Vt);rt(a,K,je),Vt?(ae._f.onBlur&&ae._f.onBlur(N),p&&p(0)):ae._f.onChange&&ae._f.onChange(N);const Bn=fe(K,je,Vt,!1),Or=!mn(Bn)||kn;if(!Vt&&w.values.next({name:K,type:N.type,values:{...a}}),es)return _.isValid&&(e.mode==="onBlur"&&Vt?F():Vt||F()),Or&&w.state.next({name:K,...kn?{}:Bn});if(!Vt&&kn&&w.state.next({...t}),e.resolver){const{errors:ci}=await S([K]);if(Ie(je),le){const ts=$v(t.errors,i,K),hi=$v(ci,i,ts.name||K);Ve=hi.error,K=hi.name,Ue=mn(ci)}}else U([K],!0),Ve=(await Uv(ae,d.disabled,a,L,e.shouldUseNativeValidation))[K],U([K]),Ie(je),le&&(Ve?Ue=!1:_.isValid&&(Ue=await C(i,!0)));le&&(ae._f.deps&&he(ae._f.deps),P(K,Ue,Ve,Bn))}},we=(N,H)=>{if(me(t.errors,H)&&N.focus)return N.focus(),1},he=async(N,H={})=>{let K,le;const ae=Ec(N);if(e.resolver){const re=await R(At(N)?N:ae);K=mn(re),le=N?!ae.some(Ie=>me(re,Ie)):K}else N?(le=(await Promise.all(ae.map(async re=>{const Ie=me(i,re);return await C(Ie&&Ie._f?{[re]:Ie}:Ie)}))).every(Boolean),!(!le&&!t.isValid)&&F()):le=K=await C(i);return w.state.next({...!Sr(N)||_.isValid&&K!==t.isValid?{}:{name:N},...e.resolver||!N?{isValid:K}:{},errors:t.errors}),H.shouldFocus&&!le&&cl(i,we,N?ae:d.mount),le},M=N=>{const H={...c.mount?a:o};return At(N)?H:Sr(N)?me(H,N):N.map(K=>me(H,K))},Y=(N,H)=>({invalid:!!me((H||t).errors,N),isDirty:!!me((H||t).dirtyFields,N),error:me((H||t).errors,N),isValidating:!!me(t.validatingFields,N),isTouched:!!me((H||t).touchedFields,N)}),Te=N=>{N&&Ec(N).forEach(H=>xt(t.errors,H)),w.state.next({errors:N?t.errors:{}})},be=(N,H,K)=>{const le=(me(i,N,{_f:{}})._f||{}).ref,ae=me(t.errors,N)||{},{ref:re,message:Ie,type:Ve,...Ue}=ae;rt(t.errors,N,{...Ue,...H,ref:le}),w.state.next({name:N,errors:t.errors,isValid:!1}),K&&K.shouldFocus&&le&&le.focus&&le.focus()},Fe=(N,H)=>Ir(N)?w.values.subscribe({next:K=>N(A(void 0,H),K)}):A(N,H,!0),Me=(N,H={})=>{for(const K of N?Ec(N):d.mount)d.mount.delete(K),d.array.delete(K),H.keepValue||(xt(i,K),xt(a,K)),!H.keepError&&xt(t.errors,K),!H.keepDirty&&xt(t.dirtyFields,K),!H.keepTouched&&xt(t.touchedFields,K),!H.keepIsValidating&&xt(t.validatingFields,K),!e.shouldUnregister&&!H.keepDefaultValue&&xt(o,K);w.values.next({values:{...a}}),w.state.next({...t,...H.keepDirty?{isDirty:x()}:{}}),!H.keepIsValid&&F()},Ge=({disabled:N,name:H,field:K,fields:le})=>{(wr(N)&&c.mount||N||d.disabled.has(H))&&(N?d.disabled.add(H):d.disabled.delete(H),fe(H,df(K?K._f:me(le,H)._f),!1,!1,!0))},qe=(N,H={})=>{let K=me(i,N);const le=wr(H.disabled)||wr(e.disabled);return rt(i,N,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:N}},name:N,mount:!0,...H}}),d.mount.add(N),K?Ge({field:K,disabled:wr(H.disabled)?H.disabled:e.disabled,name:N}):ue(N,!0,H.value),{...le?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:el(H.min),max:el(H.max),minLength:el(H.minLength),maxLength:el(H.maxLength),pattern:el(H.pattern)}:{},name:N,onChange:se,onBlur:se,ref:ae=>{if(ae){qe(N,H),K=me(i,N);const re=At(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,Ie=UP(re),Ve=K._f.refs||[];if(Ie?Ve.find(Ue=>Ue===re):re===K._f.ref)return;rt(i,N,{_f:{...K._f,...Ie?{refs:[...Ve.filter(hf),re,...Array.isArray(me(o,N))?[{}]:[]],ref:{type:re.type,name:N}}:{ref:re}}}),ue(N,!1,void 0,re)}else K=me(i,N,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(xP(d.array,N)&&c.action)&&d.unMount.add(N)}}},et=()=>e.shouldFocusError&&cl(i,we,d.mount),wt=N=>{wr(N)&&(w.state.next({disabled:N}),cl(i,(H,K)=>{const le=me(i,K);le&&(H.disabled=le._f.disabled||N,Array.isArray(le._f.refs)&&le._f.refs.forEach(ae=>{ae.disabled=le._f.disabled||N}))},0,!1))},Rn=(N,H)=>async K=>{let le;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let ae=Mn(a);if(d.disabled.size)for(const re of d.disabled)rt(ae,re,void 0);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:Ie}=await S();t.errors=re,ae=Ie}else await C(i);if(xt(t.errors,"root"),mn(t.errors)){w.state.next({errors:{}});try{await N(ae,K)}catch(re){le=re}}else H&&await H({...t.errors},K),et(),setTimeout(et);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mn(t.errors)&&!le,submitCount:t.submitCount+1,errors:t.errors}),le)throw le},ui=(N,H={})=>{me(i,N)&&(At(H.defaultValue)?Le(N,Mn(me(o,N))):(Le(N,H.defaultValue),rt(o,N,Mn(H.defaultValue))),H.keepTouched||xt(t.touchedFields,N),H.keepDirty||(xt(t.dirtyFields,N),t.isDirty=H.defaultValue?x(N,Mn(me(o,N))):x()),H.keepError||(xt(t.errors,N),_.isValid&&F()),w.state.next({...t}))},zn=(N,H={})=>{const K=N?Mn(N):o,le=Mn(K),ae=mn(N),re=ae?o:le;if(H.keepDefaultValues||(o=K),!H.keepValues){if(H.keepDirtyValues){const Ie=new Set([...d.mount,...Object.keys(Za(o,a))]);for(const Ve of Array.from(Ie))me(t.dirtyFields,Ve)?rt(re,Ve,me(a,Ve)):Le(Ve,me(re,Ve))}else{if(qp&&At(N))for(const Ie of d.mount){const Ve=me(i,Ie);if(Ve&&Ve._f){const Ue=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(qc(Ue)){const je=Ue.closest("form");if(je){je.reset();break}}}}i={}}a=e.shouldUnregister?H.keepDefaultValues?Mn(o):{}:Mn(re),w.array.next({values:{...re}}),w.values.next({values:{...re}})}d={mount:H.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!H.keepIsValid||!!H.keepDirtyValues,c.watch=!!e.shouldUnregister,w.state.next({submitCount:H.keepSubmitCount?t.submitCount:0,isDirty:ae?!1:H.keepDirty?t.isDirty:!!(H.keepDefaultValues&&!Ui(N,o)),isSubmitted:H.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ae?{}:H.keepDirtyValues?H.keepDefaultValues&&a?Za(o,a):t.dirtyFields:H.keepDefaultValues&&N?Za(o,N):H.keepDirty?t.dirtyFields:{},touchedFields:H.keepTouched?t.touchedFields:{},errors:H.keepErrors?t.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ur=(N,H)=>zn(Ir(N)?N(a):N,H);return{control:{register:qe,unregister:Me,getFieldState:Y,handleSubmit:Rn,setError:be,_executeSchema:S,_getWatch:A,_getDirty:x,_updateValid:F,_removeUnmounted:D,_updateFieldArray:B,_updateDisabledField:Ge,_getFieldArray:Ne,_reset:zn,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(N=>{ur(N,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:N=>{t={...t,...N}},_disableForm:wt,_subjects:w,_proxyFormState:_,_setErrors:ce,get _fields(){return i},get _formValues(){return a},get _state(){return c},set _state(N){c=N},get _defaultValues(){return o},get _names(){return d},set _names(N){d=N},get _formState(){return t},set _formState(N){t=N},get _options(){return e},set _options(N){e={...e,...N}}},trigger:he,register:qe,handleSubmit:Rn,watch:Fe,setValue:Le,getValues:M,reset:ur,resetField:ui,clearErrors:Te,unregister:Me,setError:be,setFocus:(N,H={})=>{const K=me(i,N),le=K&&K._f;if(le){const ae=le.refs?le.refs[0]:le.ref;ae.focus&&(ae.focus(),H.shouldSelect&&Ir(ae.select)&&ae.select())}},getFieldState:Y}}function GP(n={}){const e=Un.useRef(void 0),t=Un.useRef(void 0),[i,o]=Un.useState({isDirty:!1,isValidating:!1,isLoading:Ir(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Ir(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...WP(n),formState:i});const a=e.current.control;return a._options=n,OP({subject:a._subjects.state,next:c=>{VP(c,a._proxyFormState,a._updateFormState)&&o({...a._formState})}}),Un.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),Un.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==i.isDirty&&a._subjects.state.next({isDirty:c})}},[a,i.isDirty]),Un.useEffect(()=>{n.values&&!Ui(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,o(c=>({...c}))):a._resetDefaultValues()},[n.values,a]),Un.useEffect(()=>{n.errors&&a._setErrors(n.errors)},[n.errors,a]),Un.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Un.useEffect(()=>{n.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[n.shouldUnregister,a]),e.current.formState=NP(i,a),e.current}var ff,zv;function KP(){if(zv)return ff;zv=1;function n(U){this._maxSize=U,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(U){return this._values[U]},n.prototype.set=function(U,B){return this._size>=this._maxSize&&this.clear(),U in this._values||this._size++,this._values[U]=B};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,c=512,d=new n(c),p=new n(c),y=new n(c);ff={Cache:n,split:w,normalizePath:_,setter:function(U){var B=_(U);return p.get(U)||p.set(U,function(ce,ue){for(var fe=0,P=B.length,S=ce;fe<P-1;){var R=B[fe];if(R==="__proto__"||R==="constructor"||R==="prototype")return ce;S=S[B[fe++]]}S[B[fe]]=ue})},getter:function(U,B){var te=_(U);return y.get(U)||y.set(U,function(ue){for(var fe=0,P=te.length;fe<P;)if(ue!=null||!B)ue=ue[te[fe++]];else return;return ue})},join:function(U){return U.reduce(function(B,te){return B+(O(te)||t.test(te)?"["+te+"]":(B?".":"")+te)},"")},forEach:function(U,B,te){I(Array.isArray(U)?U:w(U),B,te)}};function _(U){return d.get(U)||d.set(U,w(U).map(function(B){return B.replace(a,"$2")}))}function w(U){return U.match(e)||[""]}function I(U,B,te){var ce=U.length,ue,fe,P,S;for(fe=0;fe<ce;fe++)ue=U[fe],ue&&(F(ue)&&(ue='"'+ue+'"'),S=O(ue),P=!S&&/^\d+$/.test(ue),B.call(te,ue,S,P,fe,U))}function O(U){return typeof U=="string"&&U&&["'",'"'].indexOf(U.charAt(0))!==-1}function L(U){return U.match(i)&&!U.match(t)}function j(U){return o.test(U)}function F(U){return!O(U)&&(L(U)||j(U))}return ff}var Os=KP(),pf,Bv;function QP(){if(Bv)return pf;Bv=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=_=>_.match(n)||[],t=_=>_[0].toUpperCase()+_.slice(1),i=(_,w)=>e(_).join(w).toLowerCase(),o=_=>e(_).reduce((w,I)=>`${w}${w?I[0].toUpperCase()+I.slice(1).toLowerCase():I.toLowerCase()}`,"");return pf={words:e,upperFirst:t,camelCase:o,pascalCase:_=>t(o(_)),snakeCase:_=>i(_,"_"),kebabCase:_=>i(_,"-"),sentenceCase:_=>t(i(_," ")),titleCase:_=>e(_).map(t).join(" ")},pf}var mf=QP(),sc={exports:{}},qv;function YP(){if(qv)return sc.exports;qv=1,sc.exports=function(o){return n(e(o),o)},sc.exports.array=n;function n(o,a){var c=o.length,d=new Array(c),p={},y=c,_=t(a),w=i(o);for(a.forEach(function(O){if(!w.has(O[0])||!w.has(O[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});y--;)p[y]||I(o[y],y,new Set);return d;function I(O,L,j){if(j.has(O)){var F;try{F=", node was:"+JSON.stringify(O)}catch{F=""}throw new Error("Cyclic dependency"+F)}if(!w.has(O))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(O));if(!p[L]){p[L]=!0;var U=_.get(O)||new Set;if(U=Array.from(U),L=U.length){j.add(O);do{var B=U[--L];I(B,w.get(B),j)}while(L);j.delete(O)}d[--c]=O}}}function e(o){for(var a=new Set,c=0,d=o.length;c<d;c++){var p=o[c];a.add(p[0]),a.add(p[1])}return Array.from(a)}function t(o){for(var a=new Map,c=0,d=o.length;c<d;c++){var p=o[c];a.has(p[0])||a.set(p[0],new Set),a.has(p[1])||a.set(p[1],new Set),a.get(p[0]).add(p[1])}return a}function i(o){for(var a=new Map,c=0,d=o.length;c<d;c++)a.set(o[c],c);return a}return sc.exports}var XP=YP();const JP=Xv(XP),ZP=Object.prototype.toString,ex=Error.prototype.toString,tx=RegExp.prototype.toString,nx=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",rx=/^Symbol\((.*)\)(.*)$/;function ix(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function Hv(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return ix(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return nx.call(n).replace(rx,"Symbol($1)");const i=ZP.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+ex.call(n)+"]":i==="RegExp"?tx.call(n):null}function Wi(n,e){let t=Hv(n,e);return t!==null?t:JSON.stringify(n,function(i,o){let a=Hv(this[i],e);return a!==null?a:o},2)}function bE(n){return n==null?[]:[].concat(n)}let LE,FE,ME,sx=/\$\{\s*(\w+)\s*\}/g;LE=Symbol.toStringTag;class Wv{constructor(e,t,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[LE]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=o,this.errors=[],this.inner=[],bE(e).forEach(a=>{if(yn.isError(a)){this.errors.push(...a.errors);const c=a.inner.length?a.inner:[a];this.inner.push(...c)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}FE=Symbol.hasInstance;ME=Symbol.toStringTag;class yn extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(sx,(o,a)=>Wi(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,o,a){const c=new Wv(e,t,i,o);if(a)return c;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[ME]="Error",this.name=c.name,this.message=c.message,this.type=c.type,this.value=c.value,this.path=c.path,this.errors=c.errors,this.inner=c.inner,Error.captureStackTrace&&Error.captureStackTrace(this,yn)}static[FE](e){return Wv[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Tr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const o=i!=null&&i!==t?` (cast from the value \`${Wi(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Wi(t,!0)}\``+o:`${n} must match the configured type. The validated value was: \`${Wi(t,!0)}\``+o}},pn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ox={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Bf={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ax={isValue:"${path} field must be ${value}"},Tc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},lx={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},ux={notType:n=>{const{path:e,value:t,spec:i}=n,o=i.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${Wi(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${Wi(t,!0)}\``}return yn.formatError(Tr.notType,n)}};Object.assign(Object.create(null),{mixed:Tr,string:pn,number:ox,date:Bf,object:Tc,array:lx,boolean:ax,tuple:ux});const Kp=n=>n&&n.__isYupSchema__;class Gc{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:a}=t,c=typeof i=="function"?i:(...d)=>d.every(p=>p===i);return new Gc(e,(d,p)=>{var y;let _=c(...d)?o:a;return(y=_==null?void 0:_(p))!=null?y:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(a=>a.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(i,e,t);if(o===void 0||o===e)return e;if(!Kp(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const oc={context:"$",value:"."};class Bs{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oc.context,this.isValue=this.key[0]===oc.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?oc.context:this.isValue?oc.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Os.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let o=this.isContext?i:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Bs.prototype.__isYupRef=!0;const Ds=n=>n==null;function bo(n){function e({value:t,path:i="",options:o,originalValue:a,schema:c},d,p){const{name:y,test:_,params:w,message:I,skipAbsent:O}=n;let{parent:L,context:j,abortEarly:F=c.spec.abortEarly,disableStackTrace:U=c.spec.disableStackTrace}=o;function B(D){return Bs.isRef(D)?D.getValue(t,L,j):D}function te(D={}){const x=Object.assign({value:t,originalValue:a,label:c.spec.label,path:D.path||i,spec:c.spec,disableStackTrace:D.disableStackTrace||U},w,D.params);for(const Ne of Object.keys(x))x[Ne]=B(x[Ne]);const A=new yn(yn.formatError(D.message||I,x),t,x.path,D.type||y,x.disableStackTrace);return A.params=x,A}const ce=F?d:p;let ue={path:i,parent:L,type:y,from:o.from,createError:te,resolve:B,options:o,originalValue:a,schema:c};const fe=D=>{yn.isError(D)?ce(D):D?p(null):ce(te())},P=D=>{yn.isError(D)?ce(D):d(D)};if(O&&Ds(t))return fe(!0);let R;try{var C;if(R=_.call(ue,t,ue),typeof((C=R)==null?void 0:C.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${ue.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(R).then(fe,P)}}catch(D){P(D);return}fe(R)}return e.OPTIONS=n,e}function cx(n,e,t,i=t){let o,a,c;return e?(Os.forEach(e,(d,p,y)=>{let _=p?d.slice(1,d.length-1):d;n=n.resolve({context:i,parent:o,value:t});let w=n.type==="tuple",I=y?parseInt(_,10):0;if(n.innerType||w){if(w&&!y)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${c}" must contain an index to the tuple element, e.g. "${c}[0]"`);if(t&&I>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[I],n=w?n.spec.types[I]:n.innerType}if(!y){if(!n.fields||!n.fields[_])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${c} which is a type: "${n.type}")`);o=t,t=t&&t[_],n=n.fields[_]}a=_,c=p?"["+d+"]":"."+d}),{schema:n,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:n}}class Kc extends Set{describe(){const e=[];for(const t of this.values())e.push(Bs.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new Kc(this.values())}merge(e,t){const i=this.clone();return e.forEach(o=>i.add(o)),t.forEach(o=>i.delete(o)),i}}function $o(n,e=new Map){if(Kp(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=$o(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,o]of n.entries())t.set(i,$o(o,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add($o(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,o]of Object.entries(n))t[i]=$o(o,e)}else throw Error(`Unable to clone ${n}`);return t}class Nr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Kc,this._blacklist=new Kc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Tr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=$o(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const o=Object.assign({},t.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(a=>{e.tests.forEach(c=>{a.test(c.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((o,a)=>a.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,o,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",a=i._cast(e,t);if(t.assert!==!1&&!i.isType(a)){if(o&&Ds(a))return a;let c=Wi(e),d=Wi(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${c} 
`+(d!==c?`result of cast: ${d}`:""))}return a}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,o){let{path:a,originalValue:c=e,strict:d=this.spec.strict}=t,p=e;d||(p=this._cast(p,Object.assign({assert:!1},t)));let y=[];for(let _ of Object.values(this.internalTests))_&&y.push(_);this.runTests({path:a,value:p,originalValue:c,options:t,tests:y},i,_=>{if(_.length)return o(_,p);this.runTests({path:a,value:p,originalValue:c,options:t,tests:this.tests},i,o)})}runTests(e,t,i){let o=!1,{tests:a,value:c,originalValue:d,path:p,options:y}=e,_=j=>{o||(o=!0,t(j,c))},w=j=>{o||(o=!0,i(j,c))},I=a.length,O=[];if(!I)return w([]);let L={value:c,originalValue:d,path:p,options:y,schema:this};for(let j=0;j<a.length;j++){const F=a[j];F(L,_,function(B){B&&(Array.isArray(B)?O.push(...B):O.push(B)),--I<=0&&w(O)})}}asNestedTest({key:e,index:t,parent:i,parentPath:o,originalParent:a,options:c}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof d=="number";let y=i[d];const _=Object.assign({},c,{strict:!0,parent:i,value:y,originalValue:a[d],key:void 0,[p?"index":"key"]:d,path:p||d.includes(".")?`${o||""}[${p?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(w,I,O)=>this.resolve(_)._validate(y,_,I,O)}validate(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),a=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((c,d)=>o._validate(e,t,(p,y)=>{yn.isError(p)&&(p.value=y),d(p)},(p,y)=>{p.length?d(new yn(p,y,void 0,void 0,a)):c(y)}))}validateSync(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),a,c=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(d,p)=>{throw yn.isError(d)&&(d.value=p),d},(d,p)=>{if(d.length)throw new yn(d,e,void 0,void 0,c);a=p}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(yn.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(yn.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):$o(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=bo({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=bo({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Tr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Tr.notNull){return this.nullability(!1,e)}required(e=Tr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Tr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=bo(t),a=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(c=>!(c.OPTIONS.name===t.name&&(a||c.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),o=bE(e).map(a=>new Bs(a));return o.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof t=="function"?new Gc(o,t):Gc.fromOptions(o,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=bo({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Tr.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=bo({message:t,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,c=a.resolveAll(this.resolve);return c.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:c}})}}),i}notOneOf(e,t=Tr.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=bo({message:t,name:"notOneOf",test(o){let a=this.schema._blacklist,c=a.resolveAll(this.resolve);return c.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:c}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:a,nullable:c}=t.spec;return{meta:o,label:i,optional:a,nullable:c,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(p=>({name:p.OPTIONS.name,params:p.OPTIONS.params})).filter((p,y,_)=>_.findIndex(w=>w.name===p.name)===y)}}}Nr.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Nr.prototype[`${n}At`]=function(e,t,i={}){const{parent:o,parentPath:a,schema:c}=cx(this,e,t,i.context);return c[n](o&&o[a],Object.assign({},i,{parent:o,path:e}))};for(const n of["equals","is"])Nr.prototype[n]=Nr.prototype.oneOf;for(const n of["not","nope"])Nr.prototype[n]=Nr.prototype.notOneOf;const hx=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function dx(n){const e=qf(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function qf(n){var e,t;const i=hx.exec(n);return i?{year:Yr(i[1]),month:Yr(i[2],1)-1,day:Yr(i[3],1),hour:Yr(i[4]),minute:Yr(i[5]),second:Yr(i[6]),millisecond:i[7]?Yr(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Yr(i[10]),minuteOffset:Yr(i[11])}:null}function Yr(n,e=0){return Number(n)||e}let fx=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,px=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,mx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,gx="^\\d{4}-\\d{2}-\\d{2}",yx="\\d{2}:\\d{2}:\\d{2}",vx="(([+-]\\d{2}(:?\\d{2})?)|Z)",_x=new RegExp(`${gx}T${yx}(\\.\\d+)?${vx}$`),Ex=n=>Ds(n)||n===n.trim(),wx={}.toString();function Hf(){return new UE}class UE extends Nr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===wx?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Tr.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=pn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=pn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=pn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,o,a;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:o,name:a}=t:o=t),this.test({name:a||"matches",message:o||pn.matches,params:{regex:e},skipAbsent:!0,test:c=>c===""&&i||c.search(e)!==-1})}email(e=pn.email){return this.matches(fx,{name:"email",message:e,excludeEmptyString:!0})}url(e=pn.url){return this.matches(px,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=pn.uuid){return this.matches(mx,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,o;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:o=void 0}=e:t=e),this.matches(_x,{name:"datetime",message:t||pn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||pn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const c=qf(a);return c?!!c.z:!1}}).test({name:"datetime_precision",message:t||pn.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const c=qf(a);return c?c.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=pn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Ex})}lowercase(e=pn.lowercase){return this.transform(t=>Ds(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ds(t)||t===t.toLowerCase()})}uppercase(e=pn.uppercase){return this.transform(t=>Ds(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ds(t)||t===t.toUpperCase()})}}Hf.prototype=UE.prototype;let Tx=new Date(""),Ix=n=>Object.prototype.toString.call(n)==="[object Date]";class yh extends Nr{constructor(){super({type:"date",check(e){return Ix(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=dx(e),isNaN(e)?yh.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(Bs.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,t=Bf.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,t=Bf.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}yh.INVALID_DATE=Tx;yh.prototype;function Sx(n,e=[]){let t=[],i=new Set,o=new Set(e.map(([c,d])=>`${c}-${d}`));function a(c,d){let p=Os.split(c)[0];i.add(p),o.has(`${d}-${p}`)||t.push([d,p])}for(const c of Object.keys(n)){let d=n[c];i.add(c),Bs.isRef(d)&&d.isSibling?a(d.path,c):Kp(d)&&"deps"in d&&d.deps.forEach(p=>a(p,c))}return JP.array(Array.from(i),t).reverse()}function Gv(n,e){let t=1/0;return n.some((i,o)=>{var a;if((a=e.path)!=null&&a.includes(i))return t=o,!0}),t}function jE(n){return(e,t)=>Gv(n,e)-Gv(n,t)}const Ax=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Ic(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Ic(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Ic(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Ic)}):"optional"in n?n.optional():n}const Rx=(n,e)=>{const t=[...Os.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),o=Os.getter(Os.join(t),!0)(n);return!!(o&&i in o)};let Kv=n=>Object.prototype.toString.call(n)==="[object Object]";function Qv(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const kx=jE([]);function $E(n){return new zE(n)}class zE extends Nr{constructor(e){super({type:"object",check(t){return Kv(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=kx,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let a=this.fields,c=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(w=>!this._nodes.includes(w))),p={},y=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),_=!1;for(const w of d){let I=a[w],O=w in o;if(I){let L,j=o[w];y.path=(t.path?`${t.path}.`:"")+w,I=I.resolve({value:j,context:t.context,parent:p});let F=I instanceof Nr?I.spec:void 0,U=F==null?void 0:F.strict;if(F!=null&&F.strip){_=_||w in o;continue}L=!t.__validating||!U?I.cast(o[w],y):o[w],L!==void 0&&(p[w]=L)}else O&&!c&&(p[w]=o[w]);(O!==w in p||p[w]!==o[w])&&(_=!0)}return _?p:o}_validate(e,t={},i,o){let{from:a=[],originalValue:c=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:c},...a],t.__validating=!0,t.originalValue=c,super._validate(e,t,i,(p,y)=>{if(!d||!Kv(y)){o(p,y);return}c=c||y;let _=[];for(let w of this._nodes){let I=this.fields[w];!I||Bs.isRef(I)||_.push(I.asNestedTest({options:t,key:w,parent:y,parentPath:t.path,originalParent:c}))}this.runTests({tests:_,value:y,originalValue:c,options:t},i,w=>{o(w.sort(this._sortErrors).concat(p),y)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[o,a]of Object.entries(this.fields)){const c=i[o];i[o]=c===void 0?a:c}return t.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var o;const a=this.fields[i];let c=e;(o=c)!=null&&o.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),t[i]=a&&"getDefault"in a?a.getDefault(c):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=Sx(e,t),i._sortErrors=jE(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Ic(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let o=Os.getter(e,!0);return this.transform(a=>{if(!a)return a;let c=a;return Rx(a,e)&&(c=Object.assign({},a),i||delete c[e],c[t]=o(a)),c})}json(){return this.transform(Ax)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Tc.exact,test(t){if(t==null)return!0;const i=Qv(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Tc.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const a=Qv(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=Tc.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const o of Object.keys(t))i[e(o)]=t[o];return i})}camelCase(){return this.transformKeys(mf.camelCase)}snakeCase(){return this.transformKeys(mf.snakeCase)}constantCase(){return this.transformKeys(e=>mf.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[a,c]of Object.entries(t.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[a]})),i.fields[a]=c.describe(d)}return i}}$E.prototype=zE.prototype;const Yv=(n,e,t)=>{if(n&&"reportValidity"in n){const i=me(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},BE=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?Yv(i.ref,t,n):i.refs&&i.refs.forEach(o=>Yv(o,t,n))}},Cx=(n,e)=>{e.shouldUseNativeValidation&&BE(n,e);const t={};for(const i in n){const o=me(e.fields,i),a=Object.assign(n[i]||{},{ref:o&&o.ref});if(Px(e.names||Object.keys(n),i)){const c=Object.assign({},me(t,i));rt(c,"root",a),rt(t,i,c)}else rt(t,i,a)}return t},Px=(n,e)=>n.some(t=>t.startsWith(e+"."));function xx(n,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),function(i,o,a){try{return Promise.resolve(function(c,d){try{var p=(e.context,Promise.resolve(n[t.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},e,{context:o}))).then(function(y){return a.shouldUseNativeValidation&&BE({},a),{values:t.raw?i:y,errors:{}}}))}catch(y){return d(y)}return p&&p.then?p.then(void 0,d):p}(0,function(c){if(!c.inner)throw c;return{values:{},errors:Cx((d=c,p=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(d.inner||[]).reduce(function(y,_){if(y[_.path]||(y[_.path]={message:_.message,type:_.type}),p){var w=y[_.path].types,I=w&&w[_.type];y[_.path]=CE(_.path,p,y,_.type,I?[].concat(I,_.message):_.message)}return y},{})),a)};var d,p}))}catch(c){return Promise.reject(c)}}}const Dx=$E().shape({title:Hf().required("You must provide a title"),description:Hf().required("You must provide a description")}),Nx=()=>{var d,p;const[n]=Bp(wl),e=Kf(),{register:t,handleSubmit:i,formState:{errors:o}}=GP({resolver:xx(Dx)}),a=Ip(Bc,"posts"),c=async y=>{console.log(y),await H0(a,{...y,username:n==null?void 0:n.displayName,userId:n==null?void 0:n.uid}),e("/")};return ke.jsxs("form",{onSubmit:i(c),children:[ke.jsx("input",{placeholder:"Title...",...t("title")}),ke.jsxs("p",{style:{color:"red"},children:[" ",(d=o.title)==null?void 0:d.message]}),ke.jsx("textarea",{placeholder:"Description...",...t("description")}),ke.jsxs("p",{style:{color:"red"},children:[" ",(p=o.description)==null?void 0:p.message]}),ke.jsx("input",{type:"submit"})]})},Vx=()=>ke.jsx("div",{children:ke.jsx(Nx,{})});function Ox(){return ke.jsx("div",{className:"App",children:ke.jsxs(pI,{children:[ke.jsx(kP,{}),ke.jsxs(qT,{children:[ke.jsx(ac,{path:"/",element:ke.jsx(AP,{})}),ke.jsx(ac,{path:"/login",element:ke.jsx(RP,{})}),ke.jsx(ac,{path:"/createpost",element:ke.jsx(Vx,{})})]})]})})}eT.createRoot(document.getElementById("root")).render(ke.jsx(Q.StrictMode,{children:ke.jsx(Ox,{})}));
